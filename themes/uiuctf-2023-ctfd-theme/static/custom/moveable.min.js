/*
Copyright (c) 2019 Daybrush
name: moveable
license: MIT
author: Daybrush
repository: https://github.com/daybrush/moveable/blob/master/packages/moveable
version: 0.49.0
*/
!(function (t, e) {
  "object" == typeof exports && "undefined" != typeof module
    ? (module.exports = e())
    : "function" == typeof define && define.amd
    ? define(e)
    : ((t = "undefined" != typeof globalThis ? globalThis : t || self).Moveable = e());
})(this, function () {
  "use strict";
  var a = function (t, e) {
    return (a =
      Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array
        ? function (t, e) {
            t.__proto__ = e;
          }
        : function (t, e) {
            for (var n in e)
              Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
          }))(t, e);
  };
  function s(t, e) {
    if ("function" != typeof e && null !== e)
      throw new TypeError(
        "Class extends value " + String(e) + " is not a constructor or null"
      );
    function n() {
      this.constructor = t;
    }
    a(t, e),
      (t.prototype =
        null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
  }
  var u = function () {
    return (u =
      Object.assign ||
      function (t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
          for (var i in (e = arguments[n]))
            Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        return t;
      }).apply(this, arguments);
  };
  function S(e, n) {
    return function (t) {
      t && (e[n] = t);
    };
  }
  function h(e, n, r) {
    return function (t) {
      t && (e[n][r] = t);
    };
  }
  function c(n, r) {
    return function (t) {
      var e = t.prototype;
      n.forEach(function (t) {
        r(e, t);
      });
    };
  }
  var l = "function",
    f = "object",
    g = "string",
    v = "number",
    E = "undefined",
    C = typeof window !== E,
    D = typeof document !== E && document,
    w = [
      { open: "(", close: ")" },
      { open: '"', close: '"' },
      { open: "'", close: "'" },
      { open: '\\"', close: '\\"' },
      { open: "\\'", close: "\\'" },
    ],
    A = 1e-7,
    M = {
      cm: function (t) {
        return (96 * t) / 2.54;
      },
      mm: function (t) {
        return (96 * t) / 254;
      },
      in: function (t) {
        return 96 * t;
      },
      pt: function (t) {
        return (96 * t) / 72;
      },
      pc: function (t) {
        return (96 * t) / 6;
      },
      "%": function (t, e) {
        return (t * e) / 100;
      },
      vw: function (t, e) {
        return (t / 100) * (e = void 0 === e ? window.innerWidth : e);
      },
      vh: function (t, e) {
        return (t / 100) * (e = void 0 === e ? window.innerHeight : e);
      },
      vmax: function (t, e) {
        return (
          (t / 100) *
          (e = void 0 === e ? Math.max(window.innerWidth, window.innerHeight) : e)
        );
      },
      vmin: function (t, e) {
        return (
          (t / 100) *
          (e = void 0 === e ? Math.min(window.innerWidth, window.innerHeight) : e)
        );
      },
    };
  function R(t, e, n, r) {
    return (t * r + e * n) / (n + r);
  }
  function q(t) {
    return typeof t === E;
  }
  function j(t) {
    return t && typeof t === f;
  }
  function O(t) {
    return Array.isArray(t);
  }
  function x(t) {
    return typeof t === g;
  }
  function P(t) {
    return typeof t === v;
  }
  function k(t) {
    return typeof t === l;
  }
  function N(t, e, n, r, i) {
    if (W(t, e, n)) return n;
    for (var o, a = t, s = e, u = r, c = i, l = n + 1; l < u; ++l) {
      var f = (function (t) {
        var e,
          n,
          r = s[t].trim();
        return r !== a.close || W(a, s, t)
          ? ((e = t),
            -1 ===
            (e = (n = _(c, function (t) {
              return t.open === r;
            }))
              ? N(n, s, t, u, c)
              : e)
              ? ((o = t), "break")
              : void (o = t = e))
          : { value: t };
      })(l);
      if (((l = o), "object" == typeof f)) return f.value;
      if ("break" === f) break;
    }
    return -1;
  }
  function W(t, e, n) {
    return t.ignore
      ? ((e = e.slice(Math.max(n - 3, 0), n + 3).join("")),
        new RegExp(t.ignore).exec(e))
      : null;
  }
  function $(o, t) {
    var t = x(t) ? { separator: t } : t,
      e = t.separator,
      a = void 0 === e ? "," : e,
      s = t.isSeparateFirst,
      u = t.isSeparateOnlyOpenClose,
      e = t.isSeparateOpenClose,
      c = void 0 === e ? u : e,
      e = t.openCloseCharacters,
      l = void 0 === e ? w : e,
      t = l
        .map(function (t) {
          var e = t.open,
            t = t.close;
          return e === t ? e : e + "|" + t;
        })
        .join("|"),
      e = new RegExp("(\\s*" + a + "\\s*|" + t + "|\\s+)", "g"),
      f = o.split(e).filter(function (t) {
        return t && "undefined" !== t;
      }),
      p = f.length,
      d = [],
      h = [];
    function g() {
      return h.length && (d.push(h.join("")), (h = []));
    }
    for (
      var v,
        n = function (t) {
          var e = f[t].trim(),
            n = t,
            r = _(l, function (t) {
              return t.open === e;
            }),
            i = _(l, function (t) {
              return t.close === e;
            });
          if (r) {
            if (-1 !== (n = N(r, f, t, p, l)) && c)
              return (g() && s) || (d.push(f.slice(t, n + 1).join("")), (t = n), s)
                ? ((v = t), "break")
                : ((v = t), "continue");
          } else {
            if (i && !W(i, f, t))
              return (
                (r = (function () {
                  for (var t = 0, e = 0, n = arguments.length; e < n; e++)
                    t += arguments[e].length;
                  for (var r = Array(t), i = 0, e = 0; e < n; e++)
                    for (var o = arguments[e], a = 0, s = o.length; a < s; a++, i++)
                      r[i] = o[a];
                  return r;
                })(l)).splice(l.indexOf(i), 1),
                {
                  value: $(o, {
                    separator: a,
                    isSeparateFirst: s,
                    isSeparateOnlyOpenClose: u,
                    isSeparateOpenClose: c,
                    openCloseCharacters: r,
                  }),
                }
              );
            if (
              ((i = e),
              !(
                ((("" !== (r = a) && " " != r) || ("" !== i && " " != i)) && i !== r) ||
                u
              ))
            )
              return g(), s ? ((v = t), "break") : ((v = t), "continue");
          }
          h.push(f.slice(t, (n = -1 === n ? p - 1 : n) + 1).join("")), (v = t = n);
        },
        r = 0;
      r < p;
      ++r
    ) {
      var i = n(r),
        r = v;
      if ("object" == typeof i) return i.value;
      if ("break" === i) break;
    }
    return h.length && d.push(h.join("")), d;
  }
  function ot(t) {
    return $(t, "");
  }
  function at(t) {
    return $(t, ",");
  }
  function st(t) {
    t = /([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);
    return !t || t.length < 4 ? {} : { prefix: t[1], value: t[2], suffix: t[3] };
  }
  function ut(t) {
    var e,
      n,
      t = /^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);
    return t
      ? ((e = t[1]), (n = t[2]), { prefix: e, unit: t[3], value: parseFloat(n) })
      : { prefix: "", unit: "", value: NaN };
  }
  function ct(t, r) {
    return (
      void 0 === r && (r = "-"),
      t.replace(/([a-z])([A-Z])/g, function (t, e, n) {
        return "" + e + r + n.toLowerCase();
      })
    );
  }
  function lt() {
    return Date.now ? Date.now() : new Date().getTime();
  }
  function ft(t, e, n) {
    void 0 === n && (n = -1);
    for (var r = t.length, i = 0; i < r; ++i) if (e(t[i], i, t)) return i;
    return n;
  }
  function _(t, e, n) {
    e = ft(t, e);
    return -1 < e ? t[e] : n;
  }
  var pt = (function () {
      var n = lt(),
        t =
          C &&
          (window.requestAnimationFrame ||
            window.webkitRequestAnimationFrame ||
            window.mozRequestAnimationFrame ||
            window.msRequestAnimationFrame);
      return t
        ? t.bind(window)
        : function (t) {
            var e = lt();
            return setTimeout(function () {
              t(e - n);
            }, 1e3 / 60);
          };
    })(),
    dt = (function () {
      var t =
        C &&
        (window.cancelAnimationFrame ||
          window.webkitCancelAnimationFrame ||
          window.mozCancelAnimationFrame ||
          window.msCancelAnimationFrame);
      return t
        ? t.bind(window)
        : function (t) {
            clearTimeout(t);
          };
    })();
  function ht(t) {
    return Object.keys(t);
  }
  function Z(t, e) {
    var t = ut(t),
      n = t.value,
      t = t.unit;
    if (j(e)) {
      var r = e[t];
      if (r) {
        if (k(r)) return r(n);
        if (M[t]) return M[t](n, r);
      }
    } else if ("%" === t) return (n * e) / 100;
    return M[t] ? M[t](n) : n;
  }
  function gt(t, e, n) {
    return Math.max(e, Math.min(t, n));
  }
  function vt(t, r, i, e) {
    return (
      void 0 === e && (e = t[0] / t[1]),
      [
        [H(r[0], A), H(r[0] / e, A)],
        [H(r[1] * e, A), H(r[1], A)],
      ].filter(function (t) {
        return t.every(function (t, e) {
          var e = r[e],
            n = H(e, A);
          return i ? t <= e || t <= n : e <= t || n <= t;
        });
      })[0] || t
    );
  }
  function mt(t, n, r, e) {
    var i, o, a, s, u;
    return e
      ? ((i = t[0]),
        (o = t[1]),
        (a = (s = vt(t, n, !1, (e = !0 === e ? i / o : e)))[0]),
        (s = s[1]),
        (u = (e = vt(t, r, !0, e))[0]),
        (e = e[1]),
        i < a || o < s ? ((i = a), (o = s)) : (u < i || e < o) && ((i = u), (o = e)),
        [i, o])
      : t.map(function (t, e) {
          return gt(t, n[e], r[e]);
        });
  }
  function bt(t) {
    for (var e = t.length, n = 0, r = e - 1; 0 <= r; --r) n += t[r];
    return e ? n / e : 0;
  }
  function F(t, e) {
    var n = e[0] - t[0],
      e = e[1] - t[1],
      t = Math.atan2(e, n);
    return 0 <= t ? t : t + 2 * Math.PI;
  }
  function xt(t) {
    n = t;
    var n,
      e = [0, 1].map(function (e) {
        return bt(
          n.map(function (t) {
            return t[e];
          })
        );
      }),
      r = F(e, t[0]),
      e = F(e, t[1]);
    return (r < e && e - r < Math.PI) || (e < r && e - r < -Math.PI) ? 1 : -1;
  }
  function yt(t, e) {
    return Math.sqrt(
      Math.pow((e ? e[0] : 0) - t[0], 2) + Math.pow((e ? e[1] : 0) - t[1], 2)
    );
  }
  function H(t, e) {
    var n;
    return e ? ((n = 1 / e), Math.round(t / e) / n) : t;
  }
  function Et(n, r) {
    n.forEach(function (t, e) {
      n[e] = H(n[e], r);
    });
  }
  function St(t, e) {
    -1 === t.indexOf(e) && t.push(e);
  }
  function T(t, e) {
    return t.classList
      ? t.classList.contains(e)
      : !!t.className.match(new RegExp("(\\s|^)" + e + "(\\s|$)"));
  }
  function Ct(t, e) {
    t.classList ? t.classList.add(e) : (t.className += " " + e);
  }
  function Dt(t, e) {
    t.classList
      ? t.classList.remove(e)
      : ((e = new RegExp("(\\s|^)" + e + "(\\s|$)")),
        (t.className = t.className.replace(e, " ")));
  }
  function m(t, e, n, r) {
    t.addEventListener(e, n, r);
  }
  function b(t, e, n, r) {
    t.removeEventListener(e, n, r);
  }
  function wt(t) {
    return (null == t ? void 0 : t.ownerDocument) || D;
  }
  function _t(t) {
    return wt(t).documentElement;
  }
  function Mt(t) {
    return wt(t).body;
  }
  function Ot(t) {
    return (
      (null == (t = null == t ? void 0 : t.ownerDocument) ? void 0 : t.defaultView) ||
      window
    );
  }
  function Rt(t) {
    return j(t) && t.nodeName && t.nodeType && "ownerDocument" in t;
  }
  var Pt = (function () {
      function t() {
        (this.keys = []), (this.values = []);
      }
      var e = t.prototype;
      return (
        (e.get = function (t) {
          return this.values[this.keys.indexOf(t)];
        }),
        (e.set = function (t, e) {
          var n = this.keys,
            r = this.values,
            i = n.indexOf(t),
            i = -1 === i ? n.length : i;
          (n[i] = t), (r[i] = e);
        }),
        t
      );
    })(),
    Tt = (function () {
      function t() {
        this.object = {};
      }
      var e = t.prototype;
      return (
        (e.get = function (t) {
          return this.object[t];
        }),
        (e.set = function (t, e) {
          this.object[t] = e;
        }),
        t
      );
    })(),
    zt = "function" == typeof Map,
    Gt = (function () {
      function t() {}
      var e = t.prototype;
      return (
        (e.connect = function (t, e) {
          (this.prev = t), (this.next = e), t && (t.next = this), e && (e.prev = this);
        }),
        (e.disconnect = function () {
          var t = this.prev,
            e = this.next;
          t && (t.next = e), e && (e.prev = t);
        }),
        (e.getIndex = function () {
          for (var t = this, e = -1; t; ) (t = t.prev), ++e;
          return e;
        }),
        t
      );
    })();
  var kt = (function () {
    function t(t, e, n, r, i, o, a, s) {
      (this.prevList = t),
        (this.list = e),
        (this.added = n),
        (this.removed = r),
        (this.changed = i),
        (this.maintained = o),
        (this.changedBeforeAdded = a),
        (this.fixed = s);
    }
    var e = t.prototype;
    return (
      Object.defineProperty(e, "ordered", {
        get: function () {
          return this.cacheOrdered || this.caculateOrdered(), this.cacheOrdered;
        },
        enumerable: !0,
        configurable: !0,
      }),
      Object.defineProperty(e, "pureChanged", {
        get: function () {
          return this.cachePureChanged || this.caculateOrdered(), this.cachePureChanged;
        },
        enumerable: !0,
        configurable: !0,
      }),
      (e.caculateOrdered = function () {
        (t = this.changedBeforeAdded),
          (n = this.fixed),
          (i = []),
          (o = []),
          t.forEach(function (t) {
            var e = t[0],
              t = t[1],
              n = new Gt();
            o[t] = i[e] = n;
          }),
          i.forEach(function (t, e) {
            t.connect(i[e - 1]);
          });
        var n,
          i,
          o,
          t = t
            .filter(function (t, e) {
              return !n[e];
            })
            .map(function (t, e) {
              var n,
                r = t[0],
                t = t[1];
              return r === t
                ? [0, 0]
                : ((t = o[t - 1]),
                  (n = (r = i[r]).getIndex()),
                  r.disconnect(),
                  t ? r.connect(t, t.next) : r.connect(void 0, i[0]),
                  [n, r.getIndex()]);
            }),
          a = this.changed,
          s = [];
        (this.cacheOrdered = t.filter(function (t, e) {
          var n = t[0],
            t = t[1],
            e = a[e],
            r = e[0],
            e = e[1];
          if (n !== t) return s.push([r, e]), !0;
        })),
          (this.cachePureChanged = s);
      }),
      t
    );
  })();
  function At(t, e, n) {
    var r = zt ? Map : n ? Tt : Pt,
      n =
        n ||
        function (t) {
          return t;
        },
      i = [],
      o = [],
      a = [],
      s = t.map(n),
      n = e.map(n),
      u = new r(),
      c = new r(),
      l = [],
      f = [],
      p = {},
      d = [],
      h = 0,
      g = 0;
    return (
      s.forEach(function (t, e) {
        u.set(t, e);
      }),
      n.forEach(function (t, e) {
        c.set(t, e);
      }),
      s.forEach(function (t, e) {
        t = c.get(t);
        void 0 === t ? (++g, o.push(e)) : (p[t] = g);
      }),
      n.forEach(function (t, e) {
        t = u.get(t);
        void 0 === t
          ? (i.push(e), ++h)
          : (a.push([t, e]),
            (g = p[e] || 0),
            l.push([t - g, e - h]),
            f.push(e === t),
            t !== e && d.push([t, e]));
      }),
      o.reverse(),
      new kt(t, e, i, o, d, a, l, f)
    );
  }
  var Bt = (function () {
      function t(t, e) {
        void 0 === t && (t = []),
          (this.findKeyCallback = e),
          (this.list = [].slice.call(t));
      }
      return (
        (t.prototype.update = function (t) {
          var t = [].slice.call(t),
            e = At(this.list, t, this.findKeyCallback);
          return (this.list = t), e;
        }),
        t
      );
    })(),
    It = function (t, e) {
      return (It =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array
          ? function (t, e) {
              t.__proto__ = e;
            }
          : function (t, e) {
              for (var n in e)
                Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            }))(t, e);
    };
  function Ft(t, e) {
    if ("function" != typeof e && null !== e)
      throw new TypeError(
        "Class extends value " + String(e) + " is not a constructor or null"
      );
    function n() {
      this.constructor = t;
    }
    It(t, e),
      (t.prototype =
        null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
  }
  var Nt = function () {
    return (Nt =
      Object.assign ||
      function (t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
          for (var i in (e = arguments[n]))
            Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        return t;
      }).apply(this, arguments);
  };
  function Yt(t, e) {
    var n = {};
    for (i in t)
      Object.prototype.hasOwnProperty.call(t, i) && e.indexOf(i) < 0 && (n[i] = t[i]);
    if (null != t && "function" == typeof Object.getOwnPropertySymbols)
      for (var r = 0, i = Object.getOwnPropertySymbols(t); r < i.length; r++)
        e.indexOf(i[r]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(t, i[r]) &&
          (n[i[r]] = t[i[r]]);
    return n;
  }
  function Xt(t, e, n) {
    if (n || 2 === arguments.length)
      for (var r, i = 0, o = e.length; i < o; i++)
        (!r && i in e) || ((r = r || Array.prototype.slice.call(e, 0, i))[i] = e[i]);
    return t.concat(r || Array.prototype.slice.call(e));
  }
  function qt(t) {
    var e = 0;
    return t.map(function (t) {
      return null == t ? "$compat".concat(++e) : "".concat(t);
    });
  }
  function jt(t, e) {
    if (e) for (var n in e) q(t[n]) && (t[n] = e[n]);
    return t;
  }
  function Wt(t, e) {
    if (t !== e) {
      for (var n in t) if (!(n in e)) return !0;
      for (var n in e) if (t[n] !== e[n]) return !0;
    }
    return !1;
  }
  function Ht(t) {
    var e = t.className,
      t = Yt(t, ["className"]);
    return null != e && (t.class = e), delete t.style, delete t.children, t;
  }
  function Lt(t) {
    var e,
      n = {},
      r = {};
    for (e in t) 0 === e.indexOf("on") ? (r[e] = t[e]) : (n[e] = t[e]);
    return [n, r];
  }
  function Vt(t) {
    var e;
    return t ? (Rt((e = t.b)) ? e : Vt(t.c)) : null;
  }
  function Ut(t) {
    var e = t.parentNode;
    e && e.removeChild(t);
  }
  function $t(t) {
    t.forEach(function (t) {
      t();
    });
  }
  function Zt() {
    return this.constructor(this.props, this.context);
  }
  var Kt = 0,
    t = (function () {
      function t(t, e, n, r, i, o, a) {
        void 0 === a && (a = {}),
          (this.t = t),
          (this.d = e),
          (this.k = n),
          (this.i = r),
          (this.c = i),
          (this.ref = o),
          (this.ps = a),
          (this.typ = "prov"),
          (this._ps = []),
          (this._cs = {}),
          (this._hyd = null),
          (this._sel = !1);
      }
      var e = t.prototype;
      return (
        (e.s = function () {
          return !0;
        }),
        (e.u = function (e, n, t, r, i) {
          var o,
            a = this,
            s = a.d,
            u = (function e(t) {
              var n = [];
              return (
                t.forEach(function (t) {
                  n = n.concat(O(t) ? e(t) : t);
                }),
                n
              );
            })(
              ht((o = n))
                .map(function (t) {
                  return o[t];
                })
                .filter(function (t) {
                  return t.$_req;
                })
                .map(function (t) {
                  return t.$_subs;
                })
            ),
            c = _(u, function (t) {
              return t.d === s;
            });
          if (a.b && !x(t) && !i && !a.s(t.props, r) && !c)
            return (
              u
                .reduce(function (t, e) {
                  var n = e.d;
                  return t[0] ? t[0].d === n && t.push(e) : s < n && t.push(e), t;
                }, [])
                .forEach(function (t) {
                  fe(t, t._ps, [t.o], e, n, !0);
                }),
              !1
            );
          (a.o = t), a.ss(r);
          i = a.ps;
          return (
            x(t) || ((a.ps = t.props), (a.ref = t.ref)),
            Qt(this),
            a.r(e, n, a.b ? i : {}, r),
            !0
          );
        }),
        (e.md = function () {
          this.rr();
        }),
        (e.ss = function () {}),
        (e.ud = function () {
          this.rr();
        }),
        (e.rr = function () {
          var t = this.ref,
            e = this.fr;
          t && t(e ? e.current : this.b);
        }),
        t
      );
    })();
  function Jt() {
    return Object.__CROACT_CURRENT_INSTNACE__;
  }
  function Qt(t) {
    (Object.__CROACT_CURRENT_INSTNACE__ = t), (Kt = 0);
  }
  var te = (function () {
      function t(t, e) {
        (this.props = t = void 0 === t ? {} : t),
          (this.context = e),
          (this.state = {}),
          (this.$_timer = 0),
          (this.$_state = {}),
          (this.$_subs = []),
          (this.$_cs = {});
      }
      var e = t.prototype;
      return (
        (e.render = function () {
          return null;
        }),
        (e.shouldComponentUpdate = function (t, e) {
          return this.props !== t || this.state !== e;
        }),
        (e.setState = function (t, e, n) {
          var r = this;
          r.$_timer || (r.$_state = {}),
            clearTimeout(r.$_timer),
            (r.$_timer = 0),
            (r.$_state = Nt(Nt({}, r.$_state), t)),
            n
              ? r.$_setState(e, n)
              : (r.$_timer = window.setTimeout(function () {
                  (r.$_timer = 0), r.$_setState(e, n);
                }));
        }),
        (e.forceUpdate = function (t) {
          this.setState({}, t, !0);
        }),
        (e.componentDidMount = function () {}),
        (e.componentDidUpdate = function (t, e) {}),
        (e.componentWillUnmount = function () {}),
        (e.$_setState = function (t, e) {
          var n = [],
            r = this.$_p;
          fe(r.c, [r], [r.o], n, r._cs, Nt(Nt({}, this.state), this.$_state), e) &&
            (t && n.push(t), $t(n), Qt(null));
        }),
        t
      );
    })(),
    ee = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return (
        Ft(e, t),
        (e.prototype.shouldComponentUpdate = function (t, e) {
          return Wt(this.props, t) || Wt(this.state, e);
        }),
        e
      );
    })(te);
  function ne(t) {
    function e(t) {
      e.current = t;
    }
    return (e.current = t), e;
  }
  var re = (function (s) {
    function t(t, e, n, r, i, o, a) {
      e =
        s.call(
          this,
          t,
          e,
          n,
          r,
          i,
          o,
          jt((a = void 0 === a ? {} : a), t.defaultProps)
        ) || this;
      return (e.typ = "comp"), (e._usefs = []), (e._uefs = []), (e._defs = []), e;
    }
    Ft(t, s);
    var e = t.prototype;
    return (
      (e.s = function (t, e) {
        var n = this.b;
        return !1 !== n.shouldComponentUpdate(jt(t, this.t.defaultProps), e || n.state);
      }),
      (e.r = function (t, e, n) {
        var r,
          i,
          o,
          a,
          s = this,
          u = s.t,
          c = ((s.ps = jt(s.ps, s.t.defaultProps)), s.ps),
          l = !s.b,
          f = u.contextType,
          p = s.b,
          d = null == f ? void 0 : f.get(s),
          h =
            ((s._cs = e),
            l
              ? ((r = c),
                (i = d),
                (o = s),
                null != (g = null == (u = u) ? void 0 : u.prototype) && g.render
                  ? (a = new u(r, i))
                  : ((a = new te(r, i)).constructor = u)._fr
                  ? ((o.fr = ne()),
                    (a.render = function () {
                      return this.constructor(this.props, o.fr);
                    }))
                  : (a.render = Zt),
                (a.$_p = o),
                (p = a),
                (s.b = p))
              : ((p.props = c), (p.context = d)),
            p.state),
          g = ((s._usefs = []), (s._uefs = []), p.render()),
          u =
            (0 ===
              (null ==
              (i = null == (r = null == g ? void 0 : g.props) ? void 0 : r.children)
                ? void 0
                : i.length) && (g.props.children = s.ps.children),
            Nt(Nt({}, e), p.$_cs));
        fe(s, s._ps, g ? [g] : [], t, u),
          l
            ? s._uefs.push(function () {
                null != f && f.register(s), p.componentDidMount();
              })
            : s._uefs.push(function () {
                p.componentDidUpdate(n, h);
              }),
          t.push(function () {
            s._usefs.forEach(function (t) {
              t();
            }),
              l ? s.md() : s.ud(),
              (s._defs = s._uefs.map(function (t) {
                return t();
              }));
          });
      }),
      (e.ss = function (t) {
        var e = this.b;
        e && t && (e.state = t);
      }),
      (e.un = function () {
        var t,
          e = this;
        e._ps.forEach(function (t) {
          t.un();
        }),
          null != (t = e.t.contextType) && t.unregister(e),
          clearTimeout(e.b.$_timer),
          e._defs.forEach(function (t) {
            t && t();
          }),
          e.b.componentWillUnmount();
      }),
      t
    );
  })(t);
  function ie(n, r) {
    var i = ht(n),
      e = ht(r),
      t = At(i, e, function (t) {
        return t;
      }),
      o = {},
      a = {},
      s = {};
    return (
      t.added.forEach(function (t) {
        t = e[t];
        o[t] = r[t];
      }),
      t.removed.forEach(function (t) {
        t = i[t];
        a[t] = n[t];
      }),
      t.maintained.forEach(function (t) {
        var t = t[0],
          t = i[t],
          e = [n[t], r[t]];
        n[t] !== r[t] && (s[t] = e);
      }),
      { added: o, removed: a, changed: s }
    );
  }
  var oe = (function (e) {
    function t() {
      var t = (null !== e && e.apply(this, arguments)) || this;
      return (t.typ = "elem"), (t._es = {}), (t._svg = !1), t;
    }
    Ft(t, e);
    var n = t.prototype;
    return (
      (n.e = function (r, t) {
        var i = this,
          e = i._es,
          n = i.b,
          o = r.replace(/^on/g, "").toLowerCase();
        t
          ? (b(n, o, e[r]), delete e[r])
          : ((e[r] = function (t) {
              var e, n;
              null != (n = (e = i.ps)[r]) && n.call(e, t);
            }),
            m(n, o, e[r]));
      }),
      (n.s = function (t) {
        return Wt(this.ps, t);
      }),
      (n.r = function (t, e, n) {
        var r,
          i,
          o,
          a = this,
          s = !a.b,
          u = a.ps,
          c =
            (s &&
              ((l = Vt(a.c)),
              (c = !1),
              (c = !(!a._svg && "svg" !== a.t) || (l && l.ownerSVGElement)),
              (a._svg = c),
              (p = null == (p = a._hyd) ? void 0 : p.splice(0, 1)[0]),
              (f = a.t),
              p
                ? (a._hyd = [].slice.call(p.children || []))
                : ((l = wt(l)),
                  (p = c
                    ? l.createElementNS("http://www.w3.org/2000/svg", f)
                    : l.createElement(f))),
              (a.b = p)),
            fe(a, a._ps, u.children, t, e),
            a.b),
          l = Lt(n),
          f = l[0],
          p = l[1],
          e = Lt(u),
          l = e[0],
          e = e[1],
          d = c,
          h = (f = ie(Ht(f), Ht(l))).added,
          l = f.removed,
          g = f.changed;
        for (r in h) d.setAttribute(r, h[r]);
        for (i in g) d.setAttribute(i, g[i][1]);
        for (o in l) d.removeAttribute(o);
        var v,
          m,
          b = p,
          x = a,
          e = (b = ie(p, (e = e))).added;
        for (v in b.removed) x.e(v, !0);
        for (m in e) x.e(m);
        var y,
          b = n.style || {},
          e = u.style || {},
          n = c,
          E = n.style,
          S = (n = ie(b, e)).added,
          b = n.removed,
          C = n.changed;
        for (y in S) {
          var D = ct(y, "-");
          E.setProperty(D, S[y]);
        }
        for (y in C) {
          var w = ct(y, "-");
          E.setProperty(w, C[y][1]);
        }
        for (y in b) {
          var _ = ct(y, "-");
          E.removeProperty(_);
        }
        return (
          t.push(function () {
            s ? a.md() : a.ud();
          }),
          !0
        );
      }),
      (n.un = function () {
        var t,
          e = this,
          n = e._es,
          r = e.b;
        for (t in n) b(r, t, n[t]);
        e._ps.forEach(function (t) {
          t.un();
        }),
          (e._es = {}),
          e._sel || Ut(r);
      }),
      t
    );
  })(t);
  function ae(t) {
    return !t || Rt(t) ? t : (t = t.$_p._ps).length ? ae(t[0].b) : null;
  }
  function se(t, e) {
    for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];
    var e = e || {},
      i = e.key,
      o = e.ref,
      e = Yt(e, ["key", "ref"]);
    return {
      type: t,
      key: i,
      ref: o,
      props: Nt(Nt({}, e), {
        children: n
          .reduce(function (t, e) {
            return t.concat(e);
          }, [])
          .filter(function (t) {
            return null != t && !1 !== t;
          }),
      }),
    };
  }
  var ue = (function (n) {
      function t(t, e) {
        e =
          n.call(this, "container", (e = void 0 === e ? 0 : e), "container", 0, null) ||
          this;
        return (e.typ = "container"), (e.b = t), e;
      }
      Ft(t, n);
      var e = t.prototype;
      return (
        (e.r = function () {
          return !0;
        }),
        (e.un = function () {}),
        t
      );
    })(t),
    ce = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (t.typ = "text"), t;
      }
      Ft(t, e);
      var n = t.prototype;
      return (
        (n.r = function (t) {
          var e,
            n,
            r = this,
            i = !r.b;
          return (
            i &&
              ((e = Vt(r.c)),
              (n = null == (n = r._hyd) ? void 0 : n.splice(0, 1)[0]),
              (r.b = n || wt(e).createTextNode(r.t.replace("text_", "")))),
            t.push(function () {
              i ? r.md() : r.ud();
            }),
            !0
          );
        }),
        (n.un = function () {
          Ut(this.b);
        }),
        t
      );
    })(t);
  function le(t, e, n, r) {
    var i,
      o = r.d + 1;
    return x(t) || P(t)
      ? new ce("text_".concat(t), o, e, n, r, null, {})
      : new ("string" == typeof (i = t.type) ? oe : re)(i, o, e, n, r, t.ref, t.props);
  }
  function fe(n, r, i, o, a, s, u) {
    (c = n),
      (l = r),
      (p = (f = i).map(function (t) {
        return x(t) ? null : t.key;
      })),
      (t = At(
        qt(
          l.map(function (t) {
            return t.k;
          })
        ),
        qt(p),
        function (t) {
          return t;
        }
      )).removed.forEach(function (t) {
        l.splice(t, 1)[0].un();
      }),
      t.ordered.forEach(function (t) {
        var e = t[0],
          t = t[1],
          e = l.splice(e, 1)[0],
          e = (l.splice(t, 0, e), ae(e.b)),
          t = ae(l[t + 1] && l[t + 1].b);
        e && e.parentNode.insertBefore(e, t);
      }),
      t.added.forEach(function (t) {
        l.splice(t, 0, le(f[t], p[t], t, c));
      }),
      (e = t.maintained.filter(function (t) {
        t[0];
        var t = t[1],
          e = f[t],
          n = l[t];
        return (x(e) ? "text_".concat(e) : e.type) !== n.t
          ? (n.un(), l.splice(t, 1, le(e, p[t], t, c)), !0)
          : ((n.i = t), !1);
      }));
    var c,
      l,
      f,
      p,
      t = Xt(
        Xt([], t.added, !0),
        e.map(function (t) {
          return t[0], t[1];
        }),
        !0
      ),
      d = n._hyd,
      e = r.filter(function (t, e) {
        return (t._hyd = d), t.u(o, a, i[e], s, u);
      }),
      h =
        ("container" === n.typ &&
          n._sel &&
          r.forEach(function (t) {
            t = (function t(e) {
              if (e) return e.b && Rt(e.b) ? e : (e = e._ps).length ? t(e[0]) : null;
            })(t);
            t && (t._sel = !0);
          }),
        (n._hyd = null),
        Vt(n));
    return (
      h &&
        t.reverse().forEach(function (t) {
          var t = r[t],
            e = ae(t.b);
          e &&
            h !== e &&
            !e.parentNode &&
            ((t = (function (t, e) {
              for (var n = t._ps, r = n.length, i = e.i + 1; i < r; ++i) {
                var o = ae(n[i].b);
                if (o) return o;
              }
              return null;
            })(n, t)),
            h.insertBefore(e, t));
        }),
      0 < e.length
    );
  }
  function pe(t, e, n) {
    var r, i, o, a;
    return (
      !n && t && (((n = new ue(e.parentElement))._hyd = [e]), (n._sel = !0)),
      (t = t),
      (e = e),
      void 0 === i && (i = {}),
      (o = !!(r = void 0 === (r = n) ? e.__CROACT__ : r)),
      (a = []),
      fe((r = r || new ue(e)), r._ps, t ? [t] : [], a, i, void 0, void 0),
      $t(a),
      Qt(null),
      o || (e.__CROACT__ = r),
      n
    );
  }
  function de(t) {
    var e = Jt(),
      e = e._hs || (e._hs = []),
      n = Kt,
      r = e[n];
    if (((Kt = n + 1), r)) {
      if (!Wt(r.deps, t.deps)) return (r.updated = !1), r;
      e[n] = t;
    } else e.push(t);
    return (t.value = t.func()), (t.updated = !0), t;
  }
  function he(t) {
    return de({
      func: function () {
        return ne(t);
      },
      deps: [],
    }).value;
  }
  function ge(t, e, n) {
    var r = Jt(),
      i = de({
        func: function () {
          return t;
        },
        deps: e,
      }),
      e = n ? r._usefs : r._uefs;
    i.updated
      ? e.push(function () {
          return i.effect && i.effect(), (i.effect = t()), i.effect;
        })
      : e.push(function () {
          return i.effect;
        });
  }
  function ve(t, e) {
    for (var n = t.length, r = 0; r < n; ++r) if (e(t[r], r)) return !0;
    return !1;
  }
  function me(t, e) {
    for (var n = t.length, r = 0; r < n; ++r) if (e(t[r], r)) return t[r];
    return null;
  }
  function be(t) {
    if (void 0 === t) {
      if ("undefined" == typeof navigator || !navigator) return "";
      t = navigator.userAgent || "";
    }
    return t.toLowerCase();
  }
  function xe(t, e) {
    try {
      return new RegExp(t, "g").exec(e);
    } catch (t) {
      return null;
    }
  }
  function ye(t) {
    return t.replace(/_/g, ".");
  }
  function Ee(t, n) {
    var r = null,
      i = "-1";
    return (
      ve(t, function (t) {
        var e = xe("(" + t.test + ")((?:\\/|\\s|:)([0-9|\\.|_]+))?", n);
        return (
          e &&
          !t.brand &&
          ((r = t),
          (i = e[3] || "-1"),
          t.versionAlias
            ? (i = t.versionAlias)
            : t.versionTest &&
              ((e = t.versionTest.toLowerCase()),
              (i =
                ((e = xe("(" + e + ")((?:\\/|\\s|:)([0-9|\\.|_]+))", n)) ? e[3] : "") ||
                i)),
          (i = ye(i)),
          1)
        );
      }),
      { preset: r, version: i }
    );
  }
  function Se(t, n) {
    var r = { brand: "", version: "-1" };
    return (
      ve(t, function (t) {
        var e = Ce(n, t);
        return (
          e &&
          ((r.brand = t.id),
          (r.version = t.versionAlias || e.version),
          "-1" !== r.version)
        );
      }),
      r
    );
  }
  function Ce(t, e) {
    return me(t, function (t) {
      t = t.brand;
      return xe("" + e.test, t.toLowerCase());
    });
  }
  var t = [
      { test: "phantomjs", id: "phantomjs" },
      { test: "whale", id: "whale" },
      { test: "edgios|edge|edg", id: "edge" },
      { test: "msie|trident|windows phone", id: "ie", versionTest: "iemobile|msie|rv" },
      { test: "miuibrowser", id: "miui browser" },
      { test: "samsungbrowser", id: "samsung internet" },
      { test: "samsung", id: "samsung internet", versionTest: "version" },
      { test: "chrome|crios", id: "chrome" },
      { test: "firefox|fxios", id: "firefox" },
      { test: "android", id: "android browser", versionTest: "version" },
      { test: "safari|iphone|ipad|ipod", id: "safari", versionTest: "version" },
    ],
    De = [
      {
        test: "(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",
        id: "chrome",
        versionTest: "chrome",
      },
      { test: "chromium", id: "chrome" },
      { test: "whale", id: "chrome", versionAlias: "-1", brand: !0 },
    ],
    we = [{ test: "applewebkit", id: "webkit", versionTest: "applewebkit|safari" }],
    _e = [
      { test: "(?=(iphone|ipad))(?!(.*version))", id: "webview" },
      { test: "(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))", id: "webview" },
      { test: "webview", id: "webview" },
    ],
    Me = [
      { test: "windows phone", id: "windows phone" },
      { test: "windows 2000", id: "window", versionAlias: "5.0" },
      { test: "windows nt", id: "window" },
      { test: "win32|windows", id: "window" },
      { test: "iphone|ipad|ipod", id: "ios", versionTest: "iphone os|cpu os" },
      { test: "macos|macintel|mac os x", id: "mac" },
      { test: "android|linux armv81", id: "android" },
      { test: "tizen", id: "tizen" },
      { test: "webos|web0s", id: "webos" },
    ];
  function Oe(t) {
    return !!Ee(_e, t).preset;
  }
  function Re(t, e, n) {
    void 0 === n && (n = Math.sqrt(t.length));
    for (var r = t.slice(), i = 0; i < n; ++i)
      (r[i * n + e - 1] = 0), (r[(e - 1) * n + i] = 0);
    return (r[(e - 1) * (n + 1)] = 1), r;
  }
  function Pe(t, e) {
    void 0 === e && (e = Math.sqrt(t.length));
    for (var n = t.slice(), r = Y(e), i = 0; i < e; ++i) {
      var o = e * i + i;
      if (!H(n[o], A))
        for (var a = i + 1; a < e; ++a)
          if (n[e * i + a]) {
            v = g = h = d = p = f = l = c = u = s = void 0;
            for (var s = n, u = r, c = i, l = a, f = e, p = 0; p < f; ++p) {
              var d = c + p * f,
                h = l + p * f,
                g = s[d],
                v = u[d];
              (s[d] = s[h]), (s[h] = g), (u[d] = u[h]), (u[h] = v);
            }
            break;
          }
      if (!H(n[o], A)) return [];
      C = S = E = y = x = b = m = void 0;
      for (var m = n, b = r, x = i, y = e, E = n[o], S = 0; S < y; ++S) {
        var C = x + S * y;
        (m[C] /= E), (b[C] /= E);
      }
      for (a = 0; a < e; ++a) {
        var D = a,
          w = n[a + i * e];
        if (H(w, A) && i !== a) {
          k = G = z = T = P = R = O = M = _ = void 0;
          for (var _ = n, M = r, O = D, R = i, P = e, T = -w, z = 0; z < P; ++z) {
            var G = O + z * P,
              k = R + z * P;
            (_[G] += _[k] * T), (M[G] += M[k] * T);
          }
        }
      }
    }
    return r;
  }
  function Te(t, e) {
    for (
      var n = [], r = t[(e = void 0 === e ? Math.sqrt(t.length) : e) * e - 1], i = 0;
      i < e - 1;
      ++i
    )
      n[i] = t[e * (e - 1) + i] / r;
    return (n[e - 1] = 0), n;
  }
  function ze(t, e) {
    for (var n = t.slice(), r = t.length; r < e - 1; ++r) n[r] = 0;
    return (n[e - 1] = 1), n;
  }
  function Ge(t, e, n) {
    if ((e = void 0 === e ? Math.sqrt(t.length) : e) === n) return t;
    for (var r = Y(n), i = Math.min(e, n), o = 0; o < i - 1; ++o) {
      for (var a = 0; a < i - 1; ++a) r[o * n + a] = t[o * e + a];
      (r[(o + 1) * n - 1] = t[(o + 1) * e - 1]),
        (r[(n - 1) * n + o] = t[(e - 1) * e + o]);
    }
    return (r[n * n - 1] = t[e * e - 1]), r;
  }
  function ke(e) {
    for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
    var r = Y(e);
    return (
      t.forEach(function (t) {
        r = K(r, t, e);
      }),
      r
    );
  }
  function K(t, e, n) {
    void 0 === n && (n = Math.sqrt(t.length));
    var r = [],
      i = t.length / n,
      o = e.length / i;
    if (!i) return e;
    if (!o) return t;
    for (var a = 0; a < n; ++a)
      for (var s = 0; s < o; ++s)
        for (var u = (r[s * n + a] = 0); u < i; ++u)
          r[s * n + a] += t[u * n + a] * e[s * i + u];
    return r;
  }
  function J(t, e) {
    for (var n = Math.min(t.length, e.length), r = t.slice(), i = 0; i < n; ++i)
      r[i] = r[i] + e[i];
    return r;
  }
  function G(t, e) {
    for (var n = Math.min(t.length, e.length), r = t.slice(), i = 0; i < n; ++i)
      r[i] = r[i] - e[i];
    return r;
  }
  function Ae(t, e) {
    return (e = void 0 === e ? 9 === t.length : e)
      ? [t[0], t[1], t[3], t[4], t[6], t[7]]
      : t;
  }
  function z(t, e, n) {
    var t = K(t, e, (n = void 0 === n ? e.length : n)),
      r = t[n - 1];
    return t.map(function (t) {
      return t / r;
    });
  }
  function Be(t, e) {
    return K(
      t,
      [
        1,
        0,
        0,
        0,
        0,
        Math.cos(e),
        Math.sin(e),
        0,
        0,
        -Math.sin(e),
        Math.cos(e),
        0,
        0,
        0,
        0,
        1,
      ],
      4
    );
  }
  function Ie(t, e) {
    return K(
      t,
      [
        Math.cos(e),
        0,
        -Math.sin(e),
        0,
        0,
        1,
        0,
        0,
        Math.sin(e),
        0,
        Math.cos(e),
        0,
        0,
        0,
        0,
        1,
      ],
      4
    );
  }
  function Fe(t, e) {
    return K(t, je(e, 4));
  }
  function Ne(t, e) {
    var n = e[0],
      r = e[1],
      e = e[2];
    return K(
      t,
      [
        void 0 === n ? 1 : n,
        0,
        0,
        0,
        0,
        void 0 === r ? 1 : r,
        0,
        0,
        0,
        0,
        void 0 === e ? 1 : e,
        0,
        0,
        0,
        0,
        1,
      ],
      4
    );
  }
  function Ye(t, e) {
    return z(je(e, 3), ze(t, 3));
  }
  function Xe(t, e) {
    var n = e[0],
      r = e[1],
      e = e[2];
    return K(
      t,
      [
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        void 0 === n ? 0 : n,
        void 0 === r ? 0 : r,
        void 0 === e ? 0 : e,
        1,
      ],
      4
    );
  }
  function qe(t, e) {
    return K(t, e, 4);
  }
  function je(t, e) {
    var n = Math.cos(t),
      t = Math.sin(t),
      r = Y(e);
    return (r[0] = n), (r[1] = t), (r[e] = -t), (r[e + 1] = n), r;
  }
  function Y(t) {
    for (var e = t * t, n = [], r = 0; r < e; ++r) n[r] = r % (t + 1) ? 0 : 1;
    return n;
  }
  function We(t, e) {
    for (var n = Y(e), r = Math.min(t.length, e - 1), i = 0; i < r; ++i)
      n[(e + 1) * i] = t[i];
    return n;
  }
  function He(t, e) {
    for (var n = Y(e), r = Math.min(t.length, e - 1), i = 0; i < r; ++i)
      n[e * (e - 1) + i] = t[i];
    return n;
  }
  function Le(t, e, n, r, i, o, a, s) {
    var u = t[0],
      t = t[1],
      c = e[0],
      e = e[1],
      l = n[0],
      n = n[1],
      f = r[0],
      r = r[1],
      p = i[0],
      i = i[1],
      d = o[0],
      o = o[1],
      h = a[0],
      a = a[1],
      g = s[0],
      s = s[1],
      u = Pe(
        [
          u,
          0,
          c,
          0,
          l,
          0,
          f,
          0,
          t,
          0,
          e,
          0,
          n,
          0,
          r,
          0,
          1,
          0,
          1,
          0,
          1,
          0,
          1,
          0,
          0,
          u,
          0,
          c,
          0,
          l,
          0,
          f,
          0,
          t,
          0,
          e,
          0,
          n,
          0,
          r,
          0,
          1,
          0,
          1,
          0,
          1,
          0,
          1,
          -p * u,
          -i * u,
          -d * c,
          -o * c,
          -h * l,
          -a * l,
          -g * f,
          -s * f,
          -p * t,
          -i * t,
          -d * e,
          -o * e,
          -h * n,
          -a * n,
          -g * r,
          -s * r,
        ],
        8
      );
    return u.length
      ? (((c = K(u, [p, i, d, o, h, a, g, s], 8))[8] = 1),
        Ge(
          (function (t, e) {
            void 0 === e && (e = Math.sqrt(t.length));
            for (var n = [], r = 0; r < e; ++r)
              for (var i = 0; i < e; ++i) n[i * e + r] = t[e * r + i];
            return n;
          })(c),
          3,
          4
        ))
      : [];
  }
  var Ve = function () {
    return (Ve =
      Object.assign ||
      function (t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
          for (var i in (e = arguments[n]))
            Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        return t;
      }).apply(this, arguments);
  };
  function Ue(t, e) {
    return $e(Ze(t, (e = void 0 === e ? 0 : e)));
  }
  function $e(t) {
    var n = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];
    return (
      t.forEach(function (t) {
        var e = t.matrixFunction,
          t = t.functionValue;
        e && (n = e(n, t));
      }),
      n
    );
  }
  function Ze(t, c) {
    return (
      void 0 === c && (c = 0),
      (O(t) ? t : ot(t)).map(function (t) {
        var n,
          e,
          r,
          i,
          t = st(t),
          o = t.prefix,
          t = t.value,
          a = null,
          s = o,
          u = "";
        return (
          "translate" === o || "translateX" === o || "translate3d" === o
            ? ((n = j(c) ? Ve(Ve({}, c), { "o%": c["%"] }) : { "%": c, "o%": c }),
              (a = Xe),
              (u = [
                (i = at(t).map(function (t, e) {
                  return (
                    0 === e && "x%" in n
                      ? (n["%"] = c["x%"])
                      : 1 === e && "y%" in n
                      ? (n["%"] = c["y%"])
                      : (n["%"] = c["o%"]),
                    Z(t, n)
                  );
                }))[0],
                void 0 === (e = i[1]) ? 0 : e,
                void 0 === (e = i[2]) ? 0 : e,
              ]))
            : "translateY" === o
            ? ((a = Xe),
              (u = [0, Z(t, j(c) ? Ve({ "%": c["y%"] }, c) : { "%": c }), 0]))
            : "translateZ" === o
            ? ((a = Xe), (u = [0, 0, parseFloat(t)]))
            : "scale" === o || "scale3d" === o
            ? ((a = Ne),
              (u = [
                (r = (i = at(t).map(function (t) {
                  return parseFloat(t);
                }))[0]),
                void 0 === (e = i[1]) ? r : e,
                void 0 === (e = i[2]) ? 1 : e,
              ]))
            : "scaleX" === o
            ? ((a = Ne), (u = [(r = parseFloat(t)), 1, 1]))
            : "scaleY" === o
            ? ((a = Ne), (u = [1, parseFloat(t), 1]))
            : "scaleZ" === o
            ? ((a = Ne), (u = [1, 1, parseFloat(t)]))
            : "rotate" === o || "rotateZ" === o || "rotateX" === o || "rotateY" === o
            ? ((e = (i = ut(t)).unit),
              (r = i.value),
              "rotate" === o || "rotateZ" === o
                ? ((s = "rotateZ"), (a = Fe))
                : "rotateX" === o
                ? (a = Be)
                : "rotateY" === o && (a = Ie),
              (u = "rad" === e ? r : (r * Math.PI) / 180))
            : "matrix3d" === o
            ? ((a = qe),
              (u = at(t).map(function (t) {
                return parseFloat(t);
              })))
            : "matrix" === o
            ? ((a = qe),
              (u = [
                (i = at(t).map(function (t) {
                  return parseFloat(t);
                }))[0],
                i[1],
                0,
                0,
                i[2],
                i[3],
                0,
                0,
                0,
                0,
                1,
                0,
                i[4],
                i[5],
                0,
                1,
              ]))
            : (s = ""),
          { name: o, functionName: s, value: t, matrixFunction: a, functionValue: u }
        );
      })
    );
  }
  var Ke = function (t, e) {
    return (Ke =
      Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array
        ? function (t, e) {
            t.__proto__ = e;
          }
        : function (t, e) {
            for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
          }))(t, e);
  };
  var Je,
    Qe =
      "function" == typeof Map
        ? void 0
        : ((Je = 0),
          function (t) {
            return t.__DIFF_KEY__ || (t.__DIFF_KEY__ = ++Je);
          }),
    tn = (function (e) {
      function t() {
        this.constructor = n;
      }
      var n, r;
      function i(t) {
        return e.call(this, (t = void 0 === t ? [] : t), Qe) || this;
      }
      return (
        Ke((n = i), (r = e)),
        (n.prototype =
          null === r ? Object.create(r) : ((t.prototype = r.prototype), new t())),
        i
      );
    })(Bt);
  var en = function () {
    return (en =
      Object.assign ||
      function (t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
          for (var i in (e = arguments[n]))
            Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        return t;
      }).apply(this, arguments);
  };
  var nn = (function () {
      function t() {
        this._events = {};
      }
      var e = t.prototype;
      return (
        (e.on = function (t, e) {
          if (j(t)) for (var n in t) this.on(n, t[n]);
          else this._addEvent(t, e, {});
          return this;
        }),
        (e.off = function (t, e) {
          if (t)
            if (j(t)) for (var n in t) this.off(n);
            else {
              var r, i;
              e
                ? (r = this._events[t]) &&
                  -1 <
                    (i = ft(r, function (t) {
                      return t.listener === e;
                    })) &&
                  r.splice(i, 1)
                : (this._events[t] = []);
            }
          else this._events = {};
          return this;
        }),
        (e.once = function (e, t) {
          var n = this;
          return (
            t && this._addEvent(e, t, { once: !0 }),
            new Promise(function (t) {
              n._addEvent(e, t, { once: !0 });
            })
          );
        }),
        (e.emit = function (e, n) {
          var t,
            r = this,
            i = (void 0 === n && (n = {}), this._events[e]);
          return (
            !e ||
            !i ||
            ((t = !1),
            (n.eventType = e),
            (n.stop = function () {
              t = !0;
            }),
            (n.currentTarget = this),
            (function () {
              for (var t = 0, e = 0, n = arguments.length; e < n; e++)
                t += arguments[e].length;
              for (var r = Array(t), i = 0, e = 0; e < n; e++)
                for (var o = arguments[e], a = 0, s = o.length; a < s; a++, i++)
                  r[i] = o[a];
              return r;
            })(i).forEach(function (t) {
              t.listener(n), t.once && r.off(e, t.listener);
            }),
            !t)
          );
        }),
        (e.trigger = function (t, e) {
          return this.emit(t, (e = void 0 === e ? {} : e));
        }),
        (e._addEvent = function (t, e, n) {
          var r = this._events;
          (r[t] = r[t] || []), r[t].push(en({ listener: e }, n));
        }),
        t
      );
    })(),
    rn = function (t, e) {
      return (rn =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array
          ? function (t, e) {
              t.__proto__ = e;
            }
          : function (t, e) {
              for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
            }))(t, e);
    };
  var on = function () {
    return (on =
      Object.assign ||
      function (t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
          for (var i in (e = arguments[n]))
            Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        return t;
      }).apply(this, arguments);
  };
  function an(t) {
    t = t.container;
    return t === document.body
      ? [
          t.scrollLeft || document.documentElement.scrollLeft,
          t.scrollTop || document.documentElement.scrollTop,
        ]
      : [t.scrollLeft, t.scrollTop];
  }
  function sn(t, e) {
    return (
      t.addEventListener("scroll", e),
      function () {
        t.removeEventListener("scroll", e);
      }
    );
  }
  function un(t) {
    return t
      ? x(t)
        ? document.querySelector(t)
        : k(t)
        ? t()
        : t instanceof Element
        ? t
        : "current" in t
        ? t.current
        : "value" in t
        ? t.value
        : void 0
      : null;
  }
  var cn = (function (t) {
    function e() {
      this.constructor = n;
    }
    var n;
    function r() {
      var n = (null !== t && t.apply(this, arguments)) || this;
      return (
        (n._startRect = null),
        (n._startPos = []),
        (n._prevTime = 0),
        (n._timer = 0),
        (n._prevScrollPos = [0, 0]),
        (n._isWait = !1),
        (n._flag = !1),
        (n._currentOptions = null),
        (n._lock = !1),
        (n._unregister = null),
        (n._onScroll = function () {
          var e = n._currentOptions;
          !n._lock &&
            e &&
            n.emit("scrollDrag", {
              next: function (t) {
                n.checkScroll({ container: e.container, inputEvent: t });
              },
            });
        }),
        n
      );
    }
    rn((n = r), (i = t)),
      (n.prototype =
        null === i ? Object.create(i) : ((e.prototype = i.prototype), new e()));
    var i = r.prototype;
    return (
      (i.dragStart = function (t, e) {
        var n,
          r,
          i,
          o,
          a = un(e.container);
        a
          ? ((o = i = r = n = 0),
            (o =
              a === document.body
                ? ((i = window.innerWidth), window.innerHeight)
                : ((n = (a = a.getBoundingClientRect()).top),
                  (r = a.left),
                  (i = a.width),
                  a.height)),
            (this._flag = !0),
            (this._startPos = [t.clientX, t.clientY]),
            (this._startRect = { top: n, left: r, width: i, height: o }),
            (this._prevScrollPos = this._getScrollPosition([0, 0], e)),
            (this._currentOptions = e),
            this._registerScrollEvent(e))
          : (this._flag = !1);
      }),
      (i.drag = function (t, e) {
        var n, r, i, o, a, s;
        if ((clearTimeout(this._timer), this._flag))
          return (
            (n = t.clientX),
            (r = t.clientY),
            (i = void 0 === (i = e.threshold) ? 0 : i),
            (o = this._startRect),
            (a = this._startPos),
            (this._currentOptions = e),
            (s = [0, 0]),
            o.top > r - i
              ? (a[1] > o.top || r < a[1]) && (s[1] = -1)
              : o.top + o.height < r + i &&
                (a[1] < o.top + o.height || r > a[1]) &&
                (s[1] = 1),
            o.left > n - i
              ? (a[0] > o.left || n < a[0]) && (s[0] = -1)
              : o.left + o.width < n + i &&
                (a[0] < o.left + o.width || n > a[0]) &&
                (s[0] = 1),
            !(!s[0] && !s[1]) &&
              this._continueDrag(
                on(on({}, e), { direction: s, inputEvent: t, isDrag: !0 })
              )
          );
      }),
      (i.checkScroll = function (t) {
        var e,
          n,
          r,
          i,
          o,
          a,
          s,
          u = this;
        return !(
          this._isWait ||
          ((a = void 0 === (a = t.prevScrollPos) ? this._prevScrollPos : a),
          (s = t.direction),
          (e = void 0 === (e = t.throttleTime) ? 0 : e),
          (n = t.inputEvent),
          (r = t.isDrag),
          (o = (i = this._getScrollPosition(s || [0, 0], t))[0] - a[0]),
          (a = i[1] - a[1]),
          (s = s || [o ? Math.abs(o) / o : 0, a ? Math.abs(a) / a : 0]),
          (this._prevScrollPos = i),
          (this._lock = !1),
          !o && !a) ||
          (this.emit("move", {
            offsetX: s[0] ? o : 0,
            offsetY: s[1] ? a : 0,
            inputEvent: n,
          }),
          e &&
            r &&
            (clearTimeout(this._timer),
            (this._timer = window.setTimeout(function () {
              u._continueDrag(t);
            }, e))),
          0)
        );
      }),
      (i.dragEnd = function () {
        (this._flag = !1),
          (this._lock = !1),
          clearTimeout(this._timer),
          this._unregisterScrollEvent();
      }),
      (i._getScrollPosition = function (t, e) {
        var n = e.container,
          e = e.getScrollPosition;
        return (void 0 === e ? an : e)({ container: un(n), direction: t });
      }),
      (i._continueDrag = function (t) {
        var e = this,
          n = t.container,
          r = t.direction,
          i = t.throttleTime,
          o = t.useScroll,
          a = t.isDrag,
          s = t.inputEvent;
        if (!(!this._flag || (a && this._isWait))) {
          var u = lt(),
            i = Math.max(i + this._prevTime - u, 0);
          if (0 < i)
            return (
              clearTimeout(this._timer),
              (this._timer = window.setTimeout(function () {
                e._continueDrag(t);
              }, i)),
              !1
            );
          this._prevTime = u;
          (i = this._getScrollPosition(r, t)),
            (u =
              ((this._prevScrollPos = i),
              a && (this._isWait = !0),
              o || (this._lock = !0),
              { container: un(n), direction: r, inputEvent: s }));
          return (
            null != (a = t.requestScroll) && a.call(t, u),
            this.emit("scroll", u),
            (this._isWait = !1),
            o ||
              this.checkScroll(
                on(on({}, t), { prevScrollPos: i, direction: r, inputEvent: s })
              )
          );
        }
      }),
      (i._registerScrollEvent = function (t) {
        this._unregisterScrollEvent();
        var e,
          n = t.checkScrollEvent;
        n &&
          ((e = !0 === n ? sn : n),
          (t = un(t.container)),
          !0 !== n || (t !== document.body && t !== document.documentElement)
            ? (this._unregister = e(t, this._onScroll))
            : (this._unregister = sn(window, this._onScroll)));
      }),
      (i._unregisterScrollEvent = function () {
        var t;
        null != (t = this._unregister) && t.call(this), (this._unregister = null);
      }),
      r
    );
  })(nn);
  function p(t) {
    return H(t, A);
  }
  function ln(n) {
    return n.length < 3
      ? 0
      : Math.abs(
          (function (t) {
            for (var e = 0, n = t.length - 1; 0 <= n; --n) e += t[n];
            return e;
          })(
            n.map(function (t, e) {
              e = n[e + 1] || n[0];
              return t[0] * e[1] - e[0] * t[1];
            })
          )
        ) / 2;
  }
  function fn(t, e) {
    var n = e.width,
      r = e.height,
      i = e.left,
      o = e.top,
      e = pn(t),
      a = e.minX,
      s = e.minY,
      u = e.maxX,
      e = e.maxY,
      c = n / (u - a),
      l = r / (e - s);
    return t.map(function (t) {
      return [i + (t[0] - a) * c, o + (t[1] - s) * l];
    });
  }
  function pn(t) {
    var e = t.map(function (t) {
        return t[0];
      }),
      t = t.map(function (t) {
        return t[1];
      });
    return {
      minX: Math.min.apply(Math, e),
      minY: Math.min.apply(Math, t),
      maxX: Math.max.apply(Math, e),
      maxY: Math.max.apply(Math, t),
    };
  }
  function dn(i, t, e) {
    var r,
      o,
      a = i[0],
      s = i[1],
      n = pn(t),
      u = n.minX,
      n = n.maxX,
      c = [
        [u, s],
        [n, s],
      ],
      l = hn(c[0], c[1]),
      u = mn(t),
      f = [];
    return (
      u.forEach(function (t) {
        var n,
          e = hn(t[0], t[1]),
          r = t[0];
        (n = e),
          l.every(function (t, e) {
            return 0 === p(t - n[e]);
          })
            ? f.push({ pos: i, line: t, type: "line" })
            : vn(gn(l, e), [c, t]).forEach(function (n) {
                t.some(function (t) {
                  return (e = n), !p((t = t)[0] - e[0]) && !p(t[1] - e[1]);
                  var e;
                })
                  ? f.push({ pos: n, line: t, type: "point" })
                  : 0 !== p(r[1] - s) &&
                    f.push({ pos: n, line: t, type: "intersection" });
              });
      }),
      !(
        e ||
        !_(f, function (t) {
          return t[0] === a;
        })
      ) ||
        ((r = 0),
        (o = {}),
        f.forEach(function (t) {
          var e = t.pos,
            n = t.type,
            t = t.line;
          e[0] > a ||
            ("intersection" === n
              ? ++r
              : "line" !== n &&
                "point" === n &&
                ((n = _(t, function (t) {
                  return t[1] !== s;
                })),
                (t = o[e[0]]),
                (n = n[1] > s ? 1 : -1),
                t ? t !== n && ++r : (o[e[0]] = n)));
        }),
        r % 2 == 1)
    );
  }
  function hn(t, e) {
    var n = t[0],
      t = t[1],
      r = e[0] - n,
      e = e[1] - t,
      i = (Math.abs(r) < A && (r = 0), Math.abs(e) < A && (e = 0), 0),
      o = 0,
      a = 0;
    return (
      r
        ? (a = e ? ((o = 1), -(i = -e / r) * n - t) : ((o = 1), -t))
        : e && ((i = -1), (a = n)),
      [i, o, a]
    );
  }
  function gn(t, e) {
    var n,
      r,
      i = t[0],
      o = t[1],
      t = t[2],
      a = e[0],
      s = e[1],
      e = e[2],
      u = 0 === i && 0 === a,
      c = 0 === o && 0 === s;
    return u && c
      ? []
      : u
      ? (u = -t / o) != -e / s
        ? []
        : [
            [-1 / 0, u],
            [1 / 0, u],
          ]
      : c
      ? (u = -t / i) != -e / a
        ? []
        : [
            [u, -1 / 0],
            [u, 1 / 0],
          ]
      : (0 === i
          ? [[(n = -(s * (r = -t / o) + e) / a), r]]
          : 0 === a
          ? [[(n = -(o * (r = -e / s) + t) / i), r]]
          : 0 === o
          ? [[(n = -t / i), (r = -(a * n + e) / s)]]
          : 0 === s
          ? [[(n = -e / a), (r = -(i * n + t) / o)]]
          : [[(n = (o * e - s * t) / (s * i - o * a)), (r = -(i * n + t) / o)]]
        ).map(function (t) {
          return [t[0], t[1]];
        });
  }
  function vn(t, e) {
    var r = e.map(function (e) {
        return [0, 1].map(function (t) {
          return [Math.min(e[0][t], e[1][t]), Math.max(e[0][t], e[1][t])];
        });
      }),
      e = [];
    if (2 === t.length) {
      var n = t[0],
        i = n[0],
        n = n[1];
      if (p(i - t[1][0])) {
        if (!p(n - t[1][1])) {
          var o = Math.max.apply(
              Math,
              r.map(function (t) {
                return t[0][0];
              })
            ),
            a = Math.min.apply(
              Math,
              r.map(function (t) {
                return t[0][1];
              })
            );
          if (0 < p(o - a)) return [];
          e = [
            [o, n],
            [a, n],
          ];
        }
      } else {
        (o = Math.max.apply(
          Math,
          r.map(function (t) {
            return t[1][0];
          })
        )),
          (a = Math.min.apply(
            Math,
            r.map(function (t) {
              return t[1][1];
            })
          ));
        if (0 < p(o - a)) return [];
        e = [
          [i, o],
          [i, a],
        ];
      }
    }
    return (e = e.length
      ? e
      : t.filter(function (t) {
          var e = t[0],
            n = t[1];
          return r.every(function (t) {
            return (
              0 <= p(e - t[0][0]) &&
              0 <= p(t[0][1] - e) &&
              0 <= p(n - t[1][0]) &&
              0 <= p(t[1][1] - n)
            );
          });
        })).map(function (t) {
      return [p(t[0]), p(t[1])];
    });
  }
  function mn(n) {
    return (function () {
      for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;
      for (var r = Array(t), i = 0, e = 0; e < n; e++)
        for (var o = arguments[e], a = 0, s = o.length; a < s; a++, i++) r[i] = o[a];
      return r;
    })(n.slice(1), [n[0]]).map(function (t, e) {
      return [n[e], t];
    });
  }
  function bn(t, e) {
    var i, a, s, u, c, l, n;
    return (
      (e = e),
      (i = (t = t).slice()),
      (a = e.slice()),
      -1 === xt(i) && i.reverse(),
      -1 === xt(a) && a.reverse(),
      (s = mn(i)),
      (u = mn(a)),
      (t = s.map(function (t) {
        return hn(t[0], t[1]);
      })),
      (c = u.map(function (t) {
        return hn(t[0], t[1]);
      })),
      (l = []),
      t.forEach(function (n, r) {
        var i = s[r],
          o = [];
        c.forEach(function (t, e) {
          t = vn(gn(n, t), [i, u[e]]);
          o.push.apply(
            o,
            t.map(function (t) {
              return { index1: r, index2: e, pos: t, type: "intersection" };
            })
          );
        }),
          o.sort(function (t, e) {
            return yt(i[0], t.pos) - yt(i[0], e.pos);
          }),
          l.push.apply(l, o),
          dn(i[1], a) && l.push({ index1: r, index2: -1, pos: i[1], type: "inside" });
      }),
      u.forEach(function (t, n) {
        var r, e;
        dn(t[1], i) &&
          ((r = !1),
          -1 ===
            (e = ft(l, function (t) {
              if (t.index2 !== n) return !!r;
              r = !0;
            })) &&
            ((r = !1),
            (e = ft(l, function (t) {
              var e = t.index1,
                t = t.index2;
              if (-1 !== e || t + 1 !== n) return !!r;
              r = !0;
            }))),
          -1 === e
            ? l.push({ index1: -1, index2: n, pos: t[1], type: "inside" })
            : l.splice(e, 0, { index1: -1, index2: n, pos: t[1], type: "inside" }));
      }),
      (n = {}),
      l
        .filter(function (t) {
          (t = t.pos), (t = t[0] + "x" + t[1]);
          return !n[t] && (n[t] = !0);
        })
        .map(function (t) {
          return t.pos;
        })
    );
  }
  var xn = function (t, e) {
    return (xn =
      Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array
        ? function (t, e) {
            t.__proto__ = e;
          }
        : function (t, e) {
            for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
          }))(t, e);
  };
  var y = function () {
    return (y =
      Object.assign ||
      function (t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
          for (var i in (e = arguments[n]))
            Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        return t;
      }).apply(this, arguments);
  };
  function yn(t) {
    return (
      180 *
      ((e = [t[0].clientX, t[0].clientY]),
      (t = [t[1].clientX, t[1].clientY]),
      (n = t[0] - e[0]),
      (t = t[1] - e[1]),
      (0 <= (e = Math.atan2(t, n)) ? e : e + 2 * Math.PI) / Math.PI)
    );
    var e, n;
  }
  function En(t) {
    if (!t) return [];
    if (t.touches) {
      for (var e = t.touches, n = Math.min(e.length, 2), r = [], i = 0; i < n; ++i)
        r.push(Dn(e[i]));
      return r;
    }
    return [Dn(t)];
  }
  function Sn(t, e, n) {
    var r = n.length,
      t = wn(t, r),
      i = t.clientX,
      o = t.clientY,
      a = t.originalClientX,
      t = t.originalClientY,
      e = wn(e, r),
      s = e.clientX,
      e = e.clientY,
      n = wn(n, r);
    return {
      clientX: a,
      clientY: t,
      deltaX: i - s,
      deltaY: o - e,
      distX: i - n.clientX,
      distY: o - n.clientY,
    };
  }
  function Cn(t) {
    return Math.sqrt(
      Math.pow(t[0].clientX - t[1].clientX, 2) +
        Math.pow(t[0].clientY - t[1].clientY, 2)
    );
  }
  function Dn(t) {
    return { clientX: t.clientX, clientY: t.clientY };
  }
  function wn(t, e) {
    void 0 === e && (e = t.length);
    for (
      var n = { clientX: 0, clientY: 0, originalClientX: 0, originalClientY: 0 }, r = 0;
      r < e;
      ++r
    ) {
      var i = t[r];
      (n.originalClientX += "originalClientX" in i ? i.originalClientX : i.clientX),
        (n.originalClientY += "originalClientY" in i ? i.originalClientY : i.clientY),
        (n.clientX += i.clientX),
        (n.clientY += i.clientY);
    }
    return e
      ? {
          clientX: n.clientX / e,
          clientY: n.clientY / e,
          originalClientX: n.originalClientX / e,
          originalClientY: n.originalClientY / e,
        }
      : n;
  }
  var _n = (function () {
      function t(t) {
        (this.prevClients = []),
          (this.startClients = []),
          (this.movement = 0),
          (this.length = 0),
          (this.startClients = t),
          (this.prevClients = t),
          (this.length = t.length);
      }
      return (
        (t.prototype.getAngle = function (t) {
          return yn((t = void 0 === t ? this.prevClients : t));
        }),
        (t.prototype.getRotation = function (t) {
          return yn((t = void 0 === t ? this.prevClients : t)) - yn(this.startClients);
        }),
        (t.prototype.getPosition = function (t, e) {
          var n = Sn(
              (t = void 0 === t ? this.prevClients : t) || this.prevClients,
              this.prevClients,
              this.startClients
            ),
            r = n.deltaX,
            i = n.deltaY;
          return (this.movement += Math.sqrt(r * r + i * i)), (this.prevClients = t), n;
        }),
        (t.prototype.getPositions = function (n) {
          void 0 === n && (n = this.prevClients);
          var r = this.prevClients;
          return this.startClients.map(function (t, e) {
            return Sn([n[e]], [r[e]], [t]);
          });
        }),
        (t.prototype.getMovement = function (t) {
          var e,
            n,
            r = this.movement;
          return t
            ? ((t = wn(t, this.length)),
              (e = wn(this.prevClients, this.length)),
              (n = t.clientX - e.clientX),
              (t = t.clientY - e.clientY),
              Math.sqrt(n * n + t * t) + r)
            : r;
        }),
        (t.prototype.getDistance = function (t) {
          return Cn((t = void 0 === t ? this.prevClients : t));
        }),
        (t.prototype.getScale = function (t) {
          return Cn((t = void 0 === t ? this.prevClients : t)) / Cn(this.startClients);
        }),
        (t.prototype.move = function (e, n) {
          this.startClients.forEach(function (t) {
            (t.clientX -= e), (t.clientY -= n);
          }),
            this.prevClients.forEach(function (t) {
              (t.clientX -= e), (t.clientY -= n);
            });
        }),
        t
      );
    })(),
    Mn = ["textarea", "input"],
    On = (function (o) {
      function t() {
        this.constructor = e;
      }
      var e, n;
      function r(t, e) {
        void 0 === e && (e = {});
        var n,
          v = o.call(this) || this,
          t =
            ((v.options = {}),
            (v.flag = !1),
            (v.pinchFlag = !1),
            (v.data = {}),
            (v.isDrag = !1),
            (v.isPinch = !1),
            (v.clientStores = []),
            (v.targets = []),
            (v.prevTime = 0),
            (v.doubleFlag = !1),
            (v._useMouse = !1),
            (v._useTouch = !1),
            (v._useDrag = !1),
            (v._dragFlag = !1),
            (v._isTrusted = !1),
            (v._isMouseEvent = !1),
            (v._isSecondaryButton = !1),
            (v._preventMouseEvent = !1),
            (v._prevInputEvent = null),
            (v._isDragAPI = !1),
            (v._isIdle = !0),
            (v._window = window),
            (v.onDragStart = function (t, e) {
              if ((void 0 === e && (e = !0), v.flag || !1 !== t.cancelable)) {
                var n = -1 <= t.type.indexOf("drag");
                if (!v.flag || !n) {
                  v._isDragAPI = !0;
                  var n = v.options,
                    r = n.container,
                    i = n.pinchOutside,
                    o = n.preventWheelClick,
                    a = n.preventRightClick,
                    s = n.preventDefault,
                    u = n.checkInput,
                    c = n.dragFocusedInput,
                    l = n.preventClickEventOnDragStart,
                    f = n.preventClickEventOnDrag,
                    n = n.preventClickEventByCondition,
                    p = v._useTouch,
                    d = !v.flag;
                  if (
                    ((v._isSecondaryButton = 3 === t.which || 2 === t.button),
                    (o && (2 === t.which || 1 === t.button)) ||
                      (a && (3 === t.which || 2 === t.button)))
                  )
                    return v.stop(), !1;
                  if (d) {
                    (o = v._window.document.activeElement), (a = t.target);
                    if (a) {
                      var h = a.tagName.toLowerCase(),
                        h = -1 < Mn.indexOf(h),
                        g = a.isContentEditable;
                      if (h || g) {
                        if (u || (!c && o === a)) return !1;
                        if (
                          o &&
                          (o === a || (g && o.isContentEditable && o.contains(a)))
                        ) {
                          if (!c) return !1;
                          a.blur();
                        }
                      } else
                        (s || "touchstart" === t.type) &&
                          o &&
                          ((h = o.tagName.toLowerCase()),
                          o.isContentEditable || -1 < Mn.indexOf(h)) &&
                          o.blur();
                      (l || f || n) && m(v._window, "click", v._onClick, !0);
                    }
                    (v.clientStores = [new _n(En(t))]),
                      (v._isIdle = !1),
                      (v.flag = !0),
                      (v.isDrag = !1),
                      (v._isTrusted = e),
                      (v._dragFlag = !0),
                      (v._prevInputEvent = t),
                      (v.data = {}),
                      (v.doubleFlag = lt() - v.prevTime < 200),
                      (v._isMouseEvent =
                        (u = t) && (-1 < u.type.indexOf("mouse") || "button" in u)),
                      !v._isMouseEvent &&
                        v._preventMouseEvent &&
                        (v._preventMouseEvent = !1),
                      !1 ===
                        (v._preventMouseEvent ||
                          v.emit(
                            "dragStart",
                            y(
                              y(
                                {
                                  data: v.data,
                                  datas: v.data,
                                  inputEvent: t,
                                  isMouseEvent: v._isMouseEvent,
                                  isSecondaryButton: v._isSecondaryButton,
                                  isTrusted: e,
                                  isDouble: v.doubleFlag,
                                },
                                v.getCurrentStore().getPosition()
                              ),
                              {
                                preventDefault: function () {
                                  t.preventDefault();
                                },
                                preventDrag: function () {
                                  v._dragFlag = !1;
                                },
                              }
                            )
                          )) && v.stop(),
                      v._isMouseEvent && v.flag && s && t.preventDefault();
                  }
                  if (!v.flag) return !1;
                  g = 0;
                  d
                    ? (v._attchDragEvent(),
                      p &&
                        i &&
                        (g = setTimeout(function () {
                          m(r, "touchstart", v.onDragStart, { passive: !1 });
                        })))
                    : p && i && b(r, "touchstart", v.onDragStart),
                    v.flag &&
                      (c = t).touches &&
                      2 <= c.touches.length &&
                      (clearTimeout(g),
                      (d && t.touches.length !== t.changedTouches.length) ||
                        v.pinchFlag ||
                        v.onPinchStart(t));
                }
              }
            }),
            (v.onDrag = function (t, e) {
              if (v.flag) {
                var n = v.options.preventDefault,
                  n =
                    (!v._isMouseEvent && n && t.preventDefault(),
                    En((v._prevInputEvent = t))),
                  r = v.moveClients(n, t, !1);
                if (v._dragFlag) {
                  if (v.pinchFlag || r.deltaX || r.deltaY)
                    if (
                      !1 ===
                      (v._preventMouseEvent ||
                        v.emit("drag", y(y({}, r), { isScroll: !!e, inputEvent: t })))
                    )
                      return void v.stop();
                  v.pinchFlag && v.onPinch(t, n);
                }
                v.getCurrentStore().getPosition(n, !0);
              }
            }),
            (v.onDragEnd = function (t) {
              var e, n, r, i, o, a;
              v.flag &&
                ((a = (r = v.options).pinchOutside),
                (e = r.container),
                (o = r.preventClickEventOnDrag),
                (i = r.preventClickEventOnDragStart),
                (r = r.preventClickEventByCondition),
                (n = v.isDrag),
                (o || i || r) &&
                  requestAnimationFrame(function () {
                    v._allowClickEvent();
                  }),
                r || i || !o || n || v._allowClickEvent(),
                v._useTouch && a && b(e, "touchstart", v.onDragStart),
                v.pinchFlag && v.onPinchEnd(t),
                0 !== (r = null != t && t.touches ? En(t) : []).length &&
                v.options.keepDragging
                  ? v._addStore(new _n(r))
                  : (v.flag = !1),
                (i = v._getPosition()),
                (o = lt()),
                (a = !n && v.doubleFlag),
                (v._prevInputEvent = null),
                (v.prevTime = n || a ? 0 : o),
                v.flag ||
                  (v._dettachDragEvent(),
                  v._preventMouseEvent ||
                    v.emit(
                      "dragEnd",
                      y(
                        {
                          data: v.data,
                          datas: v.data,
                          isDouble: a,
                          isDrag: n,
                          isClick: !n,
                          isMouseEvent: v._isMouseEvent,
                          isSecondaryButton: v._isSecondaryButton,
                          inputEvent: t,
                          isTrusted: v._isTrusted,
                        },
                        i
                      )
                    ),
                  (v.clientStores = []),
                  v._isMouseEvent ||
                    ((v._preventMouseEvent = !0),
                    requestAnimationFrame(function () {
                      requestAnimationFrame(function () {
                        v._preventMouseEvent = !1;
                      });
                    })),
                  (v._isIdle = !0)));
            }),
            (v.onBlur = function () {
              v.onDragEnd();
            }),
            (v._allowClickEvent = function () {
              b(v._window, "click", v._onClick, !0);
            }),
            (v._onClick = function (t) {
              v._allowClickEvent(), (v._preventMouseEvent = !1);
              var e = v.options.preventClickEventByCondition;
              (null != e && e(t)) || (t.stopPropagation(), t.preventDefault());
            }),
            (v._onContextMenu = function (t) {
              v.options.preventRightClick ? v.onDragEnd(t) : t.preventDefault();
            }),
            (v._passCallback = function () {}),
            [].concat(t)),
          r = t[0],
          r =
            ((v._window = !r || "document" in r ? window : Ot(r)),
            (v.options = y(
              {
                checkInput: !1,
                container: !r || "document" in r ? r : Ot(r),
                preventRightClick: !0,
                preventWheelClick: !0,
                preventClickEventOnDragStart: !1,
                preventClickEventOnDrag: !1,
                preventClickEventByCondition: null,
                preventDefault: !0,
                checkWindowBlur: !1,
                keepDragging: !1,
                pinchThreshold: 0,
                events: ["touch", "mouse"],
              },
              e
            )),
            v.options),
          e = r.container,
          i = r.events,
          r = r.checkWindowBlur;
        return (
          (v._useDrag = -1 < i.indexOf("drag")),
          (v._useTouch = -1 < i.indexOf("touch")),
          (v._useMouse = -1 < i.indexOf("mouse")),
          (v.targets = t),
          v._useDrag &&
            t.forEach(function (t) {
              m(t, "dragstart", v.onDragStart);
            }),
          v._useMouse &&
            (t.forEach(function (t) {
              m(t, "mousedown", v.onDragStart), m(t, "mousemove", v._passCallback);
            }),
            m(e, "contextmenu", v._onContextMenu)),
          r && m(Ot(), "blur", v.onBlur),
          v._useTouch &&
            ((n = { passive: !1 }),
            t.forEach(function (t) {
              m(t, "touchstart", v.onDragStart, n),
                m(t, "touchmove", v._passCallback, n);
            })),
          v
        );
      }
      return (
        xn((e = r), (n = o)),
        (e.prototype =
          null === n ? Object.create(n) : ((t.prototype = n.prototype), new t())),
        (r.prototype.stop = function () {
          (this.isDrag = !1),
            (this.data = {}),
            (this.clientStores = []),
            (this.pinchFlag = !1),
            (this.doubleFlag = !1),
            (this.prevTime = 0),
            (this.flag = !1),
            (this._isIdle = !0),
            this._allowClickEvent(),
            this._dettachDragEvent(),
            (this._isDragAPI = !1);
        }),
        (r.prototype.getMovement = function (t) {
          return (
            this.getCurrentStore().getMovement(t) +
            this.clientStores.slice(1).reduce(function (t, e) {
              return t + e.movement;
            }, 0)
          );
        }),
        (r.prototype.isDragging = function () {
          return this.isDrag;
        }),
        (r.prototype.isIdle = function () {
          return this._isIdle;
        }),
        (r.prototype.isFlag = function () {
          return this.flag;
        }),
        (r.prototype.isPinchFlag = function () {
          return this.pinchFlag;
        }),
        (r.prototype.isDoubleFlag = function () {
          return this.doubleFlag;
        }),
        (r.prototype.isPinching = function () {
          return this.isPinch;
        }),
        (r.prototype.scrollBy = function (t, e, n, r) {
          void 0 === r && (r = !0),
            this.flag && (this.clientStores[0].move(t, e), r) && this.onDrag(n, !0);
        }),
        (r.prototype.move = function (t, e) {
          var n = t[0],
            r = t[1],
            t = this.getCurrentStore().prevClients;
          return this.moveClients(
            t.map(function (t) {
              var e = t.clientX,
                t = t.clientY;
              return {
                clientX: e + n,
                clientY: t + r,
                originalClientX: e,
                originalClientY: t,
              };
            }),
            e,
            !0
          );
        }),
        (r.prototype.triggerDragStart = function (t) {
          this.onDragStart(t, !1);
        }),
        (r.prototype.setEventData = function (t) {
          var e,
            n = this.data;
          for (e in t) n[e] = t[e];
          return this;
        }),
        (r.prototype.setEventDatas = function (t) {
          return this.setEventData(t);
        }),
        (r.prototype.getCurrentEvent = function (t) {
          return (
            void 0 === t && (t = this._prevInputEvent),
            y(y({ data: this.data, datas: this.data }, this._getPosition()), {
              movement: this.getMovement(),
              isDrag: this.isDrag,
              isPinch: this.isPinch,
              isScroll: !1,
              inputEvent: t,
            })
          );
        }),
        (r.prototype.getEventData = function () {
          return this.data;
        }),
        (r.prototype.getEventDatas = function () {
          return this.data;
        }),
        (r.prototype.unset = function () {
          var e = this,
            t = this.targets,
            n = this.options.container;
          this.off(),
            b(this._window, "blur", this.onBlur),
            this._useDrag &&
              t.forEach(function (t) {
                b(t, "dragstart", e.onDragStart);
              }),
            this._useMouse &&
              (t.forEach(function (t) {
                b(t, "mousedown", e.onDragStart);
              }),
              b(n, "contextmenu", this._onContextMenu)),
            this._useTouch &&
              (t.forEach(function (t) {
                b(t, "touchstart", e.onDragStart);
              }),
              b(n, "touchstart", this.onDragStart)),
            (this._prevInputEvent = null),
            this._allowClickEvent(),
            this._dettachDragEvent();
        }),
        (r.prototype.onPinchStart = function (t) {
          var e = this,
            n = this.options.pinchThreshold;
          (this.isDrag && this.getMovement() > n) ||
            ((n = new _n(En(t))),
            (this.pinchFlag = !0),
            this._addStore(n),
            !1 ===
              this.emit(
                "pinchStart",
                y(
                  y(
                    {
                      data: this.data,
                      datas: this.data,
                      angle: n.getAngle(),
                      touches: this.getCurrentStore().getPositions(),
                    },
                    n.getPosition()
                  ),
                  {
                    inputEvent: t,
                    isTrusted: this._isTrusted,
                    preventDefault: function () {
                      t.preventDefault();
                    },
                    preventDrag: function () {
                      e._dragFlag = !1;
                    },
                  }
                )
              ) && (this.pinchFlag = !1));
        }),
        (r.prototype.onPinch = function (t, e) {
          var n;
          !this.flag ||
            !this.pinchFlag ||
            e.length < 2 ||
            ((n = this.getCurrentStore()),
            (this.isPinch = !0),
            this.emit(
              "pinch",
              y(
                y(
                  {
                    data: this.data,
                    datas: this.data,
                    movement: this.getMovement(e),
                    angle: n.getAngle(e),
                    rotation: n.getRotation(e),
                    touches: n.getPositions(e),
                    scale: n.getScale(e),
                    distance: n.getDistance(e),
                  },
                  n.getPosition(e)
                ),
                { inputEvent: t, isTrusted: this._isTrusted }
              )
            ));
        }),
        (r.prototype.onPinchEnd = function (t) {
          var e, n;
          this.pinchFlag &&
            ((e = this.isPinch),
            (this.isPinch = !1),
            (this.pinchFlag = !1),
            (n = this.getCurrentStore()),
            this.emit(
              "pinchEnd",
              y(
                y(
                  {
                    data: this.data,
                    datas: this.data,
                    isPinch: e,
                    touches: n.getPositions(),
                  },
                  n.getPosition()
                ),
                { inputEvent: t }
              )
            ));
        }),
        (r.prototype.getCurrentStore = function () {
          return this.clientStores[0];
        }),
        (r.prototype.moveClients = function (t, e, n) {
          var n = this._getPosition(t, n),
            r = this.isDrag,
            i = ((n.deltaX || n.deltaY) && (this.isDrag = !0), !1);
          return (
            !r && this.isDrag && (i = !0),
            y(y({ data: this.data, datas: this.data }, n), {
              movement: this.getMovement(t),
              isDrag: this.isDrag,
              isPinch: this.isPinch,
              isScroll: !1,
              isMouseEvent: this._isMouseEvent,
              isSecondaryButton: this._isSecondaryButton,
              inputEvent: e,
              isTrusted: this._isTrusted,
              isFirstDrag: i,
            })
          );
        }),
        (r.prototype._addStore = function (t) {
          this.clientStores.splice(0, 0, t);
        }),
        (r.prototype._getPosition = function (t, e) {
          var t = this.getCurrentStore().getPosition(t, e),
            e = this.clientStores.slice(1).reduce(function (t, e) {
              e = e.getPosition();
              return (t.distX += e.distX), (t.distY += e.distY), t;
            }, t),
            n = e.distX,
            e = e.distY;
          return y(y({}, t), { distX: n, distY: e });
        }),
        (r.prototype._attchDragEvent = function () {
          var t = this._window,
            e = this.options.container,
            n = { passive: !1 };
          this._isDragAPI &&
            (m(e, "dragover", this.onDrag, n), m(t, "dragend", this.onDragEnd)),
            this._useMouse &&
              (m(e, "mousemove", this.onDrag), m(t, "mouseup", this.onDragEnd)),
            this._useTouch &&
              (m(e, "touchmove", this.onDrag, n),
              m(t, "touchend", this.onDragEnd, n),
              m(t, "touchcancel", this.onDragEnd, n));
        }),
        (r.prototype._dettachDragEvent = function () {
          var t = this._window,
            e = this.options.container;
          this._isDragAPI &&
            (b(e, "dragover", this.onDrag), b(t, "dragend", this.onDragEnd)),
            this._useMouse &&
              (b(e, "mousemove", this.onDrag), b(t, "mouseup", this.onDragEnd)),
            this._useTouch &&
              (b(e, "touchstart", this.onDragStart),
              b(e, "touchmove", this.onDrag),
              b(t, "touchend", this.onDragEnd),
              b(t, "touchcancel", this.onDragEnd));
        }),
        r
      );
    })(nn);
  var Rn = function (t) {
    for (var e = 5381, n = t.length; n; ) e = (33 * e) ^ t.charCodeAt(--n);
    return e >>> 0;
  };
  function Pn(t, e, n, r, i) {
    var o,
      r = wt(r),
      a = r.createElement("style");
    return (
      a.setAttribute("type", "text/css"),
      a.setAttribute("data-styled-id", t),
      a.setAttribute("data-styled-count", "1"),
      n.nonce && a.setAttribute("nonce", n.nonce),
      (a.innerHTML =
        ((o = t),
        (t = e),
        n.original
          ? t
          : t.replace(/([^};{\s}][^};{]*|^\s*){/gm, function (t, e) {
              e = e.trim();
              return (
                (e ? at(e) : [""])
                  .map(function (t) {
                    t = t.trim();
                    return 0 === t.indexOf("@")
                      ? t
                      : -1 < t.indexOf(":global")
                      ? t.replace(/\:global/g, "")
                      : -1 < t.indexOf(":host")
                      ? "".concat(t.replace(/\:host/g, ".".concat(o)))
                      : t
                      ? ".".concat(o, " ").concat(t)
                      : ".".concat(o);
                  })
                  .join(", ") + " {"
              );
            }))),
      (i || r.head || r.body).appendChild(a),
      a
    );
  }
  function Tn(o) {
    var a = "rCS" + Rn(o).toString(36);
    return {
      className: a,
      inject: function (t, e) {
        void 0 === e && (e = {});
        var n,
          r = (function (t) {
            if (t && t.getRootNode) {
              t = t.getRootNode();
              if (11 === t.nodeType) return t;
            }
          })(t),
          i = (r || t.ownerDocument || document).querySelector(
            'style[data-styled-id="'.concat(a, '"]')
          );
        return (
          i
            ? ((n = parseFloat(i.getAttribute("data-styled-count")) || 0),
              i.setAttribute("data-styled-count", "".concat(n + 1)))
            : (i = Pn(a, o, e, t, r)),
          {
            destroy: function () {
              var t,
                e = parseFloat(i.getAttribute("data-styled-count")) || 0;
              e <= 1
                ? (i.remove
                    ? i.remove()
                    : null != (t = i.parentNode) && t.removeChild(i),
                  (i = null))
                : i.setAttribute("data-styled-count", "".concat(e - 1));
            },
          }
        );
      },
    };
  }
  var zn = function () {
    return (zn =
      Object.assign ||
      function (t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
          for (var i in (e = arguments[n]))
            Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        return t;
      }).apply(this, arguments);
  };
  function Gn(s, t) {
    var u = Tn(t),
      c = u.className;
    return (
      ((t = function (e, t) {
        var n,
          r,
          i = e.className,
          i = void 0 === i ? "" : i,
          o =
            (e.cspNonce,
            (function (t, e) {
              var n = {};
              for (i in t)
                Object.prototype.hasOwnProperty.call(t, i) &&
                  e.indexOf(i) < 0 &&
                  (n[i] = t[i]);
              if (null != t && "function" == typeof Object.getOwnPropertySymbols)
                for (var r = 0, i = Object.getOwnPropertySymbols(t); r < i.length; r++)
                  e.indexOf(i[r]) < 0 &&
                    Object.prototype.propertyIsEnumerable.call(t, i[r]) &&
                    (n[i[r]] = t[i[r]]);
              return n;
            })(e, ["className", "cspNonce"])),
          a = he();
        return (
          (n = t),
          (r = function () {
            return a.current;
          }),
          ge(
            function () {
              null != n && n(r());
            },
            [],
            !0
          ),
          ge(function () {
            var t = u.inject(a.current, { nonce: e.cspNonce });
            return function () {
              t.destroy();
            };
          }, []),
          se(
            s,
            zn(
              { ref: a, "data-styled-id": c, className: "".concat(i, " ").concat(c) },
              o
            )
          )
        );
      })._fr = !0),
      t
    );
  }
  var kn = function (t, e) {
    return (kn =
      Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array
        ? function (t, e) {
            t.__proto__ = e;
          }
        : function (t, e) {
            for (var n in e)
              Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
          }))(t, e);
  };
  function An(t, e) {
    if ("function" != typeof e && null !== e)
      throw new TypeError(
        "Class extends value " + String(e) + " is not a constructor or null"
      );
    function n() {
      this.constructor = t;
    }
    kn(t, e),
      (t.prototype =
        null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
  }
  var Q = function () {
    return (Q =
      Object.assign ||
      function (t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
          for (var i in (e = arguments[n]))
            Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        return t;
      }).apply(this, arguments);
  };
  function tt(t, e, n) {
    if (n || 2 === arguments.length)
      for (var r, i = 0, o = e.length; i < o; i++)
        (!r && i in e) || ((r = r || Array.prototype.slice.call(e, 0, i))[i] = e[i]);
    return t.concat(r || Array.prototype.slice.call(e));
  }
  function Bn(t, e) {
    return Q({ events: [], props: [], name: t }, e);
  }
  var In = ["n", "w", "s", "e"],
    Fn = ["n", "w", "s", "e", "nw", "ne", "sw", "se"];
  var Nn,
    e,
    Yn,
    n,
    Xn,
    r,
    i,
    Me =
      void 0 === Wn &&
      (function () {
        var t;
        if ("undefined" != typeof navigator && navigator && navigator.userAgentData)
          return (t = (t = navigator.userAgentData).brands || t.uaList) && t.length;
      })()
        ? ((Nn = ((r = navigator.userAgentData).uaList || r.brands).slice()),
          (e = o && o.fullVersionList),
          (Yn = r.mobile || !1),
          (n = Nn[0]),
          (Xn = ((o && o.platform) || r.platform || navigator.platform).toLowerCase()),
          (r = {
            name: n.brand,
            version: n.version,
            majorVersion: -1,
            webkit: !1,
            webkitVersion: "-1",
            chromium: !1,
            chromiumVersion: "-1",
            webview: !!Se(_e, Nn).brand || Oe(be()),
          }),
          (n = { name: "unknown", version: "-1", majorVersion: -1 }),
          (r.webkit =
            !r.chromium &&
            ve(we, function (t) {
              return Ce(Nn, t);
            })),
          (i = Se(De, Nn)),
          (r.chromium = !!i.brand),
          (r.chromiumVersion = i.version),
          r.chromium ||
            ((i = Se(we, Nn)), (r.webkit = !!i.brand), (r.webkitVersion = i.version)),
          (i = me(Me, function (t) {
            return new RegExp("" + t.test, "g").exec(Xn);
          })),
          (n.name = i ? i.id : ""),
          o && (n.version = o.platformVersion),
          e && e.length
            ? ((i = Se(t, e)),
              (r.name = i.brand || r.name),
              (r.version = i.version || r.version))
            : ((e = Se(t, Nn)),
              (r.name = e.brand || r.name),
              (r.version = e.brand && o ? o.uaFullVersion : e.version)),
          r.webkit && (n.name = Yn ? "ios" : "mac"),
          "ios" === n.name && r.webview && (r.version = "-1"),
          (n.version = ye(n.version)),
          (r.version = ye(r.version)),
          (n.majorVersion = parseInt(n.version, 10)),
          (r.majorVersion = parseInt(r.version, 10)),
          { browser: r, os: n, isMobile: Yn, isHints: !0 })
        : ((i = be((i = Wn))),
          (o = !!/mobi/g.exec(i)),
          (e = {
            name: "unknown",
            version: "-1",
            majorVersion: -1,
            webview: Oe(i),
            chromium: !1,
            chromiumVersion: "-1",
            webkit: !1,
            webkitVersion: "-1",
          }),
          (r = { name: "unknown", version: "-1", majorVersion: -1 }),
          (Yn = (n = Ee(t, i)).preset),
          (n = n.version),
          (Bt = (Wn = Ee(Me, i)).preset),
          (Wn = Wn.version),
          (t = Ee(De, i)),
          (e.chromium = !!t.preset),
          (e.chromiumVersion = t.version),
          e.chromium ||
            ((t = Ee(we, i)), (e.webkit = !!t.preset), (e.webkitVersion = t.version)),
          Bt &&
            ((r.name = Bt.id), (r.version = Wn), (r.majorVersion = parseInt(Wn, 10))),
          Yn &&
            ((e.name = Yn.id), (e.version = n), e.webview) &&
            "ios" === r.name &&
            "safari" !== e.name &&
            (e.webview = !1),
          (e.majorVersion = parseInt(e.version, 10)),
          { browser: e, os: r, isMobile: o, isHints: !1 }),
    qn = Me.browser.webkit,
    jn =
      qn &&
      ((De = "undefined" == typeof window ? { userAgent: "" } : window.navigator),
      !!(De = /applewebkit\/([^\s]+)/g.exec(De.userAgent.toLowerCase()))) &&
      parseFloat(De[1]) < 605,
    we = Me.browser.name,
    t = parseInt(Me.browser.version, 10),
    Bt = "chrome" === we,
    Wn = Me.browser.chromium,
    o = parseInt(Me.browser.chromiumVersion, 10) || 0,
    Hn = (Bt && 109 <= t) || (Wn && 109 <= o),
    Ln = "firefox" === we,
    Vn = 612 <= parseInt(Me.browser.webkitVersion, 10) || 15 <= t,
    Un = "moveable-",
    De = Fn.map(function (t) {
      var e = "",
        n = "",
        r = "center",
        i = "center",
        o = "calc(var(--moveable-control-padding, 20) * -1px)";
      return (
        -1 < t.indexOf("n") && ((e = "top: ".concat(o, ";")), (i = "bottom")),
        -1 < t.indexOf("s") && ((e = "top: 0px;"), (i = "top")),
        -1 < t.indexOf("w") && ((n = "left: ".concat(o, ";")), (r = "right")),
        -1 < t.indexOf("e") && ((n = "left: 0px;"), (r = "left")),
        '.around-control[data-direction*="'
          .concat(t, '"] {\n        ')
          .concat(n)
          .concat(e, "\n        transform-origin: ")
          .concat(r, " ")
          .concat(i, ";\n    }")
      );
    }).join("\n"),
    $n =
      "\n{\nposition: absolute;\nwidth: 1px;\nheight: 1px;\nleft: 0;\ntop: 0;\nz-index: 3000;\n--moveable-color: #4af;\n--zoom: 1;\n--zoompx: 1px;\n--moveable-line-padding: 0;\n--moveable-control-padding: 0;\nwill-change: transform;\noutline: 1px solid transparent;\n}\n.control-box {\nz-index: 0;\n}\n.line, .control {\nposition: absolute;\nleft: 0;\ntop: 0;\nwill-change: transform;\n}\n.control {\nwidth: 14px;\nheight: 14px;\nborder-radius: 50%;\nborder: 2px solid #fff;\nbox-sizing: border-box;\nbackground: #4af;\nbackground: var(--moveable-color);\nmargin-top: -7px;\nmargin-left: -7px;\nborder: 2px solid #fff;\nz-index: 10;\n}\n.around-control {\nposition: absolute;\nwill-change: transform;\nwidth: calc(var(--moveable-control-padding, 20) * 1px);\nheight: calc(var(--moveable-control-padding, 20) * 1px);\nleft: calc(var(--moveable-control-padding, 20) * -0.5px);\ntop: calc(var(--moveable-control-padding, 20) * -0.5px);\nbox-sizing: border-box;\nbackground: transparent;\nz-index: 8;\ncursor: alias;\ntransform-origin: center center;\n}\n"
        .concat(
          De,
          "\n.padding {\nposition: absolute;\ntop: 0px;\nleft: 0px;\nwidth: 100px;\nheight: 100px;\ntransform-origin: 0 0;\n}\n.line {\nwidth: 1px;\nheight: 1px;\nbackground: #4af;\nbackground: var(--moveable-color);\ntransform-origin: 0px 50%;\n}\n.line.edge {\nz-index: 1;\nbackground: transparent;\n}\n.line.dashed {\nbox-sizing: border-box;\nbackground: transparent;\n}\n.line.dashed.horizontal {\nborder-top: 1px dashed #4af;\nborder-top-color: #4af;\nborder-top-color: var(--moveable-color);\n}\n.line.dashed.vertical {\nborder-left: 1px dashed #4af;\nborder-left-color: #4af;\nborder-left-color: var(--moveable-color);\n}\n.line.vertical {\ntransform: translateX(-50%);\n}\n.line.horizontal {\ntransform: translateY(-50%);\n}\n.line.vertical.bold {\nwidth: 2px;\n}\n.line.horizontal.bold {\nheight: 2px;\n}\n\n.control.origin {\nborder-color: #f55;\nbackground: #fff;\nwidth: 12px;\nheight: 12px;\nmargin-top: -6px;\nmargin-left: -6px;\npointer-events: none;\n}\n"
        )
        .concat(
          [0, 15, 30, 45, 60, 75, 90, 105, 120, 135, 150, 165]
            .map(function (t) {
              return '\n.direction[data-rotation="'
                .concat(t, '"], :global .view-control-rotation')
                .concat(t, " {\n")
                .concat(
                  ((n = t = t),
                  (e =
                    'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'
                      .concat(32 * (e = 1), 'px" height="')
                      .concat(
                        32 * e,
                        'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('
                      )
                      .concat(n, 'deg);transform-origin: 16px 16px"></path></svg>')),
                  (n = (45 * Math.round(t / 45)) % 180),
                  (t = "ns-resize"),
                  135 == n
                    ? (t = "nwse-resize")
                    : 45 == n
                    ? (t = "nesw-resize")
                    : 90 == n && (t = "ew-resize"),
                  "cursor:"
                    .concat(t, ";cursor: url('")
                    .concat(e, "') 16 16, ")
                    .concat(t, ";")),
                  "\n}\n"
                );
              var e, n;
            })
            .join("\n"),
          '\n\n.line.direction:before {\ncontent: "";\nposition: absolute;\nwidth: 100%;\nheight: calc(var(--moveable-line-padding, 0) * 1px);\nbottom: 0;\nleft: 0;\n}\n.group {\nz-index: -1;\n}\n.area {\nposition: absolute;\n}\n.area-pieces {\nposition: absolute;\ntop: 0;\nleft: 0;\ndisplay: none;\n}\n.area.avoid, .area.pass {\npointer-events: none;\n}\n.area.avoid+.area-pieces {\ndisplay: block;\n}\n.area-piece {\nposition: absolute;\n}\n\n'
        )
        .concat(
          jn
            ? ':global svg *:before {\ncontent:"";\ntransform-origin: inherit;\n}'
            : "",
          "\n"
        ),
    Zn = [
      [0, 1, 2],
      [1, 0, 3],
      [2, 0, 3],
      [3, 1, 2],
    ],
    Kn = 1e-4,
    L = 1e-7,
    Jn = Math.pow(10, 10),
    Qn = -Jn,
    tr = {
      n: [0, -1],
      e: [1, 0],
      s: [0, 1],
      w: [-1, 0],
      nw: [-1, -1],
      ne: [1, -1],
      sw: [-1, 1],
      se: [1, 1],
    },
    er = {
      n: [0, 1],
      e: [1, 3],
      s: [3, 2],
      w: [2, 0],
      nw: [0],
      ne: [1],
      sw: [2],
      se: [3],
    },
    nr = { n: 0, s: 180, w: 270, e: 90, nw: 315, ne: 45, sw: 225, se: 135 },
    rr = [
      "isMoveableElement",
      "updateRect",
      "updateTarget",
      "destroy",
      "dragStart",
      "isInside",
      "hitTest",
      "setState",
      "getRect",
      "request",
      "isDragging",
      "getManager",
      "forceUpdate",
      "waitToChangeTarget",
      "updateSelectors",
      "getTargets",
      "stopDrag",
      "getControlBoxElement",
    ];
  function ir(t, e, n, r, i, o) {
    var n =
        null !=
        (a =
          null == (a = e.gestos[(o = void 0 === o ? "draggable" : o)])
            ? void 0
            : a.move(n, t.inputEvent))
          ? a
          : {},
      a = n.originalDatas || n.datas,
      a = a[o] || (a[o] = {});
    return Q(Q({}, i ? Wo(e, n) : n), {
      isPinch: !!r,
      parentEvent: !0,
      datas: a,
      originalDatas: t.originalDatas,
    });
  }
  var or = (function () {
    function t(t) {
      var e;
      (this.ableName = t = void 0 === t ? "draggable" : t),
        (this.prevX = 0),
        (this.prevY = 0),
        (this.startX = 0),
        (this.startY = 0),
        (this.isDrag = !1),
        (this.isFlag = !1),
        (this.datas = { draggable: {} }),
        (this.datas = (((e = {})[t] = {}), e));
    }
    var e = t.prototype;
    return (
      (e.dragStart = function (t, e) {
        (this.isDrag = !1), (this.isFlag = !1);
        var n = e.originalDatas;
        return (
          (this.datas = n)[this.ableName] || (n[this.ableName] = {}),
          Q(Q({}, this.move(t, e.inputEvent)), { type: "dragstart" })
        );
      }),
      (e.drag = function (t, e) {
        return this.move([t[0] - this.prevX, t[1] - this.prevY], e);
      }),
      (e.move = function (t, e) {
        var n,
          r,
          i,
          o = !1;
        return (
          this.isFlag
            ? ((n = this.isDrag),
              (r = this.prevX + t[0]),
              (i = this.prevY + t[1]),
              (t[0] || t[1]) && (this.isDrag = !0),
              !n && this.isDrag && (o = !0))
            : ((this.prevX = t[0]),
              (this.prevY = t[1]),
              (this.startX = t[0]),
              (this.startY = t[1]),
              (r = t[0]),
              (i = t[1]),
              (this.isFlag = !0)),
          {
            type: "drag",
            clientX: (this.prevX = r),
            clientY: (this.prevY = i),
            inputEvent: e,
            isFirstDrag: o,
            isDrag: this.isDrag,
            distX: r - this.startX,
            distY: i - this.startY,
            deltaX: t[0],
            deltaY: t[1],
            datas: this.datas[this.ableName],
            originalDatas: this.datas,
            parentEvent: !0,
            parentGesto: this,
          }
        );
      }),
      t
    );
  })();
  function ar(t, e, n, r) {
    var i = 16 === t.length ? 4 : 3,
      n = go(t, n, r, i),
      r = n[0],
      o = r[0],
      r = r[1],
      a = n[1],
      s = a[0],
      a = a[1],
      u = n[2],
      c = u[0],
      u = u[1],
      n = n[3],
      l = n[0],
      n = n[1],
      e = I(t, e, i),
      f = e[0],
      e = e[1],
      p = Math.min(o, s, c, l),
      d = Math.min(r, a, u, n);
    return {
      left: p,
      top: d,
      right: Math.max(o, s, c, l),
      bottom: Math.max(r, a, u, n),
      origin: [f - p || 0, e - d || 0],
      pos1: [o - p || 0, r - d || 0],
      pos2: [s - p || 0, a - d || 0],
      pos3: [c - p || 0, u - d || 0],
      pos4: [l - p || 0, n - d || 0],
      direction: ra(t[0] * t[1 + i]),
    };
  }
  function sr(t, e) {
    var n = e.clientX,
      r = e.clientY,
      e = e.datas,
      t = t.state,
      i = t.moveableClientRect,
      o = t.rootMatrix,
      a = t.is3d,
      t = t.pos1,
      o = G(jo(o, [n - i.left, r - i.top], a ? 4 : 3), t),
      n = hr({ datas: e, distX: o[0], distY: o[1] });
    return [n[0], n[1]];
  }
  function ur(t, e) {
    var e = e.datas,
      t = t.state,
      n = t.allMatrix,
      r = t.beforeMatrix,
      i = t.is3d,
      o = t.left,
      a = t.top,
      s = t.origin,
      u = t.offsetMatrix,
      c = t.targetMatrix,
      t = t.transformOrigin,
      l = i ? 4 : 3;
    (e.is3d = i),
      (e.matrix = n),
      (e.targetMatrix = c),
      (e.beforeMatrix = r),
      (e.offsetMatrix = u),
      (e.transformOrigin = t),
      (e.inverseMatrix = Pe(n, l)),
      (e.inverseBeforeMatrix = Pe(r, l)),
      (e.absoluteOrigin = ze(J([o, a], s), l)),
      (e.startDragBeforeDist = z(e.inverseBeforeMatrix, e.absoluteOrigin, l)),
      (e.startDragDist = z(e.inverseMatrix, e.absoluteOrigin, l));
  }
  function cr(t, e) {
    var n,
      r,
      i,
      o,
      a,
      s,
      u,
      c,
      l,
      f,
      p,
      d,
      h,
      g = t.datas,
      t = t.originalDatas.beforeRenderable,
      v = g.transformIndex,
      m = t.nextTransforms,
      b = m.length,
      x = t.nextTransformAppendedIndexes,
      y = -1,
      m =
        (-1 === v
          ? ("translate" === e
              ? (y = 0)
              : "rotate" === e &&
                (y = ft(m, function (t) {
                  return t.match(/scale\(/g);
                })),
            -1 === y && (y = m.length),
            (g.transformIndex = y))
          : (y = _(x, function (t) {
              return t.index === v && t.functionName === e;
            })
              ? v
              : v +
                x.filter(function (t) {
                  return t.index < v;
                }).length),
        (n = y),
        (r = Ze((m = m))),
        (i = m.slice(0, n < 0 ? void 0 : n)),
        (o = m.slice(0, n < 0 ? void 0 : n + 1)),
        (a = m[n] || ""),
        (s = n < 0 ? [] : m.slice(n)),
        (u = n < 0 ? [] : m.slice(n + 1)),
        (c = r.slice(0, n < 0 ? void 0 : n)),
        (l = r.slice(0, n < 0 ? void 0 : n + 1)),
        (E = null != (E = r[n]) ? E : Ze([""])[0]),
        (f = n < 0 ? [] : r.slice(n)),
        (r = n < 0 ? [] : r.slice(n + 1)),
        (n = E ? [E] : []),
        (E = $e(c)),
        (S = $e(l)),
        (p = $e(f)),
        (d = $e(r)),
        (h = K(E, p, 4)),
        {
          transforms: m,
          beforeFunctionMatrix: E,
          beforeFunctionMatrix2: S,
          targetFunctionMatrix: $e(n),
          afterFunctionMatrix: p,
          afterFunctionMatrix2: d,
          allFunctionMatrix: h,
          beforeFunctions: c,
          beforeFunctions2: l,
          targetFunction: n[0],
          afterFunctions: f,
          afterFunctions2: r,
          beforeFunctionTexts: i,
          beforeFunctionTexts2: o,
          targetFunctionText: a,
          afterFunctionTexts: s,
          afterFunctionTexts2: u,
        }),
      E = m.targetFunction,
      S = "rotate" === e ? "rotateZ" : e;
    (g.beforeFunctionTexts = m.beforeFunctionTexts),
      (g.afterFunctionTexts = m.afterFunctionTexts),
      (g.beforeTransform = m.beforeFunctionMatrix),
      (g.beforeTransform2 = m.beforeFunctionMatrix2),
      (g.targetTansform = m.targetFunctionMatrix),
      (g.afterTransform = m.afterFunctionMatrix),
      (g.afterTransform2 = m.afterFunctionMatrix2),
      (g.targetAllTransform = m.allFunctionMatrix),
      E.functionName === S
        ? (g.afterFunctionTexts.splice(0, 1), (g.isAppendTransform = !1))
        : y < b &&
          ((g.isAppendTransform = !0),
          (t.nextTransformAppendedIndexes = tt(
            tt([], x, !0),
            [{ functionName: e, index: y, isAppend: !0 }],
            !1
          )));
  }
  function lr(t, e, n) {
    return ""
      .concat(t.beforeFunctionTexts.join(" "), " ")
      .concat(t.isAppendTransform ? n : e, " ")
      .concat(t.afterFunctionTexts.join(" "));
  }
  function fr(t) {
    var e = t.datas,
      t = dr({ datas: e, distX: t.distX, distY: t.distY });
    return z(
      pr(
        e,
        (function (t, e) {
          for (var n = Y(e), r = 0; r < e - 1; ++r) n[e * (e - 1) + r] = t[r] || 0;
          return n;
        })([t[0], t[1]], 4)
      ),
      ze([0, 0, 0], 4),
      4
    );
  }
  function pr(t, e, n) {
    var r = t.beforeTransform,
      i = t.afterTransform,
      o = t.beforeTransform2,
      a = t.afterTransform2,
      t = t.targetAllTransform,
      e = n ? K(t, e, 4) : K(e, t, 4),
      t = K(Pe(n ? o : r, 4), e, 4);
    return K(t, Pe(n ? a : i, 4), 4);
  }
  function dr(t) {
    var e = t.datas,
      n = t.distX,
      t = t.distY,
      r = e.inverseBeforeMatrix,
      i = e.is3d,
      o = e.startDragBeforeDist,
      i = i ? 4 : 3;
    return G(z(r, J(e.absoluteOrigin, [n, t]), i), o);
  }
  function hr(t, e) {
    var n = t.datas,
      r = t.distX,
      t = t.distY,
      i = n.inverseBeforeMatrix,
      o = n.inverseMatrix,
      a = n.is3d,
      s = n.startDragBeforeDist,
      u = n.startDragDist,
      a = a ? 4 : 3;
    return G(z(e ? i : o, J(n.absoluteOrigin, [r, t]), a), e ? s : u);
  }
  function gr(t) {
    var e = [];
    return (
      0 <= t[1] && (0 <= t[0] && e.push(3), t[0] <= 0) && e.push(2),
      t[1] <= 0 && (0 <= t[0] && e.push(1), t[0] <= 0) && e.push(0),
      e
    );
  }
  function V(t, e) {
    var n = (e[0] + 1) / 2,
      e = (e[1] + 1) / 2,
      r = [R(t[0][0], t[1][0], n, 1 - n), R(t[0][1], t[1][1], n, 1 - n)],
      t = [R(t[2][0], t[3][0], n, 1 - n), R(t[2][1], t[3][1], n, 1 - n)];
    return [R(r[0], t[0], e, 1 - e), R(r[1], t[1], e, 1 - e)];
  }
  function vr(t, e, n, r) {
    return K(t, ao(e, r, n), r);
  }
  function mr(n) {
    var r = Er(n);
    return {
      setTransform: function (t, e) {
        void 0 === e && (e = -1), (r.startTransforms = O(t) ? t : ot(t)), xr(n, e);
      },
      setTransformIndex: function (t) {
        xr(n, t);
      },
    };
  }
  function br(t, e) {
    xr(
      t,
      ft(Er(t).startTransforms, function (t) {
        return 0 === t.indexOf("".concat(e, "("));
      })
    );
  }
  function xr(t, e) {
    var n = Er(t),
      t = t.datas;
    -1 !== (t.transformIndex = e) &&
      (n = n.startTransforms[e]) &&
      ((e = Ze([n])), (t.startValue = e[0].functionValue));
  }
  function yr(t, e) {
    Er(t).nextTransforms = ot(e);
  }
  function Er(t) {
    return t.originalDatas.beforeRenderable;
  }
  function Sr(t) {
    return t.originalDatas.beforeRenderable.nextTransforms;
  }
  function Cr(t) {
    return (Sr(t) || []).join(" ");
  }
  function Dr(t) {
    return Er(t).nextStyle;
  }
  function wr(t, e, n, r, i) {
    yr(i, e);
    (t = U.drag(t, ir(i, t.state, n, r, !1))), (n = t ? t.transform : e);
    return Q(Q({ transform: e, drag: t }, et({ transform: n }, i)), {
      afterTransform: n,
    });
  }
  function _r(t, e, n, r, i, o) {
    (a = t.state),
      (i = i),
      (e = e),
      (o = o),
      (u = a.transformOrigin),
      (s = a.offsetMatrix),
      (a = a.is3d ? 4 : 3);
    var a,
      s,
      u,
      o = vr(
        s,
        x(e)
          ? ((s = i.beforeTransform),
            (i = i.afterTransform),
            Ge(o ? Ue(e) : K(K(s, Ue([e]), 4), i, 4), 4, a))
          : e,
        u,
        a
      );
    return (
      (s = t),
      void 0 === (i = o) && (i = s.state.allMatrix),
      (s = s.state),
      (e = s.width),
      (u = s.height),
      (s = s.is3d ? 4 : 3),
      (e = [(e / 2) * (1 + n[0]) + r[0], (u / 2) * (1 + n[1]) + r[1]]),
      I(i, e, s)
    );
  }
  function Mr(t, e, n, r, i, o, a) {
    (e = _r(t, e, n, i, o, a)),
      (n = t.state),
      (i = n.left),
      (o = n.top),
      (a = t.props.groupable),
      (n = a ? i : 0),
      (t = a ? o : 0),
      (i = G(r, e));
    return G(i, [n, t]);
  }
  function Or(t, e, n, r, i, o) {
    var a = t.props.groupable,
      t = t.state,
      s = t.transformOrigin,
      u = t.offsetMatrix,
      c = t.is3d,
      l = t.width,
      f = t.height,
      p = t.left,
      d = t.top,
      h = o.fixedDirection,
      o = o.nextTargetMatrix || t.targetMatrix,
      t = c ? 4 : 3;
    (g = e),
      (v = n),
      void 0 === (m = l) && (m = g),
      void 0 === (b = f) && (b = v),
      void 0 === (x = s) && (x = [0, 0]);
    var g,
      v,
      m,
      b,
      x,
      c = a ? p : 0,
      l = a ? d : 0,
      s = vr(
        u,
        o,
        (f = i)
          ? f.map(function (t, e) {
              var n = ut(t),
                r = n.value,
                n = n.unit,
                i = e ? b : m,
                o = e ? v : g;
              return "%" === t || isNaN(r)
                ? o * (i ? x[e] / i : 0)
                : "%" !== n
                ? r
                : (o * r) / 100;
            })
          : x,
        t
      );
    return (
      (p = r),
      (a = h),
      (d = V(go((d = s), e, n, t), a)),
      G([p[0] - d[0], p[1] - d[1]], [c, l])
    );
  }
  function Rr(t, e, n) {
    for (
      var r,
        i,
        o,
        a = t,
        s = [],
        u = _t(t) || Mt(t),
        c = (!n && t === e) || t === u,
        l = c,
        f = !1,
        p = 3,
        d = !1,
        h = co(e, e, !0).offsetParent,
        g = 1;
      a && !l;

    ) {
      var l = c,
        v = X(a),
        m = v("position"),
        b = v("scale"),
        x = uo(a),
        y = "fixed" === m,
        E =
          ((x = (function (t) {
            if (!t || "none" === t) return [1, 0, 0, 1, 0, 0];
            if (j(t)) return t;
            return Ue(t);
          })(x)),
          (E = (E = void 0) === E ? 6 === x.length : E)
            ? [x[0], x[1], 0, x[2], x[3], 0, x[4], x[5], 1]
            : x),
        x = void 0,
        S = !1,
        C = !1,
        D = 0,
        w = 0,
        _ = 0,
        B = 0,
        M = { hasTransform: !1, fixedContainer: null },
        O =
          (y &&
            ((d = !0),
            (h = (M = (function (t) {
              var e = t.parentElement,
                n = !1,
                r = Mt(t);
              for (; e; ) {
                var i = Io(e).transform;
                if (i && "none" !== i) {
                  n = !0;
                  break;
                }
                if (e === r) break;
                e = e.parentElement;
              }
              return { fixedContainer: e || r, hasTransform: n };
            })(a)).fixedContainer)),
          E.length),
        O =
          (f || 16 !== O || ((f = !0), (p = 4), fo(s), (o = o && Ge(o, 3, 4))),
          f && 9 === O && (E = Ge(E, 3, 4)),
          (function (t, e) {
            var n,
              r,
              i = t.tagName.toLowerCase(),
              o = t.offsetLeft,
              a = t.offsetTop,
              s = X(t),
              u = q(o),
              c = !u;
            c || "svg" === i
              ? ((n = so(s("transformOrigin")).map(function (t) {
                  return parseFloat(t);
                })),
                (r = n.slice()))
              : ((n = jn
                  ? (function (r) {
                      return (function (t) {
                        return so(t.transformOrigin);
                      })(Io(r, ":before")).map(function (t, e) {
                        var t = ut(t),
                          n = t.value,
                          t = t.unit;
                        return (
                          n *
                          ((n = r),
                          (e = 0 === e),
                          "%" !== t
                            ? 1
                            : ho(n.ownerSVGElement)[e ? "width" : "height"] / 100)
                        );
                      });
                    })(t)
                  : so(s("transformOrigin")).map(function (t) {
                      return parseFloat(t);
                    })),
                (r = n.slice()),
                (c = !0),
                (s = (function (t, e, n) {
                  if (!t.getBBox || (!n && "g" === t.tagName.toLowerCase()))
                    return [0, 0, 0, 0];
                  var n = t.getBBox(),
                    t = ho(t.ownerSVGElement),
                    r = n.x - t.x,
                    n = n.y - t.y;
                  return [r, n, e[0] - r, e[1] - n];
                })(t, n, t === e && "g" === e.tagName.toLowerCase())),
                (o = s[0]),
                (a = s[1]),
                (n[0] = s[2]),
                (n[1] = s[3]));
            return {
              tagName: i,
              isSVG: u,
              hasOffset: c,
              offset: [o || 0, a || 0],
              origin: n,
              targetOrigin: r,
            };
          })(a, t)),
        R = O.tagName,
        P = O.hasOffset,
        T = O.isSVG,
        z = O.origin,
        I = O.targetOrigin,
        O = O.offset,
        G = O[0],
        O = O[1],
        R =
          ("svg" === R &&
            o &&
            (s.push({
              type: "target",
              target: a,
              matrix: (function (t, e) {
                var n = ho(t),
                  r = n.width,
                  i = n.height,
                  o = n.clientWidth,
                  n = n.clientHeight,
                  a = o / r,
                  s = n / i,
                  t = t.preserveAspectRatio.baseVal,
                  u = t.align,
                  t = t.meetOrSlice,
                  c = [0, 0],
                  l = [a, s],
                  f = [0, 0];
                {
                  var p;
                  1 !== u &&
                    ((p = (u - 2) % 3),
                    (u = Math.floor((u - 2) / 3)),
                    (c[0] = (r * p) / 2),
                    (c[1] = (i * u) / 2),
                    (t = 2 === t ? Math.max(s, a) : Math.min(a, s)),
                    (l[0] = t),
                    (l[1] = t),
                    (f[0] = ((o - r) / 2) * p),
                    (f[1] = ((n - i) / 2) * u));
                }
                a = We(l, e);
                return (
                  (a[e * (e - 1)] = f[0]), (a[e * (e - 1) + 1] = f[1]), ao(a, e, c)
                );
              })(a, p),
            }),
            s.push({ type: "offset", target: a, matrix: Y(p) })),
          parseFloat(v("zoom")) || 1);
      if (y) (x = M.fixedContainer), (S = !0);
      else {
        var v = co(a, e, !1, !0, v),
          k = v.offsetZoom,
          x = v.offsetParent,
          S = v.isEnd,
          C = v.isStatic;
        if (((g *= k), (v.isCustomElement || 1 !== k) && C))
          (G -= x.offsetLeft), (O -= x.offsetTop);
        else if (Ln || Hn)
          if (v.parentSlotElement) {
            for (
              var A = x, F = 0, N = 0;
              A &&
              (function (t) {
                if (t && t.getRootNode) {
                  t = t.getRootNode();
                  if (11 === t.nodeType) return t;
                }
              })(A);

            )
              (F += A.offsetLeft), (N += A.offsetTop), (A = A.offsetParent);
            (G -= F), (O -= N);
          }
      }
      if (
        (!qn ||
          Vn ||
          !P ||
          T ||
          !C ||
          ("relative" !== m && "static" !== m) ||
          ((G -= x.offsetLeft), (O -= x.offsetTop), (c = c || S)),
        y
          ? P && M.hasTransform && ((_ = x.clientLeft), (B = x.clientTop))
          : (P && h !== x && ((D = x.clientLeft), (w = x.clientTop)),
            P && x === u && ((G += (k = lo(a, !1))[0]), (O += k[1]))),
        s.push({ type: "target", target: a, matrix: ao(E, p, z) }),
        b &&
          "1" !== b &&
          "none" !== b &&
          ((m = We(
            [
              (T = (v = b.split(" ").map(function (t) {
                return parseFloat(t);
              }))[0]),
              void 0 === (C = v[1]) ? T : C,
            ],
            p
          )),
          s.push({ type: "offset", target: a, matrix: Y(p) }),
          s.push({ type: "target", target: a, matrix: ao(m, p, z) })),
        P
          ? ((b = (M = a === t) ? 0 : a.scrollLeft),
            (v = M ? 0 : a.scrollTop),
            s.push({
              type: "offset",
              target: a,
              matrix: He([G - b + D - _, O - v + w - B], p),
            }))
          : s.push({ type: "offset", target: a, origin: z }),
        1 !== R &&
          s.push({ type: "zoom", target: a, matrix: ao(We([R, R], p), p, [0, 0]) }),
        (o = o || E),
        (r = r || z),
        (i = i || I),
        l || y)
      )
        break;
      (a = x), (c = S), (n && a !== u) || (l = c);
    }
    return {
      zoom: g,
      offsetContainer: h,
      matrixes: s,
      targetMatrix: (o = o || Y(p)),
      transformOrigin: (r = r || [0, 0]),
      targetOrigin: (i = i || [0, 0]),
      is3d: f,
      hasFixed: d,
    };
  }
  var Pr = null,
    Tr = null,
    zr = null;
  function Gr(t) {
    t
      ? (window.Map && ((Pr = new Map()), (Tr = new Map())), (zr = []))
      : (Tr = zr = Pr = null);
  }
  function X(t) {
    var e = null == Pr ? void 0 : Pr.get(t);
    if (!e) {
      var n = Ot(t).getComputedStyle(t);
      if (!Pr)
        return function (t) {
          return n[t];
        };
      Pr.set(t, (e = { style: n, cached: {} }));
    }
    var r = e.cached,
      i = e.style;
    return function (t) {
      return t in r || (r[t] = i[t]), r[t];
    };
  }
  function kr(t, n, r) {
    var e = r.originalDatas,
      e = ((e.groupable = e.groupable || {}), e.groupable),
      i = ((e.childDatas = e.childDatas || []), e.childDatas);
    return t.moveables.map(function (t, e) {
      return (
        (i[e] = i[e] || {}),
        (i[e][n] = i[e][n] || {}),
        Q(Q({}, r), { datas: i[e][n], originalDatas: i[e] })
      );
    });
  }
  function Ar(t, a, s, u, e, c, l) {
    var f = !!s.match(/Start$/g),
      p = !!s.match(/End$/g),
      d = e.isPinch,
      h = e.datas,
      e = kr(t, a.name, e),
      g = t.moveables,
      t = e.map(function (t, e) {
        var n = g[e],
          r = n.state,
          i = r.gestos,
          o = t;
        if (f) o = new or(l).dragStart(u, t);
        else {
          if ((i[l] || (i[l] = h.childGestos[e]), !i[l])) return;
          o = ir(t, r, u, d, c, l);
        }
        e = a[s](n, Q(Q({}, o), { parentFlag: !0 }));
        return p && (i[l] = null), e;
      });
    return (
      f &&
        (h.childGestos = g.map(function (t) {
          return t.state.gestos[l];
        })),
      t
    );
  }
  function Br(t, i, o, e, a, s) {
    void 0 === a &&
      (a = function (t, e) {
        return e;
      });
    var u = !!o.match(/End$/g),
      e = kr(t, i.name, e),
      c = t.moveables;
    return e.map(function (t, e) {
      var n = c[e],
        r = a(n, t),
        r = i[o](n, Q(Q({}, r), { parentFlag: !0 }));
      return r && s && s(n, t, r, e), u && (n.state.gestos = {}), r;
    });
  }
  function Ir(t, e, n, r) {
    var i = n.fixedDirection,
      n = n.fixedPosition,
      e = V(r.datas.startPositions || zo(e.state), i),
      i = z(je((-t.rotation / 180) * Math.PI, 3), [e[0] - n[0], e[1] - n[1], 1], 3),
      t = i[0],
      e = i[1];
    return (r.datas.originalX = t), (r.datas.originalY = e), r;
  }
  function Fr(t, a, e, s) {
    var n = t.getState(),
      u = n.renderPoses,
      c = n.rotation,
      n = n.direction,
      l = So(t.props, a).zoom,
      f = Ki((c / Math.PI) * 180),
      p = {},
      t = t.renderState,
      d = (t.renderDirectionMap || (t.renderDirectionMap = {}), t.renderDirectionMap),
      h =
        (e.forEach(function (t) {
          t = t.dir;
          p[t] = !0;
        }),
        ra(n));
    return e.map(function (t) {
      var e = t.data,
        n = t.classNames,
        t = t.dir,
        r = er[t];
      if (!r || !p[t]) return null;
      d[t] = !0;
      var i = (H(f, 15) + h * nr[t] + 720) % 180,
        o = {};
      return (
        ht(e).forEach(function (t) {
          o["data-".concat(t)] = e[t];
        }),
        s.createElement(
          "div",
          Q(
            {
              className: B.apply(void 0, tt(["control", "direction", t, a], n, !1)),
              "data-rotation": i,
              "data-direction": t,
            },
            o,
            {
              key: "direction-".concat(t),
              style: Eo.apply(
                void 0,
                tt(
                  [c, l],
                  r.map(function (t) {
                    return u[t];
                  }),
                  !1
                )
              ),
            }
          )
        )
      );
    });
  }
  function Nr(t, e, n, r) {
    var i = So(t.props, n),
      o = i.renderDirections,
      e = void 0 === o ? e : o,
      o = i.displayAroundControls;
    return e
      ? ((i = !0 === e ? Fn : e),
        tt(
          tt([], o ? Wr(t, r, n, i) : [], !0),
          Fr(
            t,
            n,
            i.map(function (t) {
              return { data: {}, classNames: [], dir: t };
            }),
            r
          ),
          !0
        ))
      : [];
  }
  function Yr(t, e, n, r, i, o) {
    for (var a = [], s = 6; s < arguments.length; s++) a[s - 6] = arguments[s];
    var u = F(n, r),
      c = e ? H((u / Math.PI) * 180, 15) % 180 : -1;
    return t.createElement("div", {
      key: "line-".concat(o),
      className: B.apply(void 0, tt(["line", "direction", e ? "edge" : "", e], a, !1)),
      "data-rotation": c,
      "data-line-key": o,
      "data-direction": e,
      style: yo(n, r, i, u),
    });
  }
  function Xr(i, o, t, a, s) {
    return (!0 === t ? In : t)
      .map(function (t, e) {
        var n = er[t],
          r = n[0],
          n = n[1];
        if (null != n)
          return Yr(i, t, a[r], a[n], s, "".concat(o, "Edge").concat(e), o);
      })
      .filter(Boolean);
  }
  function qr(r) {
    return function (t, e) {
      var n = So(t.props, r).edge;
      return n && (!0 === n || n.length)
        ? tt(
            tt([], Xr(e, r, n, t.getState().renderPoses, t.props.zoom), !0),
            Nr(t, ["nw", "ne", "sw", "se"], r, e),
            !0
          )
        : jr(t, r, e);
    };
  }
  function jr(t, e, n) {
    return Nr(t, Fn, e, n);
  }
  function Wr(t, i, o, e) {
    var n = t.renderState,
      r = (n.renderDirectionMap || (n.renderDirectionMap = {}), t.getState()),
      a = r.renderPoses,
      s = r.rotation,
      r = r.direction,
      n = n.renderDirectionMap,
      u = t.props.zoom,
      c = ra(r),
      l = (s / Math.PI) * 180;
    return (e || ht(n)).map(function (t) {
      var e,
        n,
        r = er[t];
      return r
        ? ((e = (H(l, 15) + c * nr[t] + 720) % 180),
          (n = ["around-control"]),
          o && n.push("direction", o),
          i.createElement("div", {
            className: B.apply(void 0, n),
            "data-rotation": e,
            "data-direction": t,
            key: "direction-around-".concat(t),
            style: Eo.apply(
              void 0,
              tt(
                [s, u],
                r.map(function (t) {
                  return a[t];
                }),
                !1
              )
            ),
          }))
        : null;
    });
  }
  function Hr(t, e, n) {
    var t = t || {},
      r = t.position,
      i = t.left,
      o = t.top,
      a = t.right,
      t = t.bottom,
      r = {
        position: void 0 === r ? "client" : r,
        left: void 0 === i ? -1 / 0 : i,
        top: void 0 === o ? -1 / 0 : o,
        right: void 0 === a ? 1 / 0 : a,
        bottom: void 0 === t ? 1 / 0 : t,
      };
    return { vertical: Vr(r, e, !0), horizontal: Vr(r, n, !1) };
  }
  function Lr(t, e) {
    var n = t.state,
      r = n.containerClientRect,
      i = r.clientHeight,
      o = r.clientWidth,
      a = r.clientLeft,
      r = r.clientTop,
      n = n.snapOffset,
      s = n.left,
      u = n.top,
      c = n.right,
      n = n.bottom,
      e = e || t.props.bounds || {},
      t = "css" === (e.position || "client"),
      l = e.left,
      f = e.top,
      p = e.right,
      p = void 0 === p ? (t ? -1 / 0 : 1 / 0) : p,
      e = e.bottom,
      e = void 0 === e ? (t ? -1 / 0 : 1 / 0) : e;
    return (
      t && ((p = o + c - s - p), (e = i + n - u - e)),
      {
        left: (void 0 === l ? -1 / 0 : l) + s - a,
        right: p + s - a,
        top: (void 0 === f ? -1 / 0 : f) + u - r,
        bottom: e + u - r,
      }
    );
  }
  function Vr(t, e, n) {
    var r = t[n ? "left" : "top"],
      t = t[n ? "right" : "bottom"],
      n = Math.min.apply(Math, e),
      e = Math.max.apply(Math, e),
      i = [];
    return (
      n < r + 1 && i.push({ isBound: !0, offset: n - r, pos: r }),
      t - 1 < e && i.push({ isBound: !0, offset: e - t, pos: t }),
      i.length || i.push({ isBound: !1, offset: 0, pos: 0 }),
      i.sort(function (t, e) {
        return it(e.offset) - it(t.offset);
      })
    );
  }
  function Ur(t, e, n) {
    return (
      n
        ? t.map(function (t) {
            return Ye(t, n);
          })
        : t
    ).some(function (t) {
      return (
        (t[0] < e.left && 0.1 < it(t[0] - e.left)) ||
        (t[0] > e.right && 0.1 < it(t[0] - e.right)) ||
        (t[1] < e.top && 0.1 < it(t[1] - e.top)) ||
        (t[1] > e.bottom && 0.1 < it(t[1] - e.bottom))
      );
    });
  }
  function $r(t, s, e, n, r) {
    var u, i, o, c, l;
    return t.props.bounds &&
      ((u = (r * Math.PI) / 180),
      (t = (r = Lr(t)).left),
      (o = r.top),
      (i = r.right),
      (r = r.bottom),
      (t = t - n[0]),
      (i = i - n[0]),
      (o = o - n[1]),
      (r = r - n[1]),
      Ur(e, (c = { left: t, top: o, right: i, bottom: r }), 0))
      ? ((l = []),
        [
          [t, 0],
          [i, 0],
          [o, 1],
          [r, 1],
        ].forEach(function (t) {
          var o = t[0],
            a = t[1];
          e.forEach(function (t) {
            var n,
              e,
              r,
              i = F([0, 0], t);
            l.push.apply(
              l,
              ((e = o),
              (r = a),
              (t = bo((n = t))),
              [(t = Math.sqrt(t * t - e * e) || 0), -t]
                .sort(function (t, e) {
                  return it(t - n[r ? 0 : 1]) - it(e - n[r ? 0 : 1]);
                })
                .map(function (t) {
                  return F([0, 0], r ? [t, e] : [e, t]);
                })
                .map(function (t) {
                  return u + t - i;
                })
                .filter(function (t) {
                  return !Ur(s, c, t);
                })
                .map(function (t) {
                  return H((180 * t) / Math.PI, L);
                }))
            );
          });
        }),
        l)
      : [];
  }
  var Zr = ["left", "right", "center"],
    Kr = ["top", "bottom", "middle"],
    Jr = { start: "left", end: "right", center: "center" },
    Qr = { start: "top", end: "bottom", center: "middle" };
  function ti(t, e) {
    var n = t.props,
      r = n.snappable,
      i = n.bounds,
      o = n.innerBounds,
      a = n.verticalGuidelines,
      s = n.horizontalGuidelines,
      u = n.snapGridWidth,
      n = n.snapGridHeight,
      t = t.state,
      c = t.guidelines,
      t = t.enableSnap;
    return !(
      !r ||
      !t ||
      (e && !0 !== r && r.indexOf(e) < 0) ||
      !(u || n || i || o || (c && c.length) || (a && a.length) || (s && s.length))
    );
  }
  function ei(t) {
    return !1 === t
      ? {}
      : !0 !== t && t
      ? t
      : { left: !0, right: !0, top: !0, bottom: !0 };
  }
  function ni(t, e) {
    var n = (function (t, e) {
        var n,
          r = ei(t),
          i = {};
        for (n in r) n in e && r[n] && (i[n] = e[n]);
        return i;
      })(t, e),
      t = Kr.filter(function (t) {
        return t in n;
      }),
      e = Zr.filter(function (t) {
        return t in n;
      });
    return {
      horizontalNames: t,
      verticalNames: e,
      horizontal: t.map(function (t) {
        return n[t];
      }),
      vertical: e.map(function (t) {
        return n[t];
      }),
    };
  }
  function ri(t, e, n, r, i, o) {
    void 0 === r && (r = []), void 0 === i && (i = []);
    o = (function () {
      for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
      for (var n = t.length - 1, r = 0; r < n; ++r) {
        var i = t[r];
        if (!q(i)) return i;
      }
      return t[n];
    })(o, t.props.snapThreshold, 5);
    return ii(t.state.guidelines, e, n, r, i, o);
  }
  function ii(t, e, n, r, i, o) {
    return {
      vertical: ui(t, "vertical", e, o, r),
      horizontal: ui(t, "horizontal", n, o, i),
    };
  }
  function oi(t) {
    var e = "";
    return (
      -1 === t || "top" === t || "left" === t
        ? (e = "start")
        : 0 === t || "center" === t || "middle" === t
        ? (e = "center")
        : (1 !== t && "right" !== t && "bottom" !== t) || (e = "end"),
      e
    );
  }
  function ai(t, e, n) {
    (e = ni(t.props.snapDirections, e)),
      (t = ri(
        t,
        e.vertical,
        e.horizontal,
        e.verticalNames.map(oi),
        e.horizontalNames.map(oi),
        n
      )),
      (n = oi(e.horizontalNames[t.horizontal.index])),
      (e = oi(e.verticalNames[t.vertical.index]));
    return {
      vertical: Q(Q({}, t.vertical), { direction: e }),
      horizontal: Q(Q({}, t.horizontal), { direction: n }),
    };
  }
  function si(t) {
    var e,
      n,
      r,
      i = t.isSnap;
    return i
      ? ((e = (r = (t = t.posInfos[0]).guidelineInfos[0]).offset),
        (n = r.dist),
        (r = r.guideline),
        { isSnap: i, offset: e, dist: n, pos: t.pos, guideline: r })
      : { isSnap: !1, offset: 0, dist: -1, pos: 0, guideline: null };
  }
  function ui(i, o, t, a, s) {
    var u, e;
    return (
      void 0 === s && (s = []),
      i && i.length
        ? ((u = "vertical" === o ? 0 : 1),
          {
            isSnap: (e =
              0 <
              (t = t
                .map(function (n, t) {
                  var r = s[t] || "",
                    e = i
                      .map(function (t) {
                        var e = t.pos,
                          e = n - e[u];
                        return { offset: e, dist: it(e), guideline: t, direction: r };
                      })
                      .filter(function (t) {
                        var e = t.guideline,
                          t = t.dist;
                        return !(e.type !== o || a < t);
                      })
                      .sort(function (t, e) {
                        return t.dist - e.dist;
                      });
                  return { pos: n, index: t, guidelineInfos: e, direction: r };
                })
                .filter(function (t) {
                  return 0 < t.guidelineInfos.length;
                })
                .sort(function (t, e) {
                  return t.guidelineInfos[0].dist - e.guidelineInfos[0].dist;
                })).length),
            index: e ? t[0].index : -1,
            direction: null != (e = null == (e = t[0]) ? void 0 : e.direction) ? e : "",
            posInfos: t,
          })
        : { isSnap: !1, index: -1, direction: "", posInfos: [] }
    );
  }
  function ci(t, e, n, r) {
    void 0 === r && (r = 1);
    var i,
      o = [],
      n =
        (n[0] && n[1]
          ? (o = [n, [-n[0], n[1]], [n[0], -n[1]]])
          : n[0] || n[1]
          ? t.props.keepRatio
            ? o.push([-1, -1], [-1, 1], [1, -1], [1, 1], n)
            : (o.push.apply(
                o,
                ((i = [
                  [-1, -1],
                  [1, -1],
                  [-1, -1],
                  [1, 1],
                ]),
                gr(n).map(function (t) {
                  return i[t];
                }))
              ),
              1 < o.length &&
                o.push([(o[0][0] + o[1][0]) / 2, (o[0][1] + o[1][1]) / 2]))
          : [
              [-1, -1],
              [1, -1],
              [1, 1],
              [-1, 1],
            ].forEach(function (t, e, n) {
              e = n[e + 1] || n[0];
              o.push(t), o.push([(t[0] + e[0]) / 2, (t[1] + e[1]) / 2]);
            }),
        o.map(function (t) {
          return V(e, t);
        })),
      t = ri(
        t,
        n.map(function (t) {
          return t[0];
        }),
        n.map(function (t) {
          return t[1];
        }),
        o.map(function (t) {
          return oi(t[0]);
        }),
        o.map(function (t) {
          return oi(t[1]);
        }),
        r
      ),
      n = oi(
        o.map(function (t) {
          return t[0];
        })[t.vertical.index]
      ),
      r = oi(
        o.map(function (t) {
          return t[1];
        })[t.horizontal.index]
      );
    return {
      vertical: Q(Q({}, t.vertical), { direction: n }),
      horizontal: Q(Q({}, t.horizontal), { direction: r }),
    };
  }
  function li(t, e) {
    var n = it(t.offset),
      r = it(e.offset);
    return t.isBound && e.isBound
      ? r - n
      : t.isBound
      ? -1
      : e.isBound
      ? 1
      : t.isSnap && e.isSnap
      ? r - n
      : t.isSnap
      ? -1
      : e.isSnap || n < L
      ? 1
      : r < L
      ? -1
      : n - r;
  }
  function fi(t, a) {
    return t.slice().sort(function (t, e) {
      var n = t.sign[a],
        r = e.sign[a],
        i = t.offset[a],
        o = e.offset[a];
      return n
        ? r
          ? li(
              { isBound: t.isBound, isSnap: t.isSnap, offset: i },
              { isBound: e.isBound, isSnap: e.isSnap, offset: o }
            )
          : -1
        : 1;
    })[0];
  }
  function pi(t, e) {
    var n = bt([e[0][0], e[1][0]]),
      e = bt([e[0][1], e[1][1]]);
    return { vertical: n <= t[0], horizontal: e <= t[1] };
  }
  function di(t, e) {
    var n,
      r = e[0],
      e = e[1],
      i = e[0] - r[0],
      e = e[1] - r[1];
    return (
      it(i) < L && (i = 0),
      it(e) < L && (e = 0),
      (e = i
        ? ((n = e ? (e / i) * (t[0] - r[0]) + r[1] : r[1]), t[1])
        : ((n = r[0]), t[0])),
      n - e
    );
  }
  function hi(t, e, n, r) {
    return (
      void 0 === r && (r = L),
      t.every(function (t) {
        t = di(t, e);
        return t <= 0 === n || it(t) <= r;
      })
    );
  }
  function gi(t, e, n, r, i) {
    return (
      void 0 === i && (i = 0),
      (r && e - i <= t) || (!r && t <= n + i)
        ? { isBound: !0, offset: r ? e - t : n - t }
        : { isBound: !1, offset: 0 }
    );
  }
  function vi(t, e, n, r, i, o) {
    var a,
      s,
      u = e[0],
      e = e[1],
      t = t[0],
      c = n[0],
      n = n[1],
      l = Vo(n[1] - c[1]),
      f = e,
      p = u,
      u = -u / e;
    return Vo(n[0] - c[0])
      ? l || (o && !f)
        ? { isBound: !1, offset: 0 }
        : p
        ? gi((c[1] - t[1]) / u + t[0], c[0], n[0], r, i)
        : { isBound: (s = it((a = c[1] - t[1])) <= (i || 0)), offset: s ? a : 0 }
      : o && !p
      ? { isBound: !1, offset: 0 }
      : f
      ? gi(u * (c[0] - t[0]) + t[1], c[1], n[1], r, i)
      : { isBound: (s = it((a = c[0] - t[0])) <= (i || 0)), offset: s ? a : 0 };
  }
  function mi(g, t, v) {
    return t.map(function (t) {
      (p = g),
        (o = (e = t).line),
        (a = e.centerSign),
        (s = e.verticalSign),
        (u = e.horizontalSign),
        (e = e.lineConstants);
      var e,
        n,
        r,
        i,
        o,
        a,
        s,
        u =
          !(p = p.props.innerBounds) ||
          ((c = p.left),
          (f = p.top),
          (l = p.width),
          (h = [
            [c, f],
            [c, f + (p = p.height)],
          ]),
          (n = [
            [c, f],
            [c + l, f],
          ]),
          (i = [
            [c + l, f],
            [c + l, f + p],
          ]),
          (r = [
            [c, f + p],
            [c + l, f + p],
          ]),
          hi(
            [
              [c, f],
              [c + l, f],
              [c, f + p],
              [c + l, f + p],
            ],
            o,
            a
          ))
            ? {
                isAllBound: !1,
                isBound: !1,
                isVerticalBound: !1,
                isHorizontalBound: !1,
                offset: [0, 0],
              }
            : ((c = vi(o, e, n, s)),
              (l = vi(o, e, r, s)),
              (f = vi(o, e, h, u)),
              (p = vi(o, e, i, u)),
              (a = c.isBound && l.isBound),
              (n = c.isBound || l.isBound),
              (r = f.isBound && p.isBound),
              (s = f.isBound || p.isBound),
              (h = qo(c.offset, l.offset)),
              (e = !(o = [0, 0])),
              {
                isAllBound:
                  it((i = qo(f.offset, p.offset))) < it(h)
                    ? ((o = [h, 0]), (e = n), a)
                    : ((o = [0, i]), (e = s), r),
                isVerticalBound: n,
                isHorizontalBound: s,
                isBound: e,
                offset: o,
              }),
        c = u.isBound,
        l = u.offset,
        f = u.isVerticalBound,
        p = u.isHorizontalBound,
        d = t.multiple,
        h = hr({ datas: v, distX: l[0], distY: l[1] }).map(function (t, e) {
          return t * (d[e] ? 2 / d[e] : 0);
        });
      return {
        sign: d,
        isBound: c,
        isVerticalBound: f,
        isHorizontalBound: p,
        isSnap: !1,
        offset: h,
      };
    });
  }
  function bi(t, e, n) {
    var r,
      i,
      o,
      a,
      s,
      u,
      t = mi(
        t,
        xi(t, e, [0, 0], !1).map(function (t) {
          return Q(Q({}, t), {
            multiple: t.multiple.map(function (t) {
              return 2 * it(t);
            }),
          });
        }),
        n
      ),
      e = fi(t, 0),
      t = fi(t, 1),
      c = 0,
      l = 0,
      f = e.isVerticalBound || t.isVerticalBound,
      p = e.isHorizontalBound || t.isHorizontalBound;
    return (
      (f || p) &&
        ((n = { datas: n, distX: -e.offset[0], distY: -t.offset[1] }),
        (e = n.datas),
        (t = n.distX),
        (n = n.distY),
        (i = e.beforeMatrix),
        (o = e.matrix),
        (a = e.is3d),
        (s = e.startDragBeforeDist),
        (u = e.startDragDist),
        (e = e.absoluteOrigin),
        (a = a ? 4 : 3),
        (c = (i = G(z(r ? i : o, J(r ? s : u, [t, n]), a), e))[0]),
        (l = i[1])),
      { vertical: { isBound: f, offset: c }, horizontal: { isBound: p, offset: l } }
    );
  }
  function xi(t, l, e, n) {
    var r,
      i,
      t = t.state,
      f = go(t.allMatrix, 100, 100, t.is3d ? 4 : 3),
      p = V(f, [0, 0]);
    return (
      (t = n),
      (n = []),
      (r = (e = e)[0]),
      (i = e[1]),
      r && i
        ? n.push([[0, 2 * i], e, [-r, i]], [[2 * r, 0], e, [r, -i]])
        : r
        ? (n.push([
            [2 * r, 0],
            [r, 1],
            [r, -1],
          ]),
          t &&
            n.push(
              [
                [0, -1],
                [r, -1],
                [-r, -1],
              ],
              [
                [0, 1],
                [r, 1],
                [-r, 1],
              ]
            ))
        : i
        ? (n.push([
            [0, 2 * i],
            [1, i],
            [-1, i],
          ]),
          t &&
            n.push(
              [
                [-1, 0],
                [-1, i],
                [-1, -i],
              ],
              [
                [1, 0],
                [1, i],
                [1, -i],
              ]
            ))
        : n.push(
            [
              [-1, 0],
              [-1, -1],
              [-1, 1],
            ],
            [
              [1, 0],
              [1, -1],
              [1, 1],
            ],
            [
              [0, -1],
              [-1, -1],
              [1, -1],
            ],
            [
              [0, 1],
              [-1, 1],
              [1, 1],
            ]
          ),
      n.map(function (t) {
        var e,
          n,
          r = t[0],
          i = t[1],
          t = t[2],
          o = [V(f, i), V(f, t)],
          a =
            ((u = (a = o)[0]),
            (s = (a = a[1])[0] - u[0]),
            (a = a[1] - u[1]),
            Math.abs(s) < A && (s = 0),
            Math.abs(a) < A && (a = 0),
            (n = e = c = 0),
            (n = s
              ? a
                ? (c = -a / s) * u[0] - u[(e = 1)]
                : -u[(e = 1)]
              : ((c = -1), u[0])),
            [c, e, n].map(function (t) {
              return H(t, A);
            })),
          s = pi(p, o),
          u = s.vertical,
          c = s.horizontal;
        return {
          multiple: r,
          centerSign: di(p, o) <= 0,
          verticalSign: u,
          horizontalSign: c,
          lineConstants: a,
          line: [V(l, i), V(l, t)],
        };
      })
    );
  }
  function yi(t, n, r, e) {
    t = e
      ? t.map(function (t) {
          return Ye(t, e);
        })
      : t;
    return [
      [t[0], t[1]],
      [t[1], t[3]],
      [t[3], t[2]],
      [t[2], t[0]],
    ].some(function (t) {
      var e = di(r, t) <= 0;
      return !hi(n, t, e);
    });
  }
  function Ei(t, a, e, n, r) {
    var i,
      o,
      s,
      u,
      c,
      l,
      f,
      t = t.props.innerBounds,
      p = (r * Math.PI) / 180;
    return t &&
      ((r = t.left),
      (s = t.top),
      (o = t.width),
      (t = t.height),
      (i = r - n[0]),
      (r = r + o - n[0]),
      (o = s - n[1]),
      (s = s + t - n[1]),
      (u = [
        [i, o],
        [r, o],
        [i, s],
        [r, s],
      ]),
      (c = V(e, [0, 0])),
      yi(e, u, c, 0))
      ? ((l = []),
        (f = u.map(function (t) {
          return [bo(t), F([0, 0], t)];
        })),
        [
          [e[0], e[1]],
          [e[1], e[3]],
          [e[3], e[2]],
          [e[2], e[0]],
        ].forEach(function (t) {
          var e,
            n,
            r,
            i = F(
              [0, 0],
              ((r = (n = t)[0]),
              (e = (n = n[1])[0] - r[0]),
              (n = n[1] - r[1]),
              e
                ? n
                  ? [-(e = -(n = n / e) * r[0] + r[1]) / (n + 1 / n), e / (n * n + 1)]
                  : [0, r[1]]
                : [r[0], 0])
            ),
            o =
              ((n = (e = t)[0]),
              (r = (e = e[1])[0] - n[0]),
              (e = e[1] - n[1]),
              it(
                r
                  ? e
                    ? (-(e = e / r) * n[0] + n[1]) / Math.sqrt(Math.pow(e, 2) + 1)
                    : n[1]
                  : n[0]
              ));
          l.push.apply(
            l,
            f
              .filter(function (t) {
                t = t[0];
                return t && o <= t;
              })
              .map(function (t) {
                var e = t[0],
                  t = t[1],
                  e = Math.acos(e ? o / e : 0);
                return [p + (t + e) - i, p + (t - e) - i];
              })
              .reduce(function (t, e) {
                return t.push.apply(t, e), t;
              }, [])
              .filter(function (t) {
                return !yi(a, u, c, t);
              })
              .map(function (t) {
                return H((180 * t) / Math.PI, L);
              })
          );
        }),
        l)
      : [];
  }
  function Si(t, e, n, r, i) {
    (u = t),
      (n = n),
      (r = r),
      (o = (s = e)[0] - u[0]),
      (a = s[1] - u[1]),
      it(o) < A && (o = 0),
      it(a) < A && (a = 0);
    var o,
      a,
      s,
      u = o
        ? a
          ? ((o = u[1] - (a = a / o) * u[0]),
            r ? [n, a * (s[0] + n) + o - s[1]] : [(s[1] + n - o) / a - s[0], n])
          : r
          ? [n, 0]
          : [0, 0]
        : r
        ? [0, 0]
        : [0, n];
    return u
      ? ((o = yt(t, e)),
        (a = yt(u, t)),
        (s = yt(u, e)),
        (r = o < a || o < s),
        {
          offset: [(n = hr({ datas: i, distX: u[0], distY: u[1] }))[0], n[1]],
          isOutside: r,
        })
      : { isOutside: !1, offset: [0, 0] };
  }
  function Ci(t, e) {
    return t.isBound ? t.offset : e.isSnap ? si(e).offset : 0;
  }
  function Di(t, e, n, r, i, o) {
    var a, s, u, c, l, f, p, d, h, g, v;
    return ti(t, "draggable")
      ? ((g = (s = vo((a = To(o.absolutePoses, [e, n])))).left),
        (c = s.right),
        (u = s.top),
        (s = s.bottom),
        (l = {
          horizontal: a.map(function (t) {
            return t[1];
          }),
          vertical: a.map(function (t) {
            return t[0];
          }),
        }),
        (g = (i = wi(
          t,
          i,
          ni(ei(t.props.snapDirections), {
            left: g,
            right: c,
            top: u,
            bottom: s,
            center: (g + c) / 2,
            middle: (u + s) / 2,
          }),
          l
        )).vertical),
        (c = i.horizontal),
        (s = (u = bi(t, a, o)).vertical),
        (l = u.horizontal),
        (i = g.isSnap),
        (t = c.isSnap),
        (a = g.isBound || s.isBound),
        (o = c.isBound || l.isBound),
        (u = qo(g.offset, s.offset)),
        (g = qo(c.offset, l.offset)),
        (s = r),
        (c = [a, o]),
        (l = [i, t]),
        (r = [u, g]),
        (d = (u = [e, n])[0]),
        (h = u[1]),
        (u = c[0]),
        (c = c[1]),
        (g = l[0]),
        (l = l[1]),
        (e = r[0]),
        (r = r[1]),
        (n = -e),
        (v = -r),
        s && d && h
          ? ((v = n = 0),
            (f = []),
            u && c
              ? f.push([0, r], [e, 0])
              : u
              ? f.push([e, 0])
              : c
              ? f.push([0, r])
              : g && l
              ? f.push([0, r], [e, 0])
              : g
              ? f.push([e, 0])
              : l && f.push([0, r]),
            f.length &&
              (f.sort(function (t, e) {
                return bo(G([d, h], t)) - bo(G([d, h], e));
              }),
              (g = f[0])[0] && it(d) > A
                ? ((n = -g[0]), (v = (h * it(d + n)) / it(d) - h))
                : g[1] &&
                  it(h) > A &&
                  ((l = h), (v = -g[1]), (n = (d * it(h + v)) / it(l) - d)),
              s) &&
              c &&
              u &&
              (it(n) > A && it(n) < it(e)
                ? ((n *= p = it(e) / it(n)), (v *= p))
                : it(v) > A && it(v) < it(r)
                ? ((n *= p = it(r) / it(v)), (v *= p))
                : ((n = qo(-e, n)), (v = qo(-r, v)))))
          : ((n = d || u ? -e : 0), (v = h || c ? -r : 0)),
        [
          { isBound: a, isSnap: i, offset: (f = [n, v])[0] },
          { isBound: o, isSnap: t, offset: f[1] },
        ])
      : [
          { isSnap: !1, isBound: !1, offset: 0 },
          { isSnap: !1, isBound: !1, offset: 0 },
        ];
  }
  function wi(t, e, n, r) {
    var r = Hr(Lr(t), (r = void 0 === r ? n : r).vertical, r.horizontal),
      i = r.horizontal,
      r = r.vertical,
      e = e
        ? { horizontal: { isSnap: !1, index: -1 }, vertical: { isSnap: !1, index: -1 } }
        : ri(t, n.vertical, n.horizontal),
      t = e.horizontal,
      n = e.vertical,
      e = Ci(i[0], t),
      o = Ci(r[0], n),
      a = it(e),
      s = it(o);
    return {
      horizontal: {
        isBound: i[0].isBound,
        isSnap: t.isSnap,
        snapIndex: t.index,
        offset: e,
        dist: a,
        bounds: i,
        snap: t,
      },
      vertical: {
        isBound: r[0].isBound,
        isSnap: n.isSnap,
        snapIndex: n.index,
        offset: o,
        dist: s,
        bounds: r,
        snap: n,
      },
    };
  }
  function _i(t, e, n, r, i) {
    var e = Hr(e, n, r),
      o = e.horizontal,
      e = e.vertical,
      t = ii(t, n, r, [], [], i),
      n = t.horizontal,
      r = t.vertical,
      i = Ci(o[0], n),
      t = Ci(e[0], r),
      a = it(i),
      s = it(t);
    return {
      horizontal: {
        isBound: o[0].isBound,
        isSnap: n.isSnap,
        snapIndex: n.index,
        offset: i,
        dist: a,
        bounds: o,
        snap: n,
      },
      vertical: {
        isBound: e[0].isBound,
        isSnap: r.isSnap,
        snapIndex: r.index,
        offset: t,
        dist: s,
        bounds: e,
        snap: r,
      },
    };
  }
  function Mi(C, D, t, w, _, M) {
    return t.map(function (t) {
      var e,
        n,
        r,
        i,
        o,
        a,
        s,
        u,
        c,
        l = t[0],
        t = t[1],
        f = V(D, l),
        p = V(D, t),
        d = w
          ? ((x = _),
            (m = (function (t, e, n) {
              var r,
                i,
                o = (t = Lr(t)).left,
                a = t.top,
                s = t.right,
                t = t.bottom,
                u = n[0],
                c = n[1],
                l = (e = G(n, e))[0],
                e = e[1],
                f = (it(l) < L && (l = 0), 0 < (e = it(e) < L ? 0 : e)),
                p = 0 < l,
                d = { isBound: !1, offset: 0, pos: 0 },
                h = { isBound: !1, offset: 0, pos: 0 };
              return (
                (0 === l && 0 === e) ||
                  (0 === l
                    ? f
                      ? t < c && ((h.pos = t), (h.offset = c - t))
                      : c < a && ((h.pos = a), (h.offset = c - a))
                    : 0 === e
                    ? p
                      ? s < u && ((d.pos = s), (d.offset = u - s))
                      : u < o && ((d.pos = o), (d.offset = u - o))
                    : ((e = n[1] - (n = e / l) * u),
                      (r = l = 0),
                      (i = !1),
                      p && s <= u
                        ? ((l = n * s + e), (r = s), (i = !0))
                        : !p && u <= o && ((l = n * o + e), (r = o), (i = !0)),
                      (i = i && (l < a || t < l) ? !1 : i) ||
                        (f && t <= c
                          ? ((r = ((l = t) - e) / n), (i = !0))
                          : !f && c <= a && ((r = ((l = a) - e) / n), (i = !0))),
                      i &&
                        ((d.isBound = !0),
                        (d.pos = r),
                        (d.offset = u - r),
                        (h.isBound = !0),
                        (h.pos = l),
                        (h.offset = c - l)))),
                { vertical: d, horizontal: h }
              );
            })((h = C), (b = f), (g = p))),
            (d = m.horizontal),
            (m = m.vertical),
            (x = x
              ? { horizontal: { isSnap: !1 }, vertical: { isSnap: !1 } }
              : (function (t, e, n) {
                  var r,
                    i,
                    o,
                    a,
                    s,
                    u = n[0],
                    c = n[1],
                    l = e[0],
                    f = e[1],
                    p = (e = G(n, e))[0],
                    d = 0 < (e = e[1]),
                    h = 0 < p,
                    p = Vo(p),
                    e = Vo(e),
                    g = { isSnap: !1, offset: 0, pos: 0 },
                    v = { isSnap: !1, offset: 0, pos: 0 };
                  return (
                    (0 === p && 0 === e) ||
                      ((a = (t = ri(t, p ? [u] : [], e ? [c] : [])).vertical),
                      (t = t.horizontal),
                      a.posInfos.filter(function (t) {
                        t = t.pos;
                        return h ? l <= t : t <= l;
                      }),
                      t.posInfos.filter(function (t) {
                        t = t.pos;
                        return d ? f <= t : t <= f;
                      }),
                      (a.isSnap = 0 < a.posInfos.length),
                      (t.isSnap = 0 < t.posInfos.length),
                      (r = (a = si(a)).isSnap),
                      (a = a.guideline),
                      (i = (t = si(t)).isSnap),
                      (t = t.guideline),
                      (o = i ? t.pos[1] : 0),
                      (a = r ? a.pos[0] : 0),
                      0 === p
                        ? i &&
                          ((v.isSnap = !0), (v.pos = t.pos[1]), (v.offset = c - v.pos))
                        : 0 === e
                        ? r && ((g.isSnap = !0), (g.pos = a), (g.offset = u - a))
                        : ((n = n[1] - (t = e / p) * u),
                          (p = e = 0),
                          (s = !1),
                          r
                            ? ((e = t * (p = a) + n), (s = !0))
                            : i && ((p = ((e = o) - n) / t), (s = !0)),
                          s &&
                            ((g.isSnap = !0),
                            (g.pos = p),
                            (g.offset = u - p),
                            (v.isSnap = !0),
                            (v.pos = e),
                            (v.offset = c - e)))),
                    { vertical: g, horizontal: v }
                  );
                })(h, b, g)),
            (h = x.horizontal),
            (b = x.vertical),
            (g = Oi(d, h)),
            (x = Oi(m, b)),
            (v = it(g)),
            (y = it(x)),
            {
              horizontal: { isBound: d.isBound, isSnap: h.isSnap, offset: g, dist: v },
              vertical: { isBound: m.isBound, isSnap: b.isSnap, offset: x, dist: y },
            })
          : wi(C, _, { vertical: [p[0]], horizontal: [p[1]] }),
        h = d.horizontal,
        g = h.offset,
        v = h.isBound,
        m = h.isSnap,
        b = d.vertical,
        x = b.offset,
        y = b.isBound,
        E = b.isSnap,
        S = G(t, l);
      return x || g
        ? ((n = d),
          (r = w),
          (e = (F((e = f), (u = p)) / Math.PI) * 180),
          (c = (u = n.vertical).isBound),
          (i = u.isSnap),
          (u = u.dist),
          (o = (n = n.horizontal).isBound),
          (a = n.isSnap),
          (s = (e = e % 180) < 3 || 177 < e),
          (e = 87 < e && e < 93),
          (n =
            n.dist < u && (c || (i && !e && (!r || !s)))
              ? "vertical"
              : !o && (!a || s || (r && e))
              ? ""
              : "horizontal")
            ? ((u = "vertical" == n),
              (c = [0, 0]),
              (c = (c =
                w || 1 !== it(t[0]) || 1 !== it(t[1]) || l[0] === t[0] || l[1] === t[1]
                  ? Si(f, p, -(u ? x : g), u, M).offset
                  : hr({ datas: M, distX: -x, distY: -g })).map(function (t, e) {
                return t * (S[e] ? 2 / S[e] : 0);
              })),
              { sign: S, isBound: u ? y : v, isSnap: u ? E : m, offset: c })
            : { sign: S, isBound: !1, isSnap: !1, offset: [0, 0] })
        : { isBound: y || v, isSnap: E || m, sign: S, offset: [0, 0] };
    });
  }
  function Oi(t, e) {
    return t.isBound ? t.offset : e.isSnap ? e.offset : 0;
  }
  var U = {
    name: "draggable",
    props: [
      "draggable",
      "throttleDrag",
      "throttleDragRotate",
      "hideThrottleDragRotateLine",
      "startDragRotate",
      "edgeDraggable",
    ],
    events: [
      "dragStart",
      "drag",
      "dragEnd",
      "dragGroupStart",
      "dragGroup",
      "dragGroupEnd",
    ],
    requestStyle: function () {
      return ["left", "top", "right", "bottom"];
    },
    requestChildStyle: function () {
      return ["left", "top", "right", "bottom"];
    },
    render: function (t, e) {
      var n = t.props,
        r = n.hideThrottleDragRotateLine,
        i = n.throttleDragRotate,
        n = n.zoom,
        t = t.getState(),
        o = t.dragInfo,
        t = t.beforeOrigin;
      return !r && i && o && ((r = o.dist)[0] || r[1])
        ? ((i = bo(r)),
          (o = F(r, [0, 0])),
          [
            e.createElement("div", {
              className: B("line", "horizontal", "dragline", "dashed"),
              key: "dragRotateGuideline",
              style: {
                width: "".concat(i, "px"),
                transform: "translate("
                  .concat(t[0], "px, ")
                  .concat(t[1], "px) rotate(")
                  .concat(o, "rad) scaleY(")
                  .concat(n, ")"),
              },
            }),
          ])
        : [];
    },
    dragStart: function (t, e) {
      var n = e.datas,
        r = e.parentEvent,
        i = e.parentGesto,
        o = t.state,
        a = o.gestos,
        o = o.style;
      if (a.draggable) return !1;
      (a.draggable = i || t.targetGesto),
        (n.datas = {}),
        (n.left = parseFloat(o.left || "") || 0),
        (n.top = parseFloat(o.top || "") || 0),
        (n.bottom = parseFloat(o.bottom || "") || 0),
        (n.right = parseFloat(o.right || "") || 0),
        (n.startValue = [0, 0]),
        ur(t, e),
        br(e, "translate"),
        (n.absolutePoses = zo(t.state)),
        (n.prevDist = [0, 0]),
        (n.prevBeforeDist = [0, 0]),
        (n.isDrag = !1),
        (n.deltaOffset = [0, 0]);
      i = nt(
        t,
        e,
        Q(
          {
            set: function (t) {
              n.startValue = t;
            },
          },
          mr(e)
        )
      );
      return (
        !1 !== (r || rt(t, "onDragStart", i))
          ? ((n.isDrag = !0),
            (t.state.dragInfo = { startRect: t.getRect(), dist: [0, 0] }))
          : ((a.draggable = null), (n.isPinch = !1)),
        !!n.isDrag && i
      );
    },
    drag: function (t, e) {
      if (e) {
        cr(e, "translate");
        var n = e.datas,
          r = e.parentEvent,
          i = e.parentFlag,
          o = e.isPinch,
          a = e.deltaOffset,
          s = e.useSnap,
          u = e.isRequest,
          c = e.distX,
          l = e.distY,
          f = n.isDrag,
          p = n.prevDist,
          d = n.prevBeforeDist,
          h = n.startValue;
        if (f) {
          a && ((c += a[0]), (l += a[1]));
          var f = t.props,
            g = f.parentMoveable,
            v = (!r && f.throttleDrag) || 0,
            m = (!r && f.throttleDragRotate) || 0,
            b = 0,
            x = !1,
            y = !1,
            E = !1,
            S = !1,
            i =
              (!r &&
                0 < m &&
                (c || l) &&
                ((f =
                  H(
                    (f = f.startDragRotate || 0) + (180 * F([0, 0], [c, l])) / Math.PI,
                    m
                  ) - f),
                (C = l * Math.abs(Math.cos(((f - 90) / 180) * Math.PI))),
                (C = bo([c * Math.abs(Math.cos((f / 180) * Math.PI)), C])),
                (b = (f * Math.PI) / 180),
                (c = C * Math.cos(b)),
                (l = C * Math.sin(b))),
              o ||
                r ||
                i ||
                ((C = (f = Di(t, c, l, m, (!s && u) || a, n))[0]),
                (b = f[1]),
                (x = C.isSnap),
                (y = C.isBound),
                (E = b.isSnap),
                (S = b.isBound),
                (c += C.offset),
                (l += b.offset)),
              J(dr({ datas: n, distX: c, distY: l }), h)),
            s = J(fr({ datas: n, distX: c, distY: l }), h),
            u =
              (Et(s, L),
              Et(i, L),
              m ||
                (x || y || ((s[0] = H(s[0], v)), (i[0] = H(i[0], v))), E) ||
                S ||
                ((s[1] = H(s[1], v)), (i[1] = H(i[1], v))),
              G(i, h)),
            a = G(s, h),
            f = G(a, p),
            C = G(u, d),
            b =
              ((n.prevDist = a),
              (n.prevBeforeDist = u),
              (n.passDelta = f),
              (n.passDist = a),
              n.left + u[0]),
            c = n.top + u[1],
            l = n.right - u[0],
            m = n.bottom - u[1],
            x = lr(
              n,
              "translate(".concat(s[0], "px, ").concat(s[1], "px)"),
              "translate(".concat(a[0], "px, ").concat(a[1], "px)")
            );
          if (
            (yr(e, x),
            (t.state.dragInfo.dist = r ? [0, 0] : a),
            r ||
              g ||
              !f.every(function (t) {
                return !t;
              }) ||
              !C.some(function (t) {
                return !t;
              }))
          )
            return (
              (E = (y = t.state).width),
              (S = y.height),
              (v = nt(
                t,
                e,
                Q(
                  {
                    transform: x,
                    dist: a,
                    delta: f,
                    translate: s,
                    beforeDist: u,
                    beforeDelta: C,
                    beforeTranslate: i,
                    left: b,
                    top: c,
                    right: l,
                    bottom: m,
                    width: E,
                    height: S,
                    isPinch: o,
                  },
                  et({ transform: x }, e)
                )
              )),
              r || rt(t, "onDrag", v),
              v
            );
        }
      }
    },
    dragAfter: function (t, e) {
      var n = e.datas,
        r = n.deltaOffset;
      return (
        !(!r[0] && !r[1]) &&
        ((n.deltaOffset = [0, 0]), this.drag(t, Q(Q({}, e), { deltaOffset: r })))
      );
    },
    dragEnd: function (t, e) {
      var n = e.parentEvent,
        r = e.datas;
      if (((t.state.dragInfo = null), r.isDrag))
        return (r.isDrag = !1), (r = d(t, e, {})), n || rt(t, "onDragEnd", r), r;
    },
    dragGroupStart: function (t, e) {
      var n = e.datas,
        r = e.clientX,
        i = e.clientY,
        o = this.dragStart(t, e);
      return (
        !!o &&
        ((r = Ar(t, this, "dragStart", [r || 0, i || 0], e, !1, "draggable")),
        (i = rt(
          t,
          "onDragGroupStart",
          Q(Q({}, o), { targets: t.props.targets, events: r })
        )),
        (n.isDrag = !1 !== i),
        !!n.isDrag) &&
        o
      );
    },
    dragGroup: function (t, e) {
      if (e.datas.isDrag) {
        var n = this.drag(t, e),
          e = Ar(t, this, "drag", e.datas.passDelta, e, !1, "draggable");
        if (n)
          return (
            rt(t, "onDragGroup", (t = Q({ targets: t.props.targets, events: e }, n))), t
          );
      }
    },
    dragGroupEnd: function (t, e) {
      var n,
        r = e.isDrag;
      if (e.datas.isDrag)
        return (
          this.dragEnd(t, e),
          (n = Ar(t, this, "dragEnd", [0, 0], e, !1, "draggable")),
          rt(t, "onDragGroupEnd", d(t, e, { targets: t.props.targets, events: n })),
          r
        );
    },
    request: function (t) {
      var e = {},
        n = t.getRect(),
        r = 0,
        i = 0,
        o = !1;
      return {
        isControl: !1,
        requestStart: function (t) {
          return (o = t.useSnap), { datas: e, useSnap: o };
        },
        request: function (t) {
          return (
            "x" in t ? (r = t.x - n.left) : "deltaX" in t && (r += t.deltaX),
            "y" in t ? (i = t.y - n.top) : "deltaY" in t && (i += t.deltaY),
            { datas: e, distX: r, distY: i, useSnap: o }
          );
        },
        requestEnd: function () {
          return { datas: e, isDrag: !0, useSnap: o };
        },
      };
    },
    unset: function (t) {
      (t.state.gestos.draggable = null), (t.state.dragInfo = null);
    },
  };
  function Ri(t, e) {
    return { fixedPosition: V(t, e), fixedDirection: e, fixedOffset: [0, 0] };
  }
  function Pi(t, e) {
    var n,
      r,
      i = t.allMatrix,
      o = t.is3d,
      a = t.width,
      t = t.height,
      s =
        ((n = e),
        (r = t),
        [(s = a) ? n[0] / (s / 2) - 1 : 0, r ? n[1] / (r / 2) - 1 : 0]);
    return {
      fixedPosition: I(i, e, o ? 4 : 3),
      fixedDirection: s,
      fixedOffset: [a ? 0 : e[0], t ? 0 : e[1]],
    };
  }
  var Bt = $o("resizable"),
    Ti = {
      name: "resizable",
      ableGroup: "size",
      canPinch: !0,
      props: [
        "resizable",
        "throttleResize",
        "renderDirections",
        "displayAroundControls",
        "keepRatio",
        "resizeFormat",
        "keepRatioFinally",
        "edge",
        "checkResizableError",
      ],
      events: [
        "resizeStart",
        "beforeResize",
        "resize",
        "resizeEnd",
        "resizeGroupStart",
        "beforeResizeGroup",
        "resizeGroup",
        "resizeGroupEnd",
      ],
      render: qr("resizable"),
      dragControlCondition: Bt,
      viewClassName: Uo("resizable"),
      dragControlStart: function (e, t) {
        var n = t.inputEvent,
          r = t.isPinch,
          i = t.isGroup,
          o = t.parentDirection,
          a = t.parentGesto,
          s = t.datas,
          u = t.parentFixedDirection,
          c = t.parentEvent,
          o = Ro(o, r, n, s),
          n = e.state,
          l = n.target,
          f = n.width,
          p = n.height,
          d = n.gestos;
        if (!o || !l) return !1;
        if (d.resizable) return !1;
        (d.resizable = a || e.controlGesto),
          r || ur(e, t),
          (s.datas = {}),
          (s.direction = o),
          (s.startOffsetWidth = f),
          (s.startOffsetHeight = p),
          (s.prevWidth = 0),
          (s.prevHeight = 0),
          (s.minSize = [0, 0]),
          (s.startWidth = n.inlineCSSWidth || n.cssWidth),
          (s.startHeight = n.inlineCSSHeight || n.cssHeight),
          (s.maxSize = [1 / 0, 1 / 0]),
          i ||
            ((s.minSize = [n.minOffsetWidth, n.minOffsetHeight]),
            (s.maxSize = [n.maxOffsetWidth, n.maxOffsetHeight]));
        l = e.props.transformOrigin || "% %";
        function h(t) {
          s.ratio = t && isFinite(t) ? t : 0;
        }
        function g(t) {
          t = Ri(s.startPositions, t);
          (s.fixedDirection = t.fixedDirection),
            (s.fixedPosition = t.fixedPosition),
            (s.fixedOffset = t.fixedOffset);
        }
        function v(t) {
          t = Pi(e.state, t);
          (s.fixedDirection = t.fixedDirection),
            (s.fixedPosition = t.fixedPosition),
            (s.fixedOffset = t.fixedOffset);
        }
        function m(t) {
          s.minSize = [Z("".concat(t[0]), 0) || 0, Z("".concat(t[1]), 0) || 0];
        }
        function b(t) {
          t = [t[0] || 1 / 0, t[1] || 1 / 0];
          (P(t[0]) && !isFinite(t[0])) || (t[0] = Z("".concat(t[0]), 0) || 1 / 0),
            (P(t[1]) && !isFinite(t[1])) || (t[1] = Z("".concat(t[1]), 0) || 1 / 0),
            (s.maxSize = t);
        }
        (s.transformOrigin = l && x(l) ? l.split(" ") : l),
          (s.startOffsetMatrix = n.offsetMatrix),
          (s.startTransformOrigin = n.transformOrigin),
          (s.isWidth =
            null != (d = null == t ? void 0 : t.parentIsWidth)
              ? d
              : (!o[0] && !o[1]) || o[0] || !o[1]),
          (s.startPositions = zo(e.state)),
          h(f / p),
          g(u || [-o[0], -o[1]]),
          (s.setFixedDirection = g),
          (s.setFixedPosition = v),
          (s.setMin = m),
          (s.setMax = b);
        (a = nt(e, t, {
          direction: o,
          startRatio: s.ratio,
          set: function (t) {
            var e = t[0],
              t = t[1];
            (s.startWidth = e), (s.startHeight = t);
          },
          setMin: m,
          setMax: b,
          setRatio: h,
          setFixedDirection: g,
          setFixedPosition: v,
          setOrigin: function (t) {
            s.transformOrigin = t;
          },
          dragStart: U.dragStart(e, new or().dragStart([0, 0], t)),
        })),
          (r = c || rt(e, "onResizeStart", a));
        return (
          (s.startFixedDirection = s.fixedDirection),
          (s.startFixedPosition = s.fixedPosition),
          !1 !== r &&
            ((s.isResize = !0),
            (e.state.snapRenderInfo = { request: t.isRequest, direction: o })),
          !!s.isResize && a
        );
      },
      dragControl: function (t, n) {
        var r = n.datas,
          e = n.parentFlag,
          i = n.isPinch,
          o = n.parentKeepRatio,
          a = n.dragClient,
          s = n.parentDist,
          u = n.useSnap,
          c = n.isRequest,
          B = n.isGroup,
          l = n.parentEvent,
          f = n.resolveMatrix,
          p = r.isResize,
          I = r.transformOrigin,
          F = r.startWidth,
          N = r.startHeight,
          Y = r.prevWidth,
          X = r.prevHeight,
          d = r.minSize,
          h = r.maxSize,
          g = r.ratio,
          v = r.startOffsetWidth,
          m = r.startOffsetHeight,
          b = r.isWidth;
        if (p) {
          f &&
            ((p = t.state.is3d),
            (f = r.startOffsetMatrix),
            (M = r.startTransformOrigin),
            (p = p ? 4 : 3),
            (O = Ue(Sr(n))),
            (M = go(
              (f = vr(
                f,
                (O = p !== (f = Math.sqrt(O.length)) ? Ge(O, f, p) : O),
                M,
                p
              )),
              v,
              m,
              p
            )),
            (r.startPositions = M),
            (r.nextTargetMatrix = O),
            (r.nextAllMatrix = f));
          var x,
            y,
            E,
            S,
            C,
            D,
            w,
            _,
            p = So(t.props, "resizable"),
            q = p.resizeFormat,
            M = p.throttleResize,
            j = void 0 === M ? (e ? 0 : 1) : M,
            O = p.parentMoveable,
            f = p.keepRatioFinally,
            M = r.direction,
            R = M,
            P = 0,
            T = 0,
            z =
              (M[0] || M[1] || (R = [1, 1]),
              (g && (null != o ? o : p.keepRatio)) || !1),
            o = A(),
            G = o[0],
            k = o[1],
            p =
              (l ||
                (r.setFixedDirection(r.fixedDirection),
                rt(
                  t,
                  "onBeforeResize",
                  nt(
                    t,
                    n,
                    {
                      startFixedDirection: r.startFixedDirection,
                      startFixedPosition: r.startFixedPosition,
                      setFixedDirection: function (t) {
                        return (
                          r.setFixedDirection(t),
                          (t = A()),
                          (G = t[0]),
                          (k = t[1]),
                          [G, k]
                        );
                      },
                      setFixedPosition: function (t) {
                        return (
                          r.setFixedPosition(t),
                          (t = A()),
                          (G = t[0]),
                          (k = t[1]),
                          [G, k]
                        );
                      },
                      boundingWidth: G,
                      boundingHeight: k,
                      setSize: function (t) {
                        (G = t[0]), (k = t[1]);
                      },
                    },
                    !0
                  )
                )),
              a),
            a =
              (a || (p = !e && i ? ((o = [0, 0]), V(zo(t.state), o)) : r.fixedPosition),
              [0, 0]),
            e =
              (i ||
                ((x = G),
                (y = k),
                (e = M),
                (E = p),
                (o = !u && c),
                (u = r),
                (a = ti((c = t), "resizable")
                  ? ((S = u.fixedDirection),
                    (C = u.nextAllMatrix),
                    (_ = c.state),
                    (D = _.allMatrix),
                    (w = _.is3d),
                    Zi(
                      c,
                      function (t, e) {
                        return Vi(C || D, x + t, y + e, S, E, w);
                      },
                      x,
                      y,
                      e,
                      E,
                      o,
                      u
                    ))
                  : [0, 0])),
              s && (s[0] || (a[0] = 0), s[1] || (a[1] = 0)),
              z
                ? (R[0] &&
                    R[1] &&
                    a[0] &&
                    a[1] &&
                    (it(a[0]) > it(a[1]) ? (a[1] = 0) : (a[0] = 0)),
                  (_ = !a[0] && !a[1]) && W(),
                  (R[0] && !R[1]) || (a[0] && !a[1]) || (_ && b)
                    ? ((G += a[0]), (k = G / g))
                    : ((!R[0] && R[1]) || (!a[0] && a[1]) || (_ && !b)) &&
                      ((k += a[1]), (G = k * g)))
                : ((G += a[0]),
                  (k += a[1]),
                  (G = Math.max(0, G)),
                  (k = Math.max(0, k))),
              (c = mt([G, k], d, h, !!z && g)),
              (G = c[0]),
              (k = c[1]),
              W(),
              z && (B || f) && (b ? (k = G / g) : (G = k * g)),
              [(P = G - v) - Y, (T = k - m) - X]),
            o = ((r.prevWidth = P), (r.prevHeight = T), Or(t, G, k, p, I, r));
          if (
            O ||
            !e.every(function (t) {
              return !t;
            }) ||
            !o.every(function (t) {
              return !t;
            })
          )
            return (
              (s = (u = U.drag(t, ir(n, t.state, o, !!i, !1, "draggable"))).transform),
              (h = nt(
                t,
                n,
                Q(
                  {
                    width: (a = F + P),
                    height: (d = N + T),
                    offsetWidth: Math.round(G),
                    offsetHeight: Math.round(k),
                    startRatio: g,
                    boundingWidth: G,
                    boundingHeight: k,
                    direction: M,
                    dist: [P, T],
                    delta: e,
                    isPinch: !!i,
                    drag: u,
                  },
                  Ao(
                    {
                      style: { width: "".concat(a, "px"), height: "".concat(d, "px") },
                      transform: s,
                    },
                    u,
                    n
                  )
                )
              )),
              l || rt(t, "onResize", h),
              h
            );
        }
        function A() {
          var t = r.fixedDirection,
            e = ta(R, z, r, n),
            e =
              ((P = e.distWidth),
              (T = e.distHeight),
              R[0] - t[0] || z ? Math.max(v + P, L) : v),
            t = R[1] - t[1] || z ? Math.max(m + T, L) : m;
          return z && v && m && (b ? (t = e / g) : (e = t * g)), [e, t];
        }
        function W() {
          var t;
          q && ((t = q([G, k])), (G = t[0]), (k = t[1])), (G = H(G, j)), (k = H(k, j));
        }
      },
      dragControlAfter: function (t, e) {
        var n = e.datas,
          r = n.isResize,
          i = n.startOffsetWidth,
          o = n.startOffsetHeight,
          a = n.prevWidth,
          s = n.prevHeight;
        if (r && !1 !== t.props.checkResizableError)
          return (
            (i = (r = t.state).width - (i + a)),
            (a = r.height - (o + s)),
            (r = 3 < it(i)),
            (o = 3 < it(a)),
            r && ((n.startWidth += i), (n.startOffsetWidth += i), (n.prevWidth += i)),
            o &&
              ((n.startHeight += a), (n.startOffsetHeight += a), (n.prevHeight += a)),
            r || o ? this.dragControl(t, e) : void 0
          );
      },
      dragControlEnd: function (t, e) {
        var n = e.datas,
          r = e.parentEvent;
        if (n.isResize)
          return (n.isResize = !1), (n = d(t, e, {})), r || rt(t, "onResizeEnd", n), n;
      },
      dragGroupControlCondition: Bt,
      dragGroupControlStart: function (r, t) {
        var i,
          o,
          a,
          e,
          s = t.datas,
          u = this.dragControlStart(r, Q(Q({}, t), { isGroup: !0 }));
        return (
          !!u &&
          ((i = kr(r, "resizable", t)),
          (o = s.startOffsetWidth),
          (a = s.startOffsetHeight),
          (e = Br(r, this, "dragControlStart", t, function (t, e) {
            return Ir(r, t, s, e);
          })),
          n(),
          c(),
          (s.setFixedDirection = t =
            function (n) {
              u.setFixedDirection(n),
                e.forEach(function (t, e) {
                  t.setFixedDirection(n), Ir(r, t.moveable, s, i[e]);
                });
            }),
          (t = Q(Q({}, u), {
            targets: r.props.targets,
            events: e.map(function (e) {
              return Q(Q({}, e), {
                setMin: function (t) {
                  e.setMin(t), n();
                },
                setMax: function (t) {
                  e.setMax(t), c();
                },
              });
            }),
            setFixedDirection: t,
            setMin: function (t) {
              u.setMin(t), n();
            },
            setMax: function (t) {
              u.setMax(t), c();
            },
          })),
          (t = rt(r, "onResizeGroupStart", t)),
          (s.isResize = !1 !== t),
          !!s.isResize) &&
          u
        );
        function n() {
          var r = s.minSize;
          i.forEach(function (t) {
            var t = t.datas,
              e = t.minSize,
              n = t.startOffsetWidth,
              t = t.startOffsetHeight,
              n = o * (n ? e[0] / n : 0),
              e = a * (t ? e[1] / t : 0);
            (r[0] = Math.max(r[0], n)), (r[1] = Math.max(r[1], e));
          });
        }
        function c() {
          var r = s.maxSize;
          i.forEach(function (t) {
            var t = t.datas,
              e = t.maxSize,
              n = t.startOffsetWidth,
              t = t.startOffsetHeight,
              n = o * (n ? e[0] / n : 0),
              e = a * (t ? e[1] / t : 0);
            (r[0] = Math.min(r[0], n)), (r[1] = Math.min(r[1], e));
          });
        }
      },
      dragGroupControl: function (i, e) {
        var t = e.datas;
        if (t.isResize) {
          var n,
            o,
            a,
            s,
            r,
            u,
            c = So(i.props, "resizable"),
            l =
              (Bo(i, "onBeforeResize", function (t) {
                rt(
                  i,
                  "onBeforeResizeGroup",
                  nt(i, e, Q(Q({}, t), { targets: c.targets }), !0)
                );
              }),
              this.dragControl(i, Q(Q({}, e), { isGroup: !0 })));
          if (l)
            return (
              (r = l.boundingWidth),
              (u = l.boundingHeight),
              (n = l.dist),
              (o = c.keepRatio),
              (a = [r / (r - n[0]), u / (u - n[1])]),
              (s = t.fixedPosition),
              (r = Br(i, this, "dragControl", e, function (t, e) {
                var n = z(
                    je((i.rotation / 180) * Math.PI, 3),
                    [e.datas.originalX * a[0], e.datas.originalY * a[1], 1],
                    3
                  ),
                  r = n[0],
                  n = n[1];
                return Q(Q({}, e), {
                  parentDist: null,
                  parentScale: a,
                  dragClient: J(s, [r, n]),
                  parentKeepRatio: o,
                });
              })),
              (u = Q({ targets: c.targets, events: r }, l)),
              rt(i, "onResizeGroup", u),
              u
            );
        }
      },
      dragGroupControlEnd: function (t, e) {
        var n,
          r = e.isDrag;
        if (e.datas.isResize)
          return (
            this.dragControlEnd(t, e),
            (n = Br(t, this, "dragControlEnd", e)),
            rt(t, "onResizeGroupEnd", d(t, e, { targets: t.props.targets, events: n })),
            r
          );
      },
      request: function (t) {
        var e = {},
          n = 0,
          r = 0,
          i = !1,
          o = t.getRect();
        return {
          isControl: !0,
          requestStart: function (t) {
            return (
              (i = t.useSnap),
              {
                datas: e,
                parentDirection: t.direction || [1, 1],
                parentIsWidth: null == (t = null == t ? void 0 : t.horizontal) || t,
                useSnap: i,
              }
            );
          },
          request: function (t) {
            return (
              "offsetWidth" in t
                ? (n = t.offsetWidth - o.offsetWidth)
                : "deltaWidth" in t && (n += t.deltaWidth),
              "offsetHeight" in t
                ? (r = t.offsetHeight - o.offsetHeight)
                : "deltaHeight" in t && (r += t.deltaHeight),
              { datas: e, parentDist: [n, r], parentKeepRatio: t.keepRatio, useSnap: i }
            );
          },
          requestEnd: function () {
            return { datas: e, isDrag: !0, useSnap: i };
          },
        };
      },
      unset: function (t) {
        t.state.gestos.resizable = null;
      },
    };
  function zi(t, e, n, r, i) {
    var o = t.props.groupable,
      a = t.state,
      s = a.is3d ? 4 : 3,
      u = e.origin,
      t = I(t.state.rootMatrix, G([u[0], u[1]], o ? [0, 0] : [a.left, a.top]), s),
      u = J([i.left, i.top], t);
    (e.startAbsoluteOrigin = u),
      (e.prevDeg = (F(u, [n, r]) / Math.PI) * 180),
      (e.defaultDeg = e.prevDeg),
      (e.prevSnapDeg = 0),
      (e.loop = 0),
      (e.startDist = yt(u, [n, r]));
  }
  function Gi(t, e, n) {
    var r = n.defaultDeg,
      i = n.prevDeg,
      o = i % 360,
      i = Math.floor(i / 360),
      o =
        (o < 0 && (o += 360),
        t < o && 270 < o && t < 90 ? ++i : o < t && o < 90 && 270 < t && --i,
        e * (360 * i + t - r));
    return (n.prevDeg = r + o), o;
  }
  function ki(t, e, n, r) {
    return Gi((F(r.startAbsoluteOrigin, [t, e]) / Math.PI) * 180, n, r);
  }
  function Ai(t, e, n, r, i, o) {
    var a = t.props.throttleRotate,
      a = void 0 === a ? 0 : a,
      s = n.prevSnapDeg,
      u = 0,
      c = !1,
      t =
        (o &&
          ((c = (o = (function (t, e, n, r) {
            var i = t.props,
              o = null != (o = i[ro]) ? o : 5,
              i = i[io];
            if (ti(t, "rotatable")) {
              var a = e.pos1,
                s = e.pos2,
                u = e.pos3,
                c = e.pos4,
                l = e.origin,
                f = (n * Math.PI) / 180,
                e = [a, s, u, c].map(function (t) {
                  return G(t, l);
                }),
                a = e.map(function (t) {
                  return Ye(t, f);
                }),
                s = tt(tt([], $r(t, e, a, l, n), !0), Ei(t, e, a, l, n), !0),
                u =
                  (s.sort(function (t, e) {
                    return it(t - n) - it(e - n);
                  }),
                  0 < s.length);
              if (u) return { isSnap: u, dist: u ? s[0] : n };
            }
            if (null != i && i.length && o) {
              c = i.slice().sort(function (t, e) {
                return Ji(t, r) - Ji(e, r);
              })[0];
              if (Ji(c, r) <= o)
                return {
                  isSnap: !0,
                  dist:
                    n +
                    (function (t, e) {
                      e = Ki(e);
                      var n = Math.floor(t / 360),
                        r = 360 * n + 360 - e,
                        n = 360 * n + e;
                      return it(t - r) < it(t - n) ? r : n;
                    })(r, c) -
                    r,
                };
            }
            return { isSnap: !1, dist: n };
          })(t, e, r, i + r)).isSnap),
          (u = i + o.dist)),
        (u = c ? u : H(i + r, a)) - i);
    return [(n.prevSnapDeg = t) - s, t, u];
  }
  function Bi(t, e) {
    var n;
    return e.isRequest
      ? "rotatable" === e.requestAble
      : !!(
          T((n = e.inputEvent.target), B("rotation-control")) ||
          (t.props.rotateAroundControls && T(n, B("around-control"))) ||
          (T(n, B("control")) && T(n, B("rotatable")))
        ) ||
          (!!(e = t.props.rotationTarget) &&
            Ko(e, !0).some(function (t) {
              return !!t && (n === t || n.contains(t));
            }));
  }
  Wn = {
    name: "rotatable",
    canPinch: !0,
    props: [
      "rotatable",
      "rotationPosition",
      "throttleRotate",
      "renderDirections",
      "rotationTarget",
      "rotateAroundControls",
      "edge",
      "resolveAblesWithRotatable",
      "displayAroundControls",
    ],
    events: [
      "rotateStart",
      "beforeRotate",
      "rotate",
      "rotateEnd",
      "rotateGroupStart",
      "beforeRotateGroup",
      "rotateGroup",
      "rotateGroupEnd",
    ],
    css: [
      ".rotation {\nposition: absolute;\nheight: 40px;\nwidth: 1px;\ntransform-origin: 50% 100%;\nheight: calc(40px * var(--zoom));\ntop: auto;\nleft: 0;\nbottom: 100%;\nwill-change: transform;\n}\n.rotation .rotation-line {\ndisplay: block;\nwidth: 100%;\nheight: 100%;\ntransform-origin: 50% 50%;\n}\n.rotation .rotation-control {\nborder-color: #4af;\nborder-color: var(--moveable-color);\nbackground:#fff;\ncursor: alias;\n}\n:global .view-rotation-dragging, .rotatable.direction.control {\ncursor: alias;\n}\n.rotatable.direction.control.move {\ncursor: move;\n}\n",
    ],
    viewClassName: function (t) {
      return t.isDragging("rotatable") ? B("view-rotation-dragging") : "";
    },
    render: function (t, r) {
      var i,
        n,
        e = So(t.props, "rotatable"),
        o = e.rotatable,
        a = e.rotationPosition,
        s = e.zoom,
        u = e.renderDirections,
        c = e.rotateAroundControls,
        l = e.resolveAblesWithRotatable,
        e = t.getState(),
        f = e.renderPoses,
        e = e.direction;
      return o
        ? ((o = (function e(t, n, r) {
            var i,
              o,
              a,
              s = n[0],
              u = n[1],
              c = n[2],
              l = n[3];
            return "none" === t
              ? []
              : O(t)
              ? t.map(function (t) {
                  return e(t, [s, u, c, l], r)[0];
                })
              : ((t = (n = (t || "top").split("-"))[0]),
                (n = n[1]),
                (o = [s, u]),
                "left" === t
                  ? (o = [c, s])
                  : "right" === t
                  ? (o = [u, l])
                  : "bottom" === t && (o = [l, c]),
                (a = [(o[0][0] + o[1][0]) / 2, (o[0][1] + o[1][1]) / 2]),
                (i = Do(o, r)),
                n &&
                  ((t = "bottom" === t || "left" === t),
                  (a =
                    o[((o = "top" === n || "left" === n) && !t) || (!o && t) ? 0 : 1])),
                [[a, i]]);
          })(a, f, e)),
          (i = []),
          o.forEach(function (t, e) {
            var n = t[0],
              t = t[1];
            i.push(
              r.createElement(
                "div",
                {
                  key: "rotation".concat(e),
                  className: B("rotation"),
                  style: {
                    transform: "translate(-50%) translate("
                      .concat(n[0], "px, ")
                      .concat(n[1], "px) rotate(")
                      .concat(t, "rad)"),
                  },
                },
                r.createElement("div", {
                  className: B("line rotation-line"),
                  style: { transform: "scaleX(".concat(s, ")") },
                }),
                r.createElement("div", {
                  className: B("control rotation-control"),
                  style: { transform: "translate(0.5px) scale(".concat(s, ")") },
                })
              )
            );
          }),
          u &&
            ((a = ht(l || {})),
            (n = {}),
            a.forEach(function (e) {
              l[e].forEach(function (t) {
                n[t] = e;
              });
            }),
            (f = []),
            O(u) &&
              (f = u.map(function (t) {
                var e = n[t];
                return {
                  data: e ? { resolve: e } : {},
                  classNames: e ? ["move"] : [],
                  dir: t,
                };
              })),
            i.push.apply(i, Fr(t, "rotatable", f, r))),
          c && i.push.apply(i, Wr(t, r)),
          i)
        : null;
    },
    dragControlCondition: Bi,
    dragControlStart: function (a, t) {
      var i,
        o,
        s,
        e,
        n,
        r,
        u,
        c,
        l,
        f = t.datas,
        p = t.clientX,
        d = t.clientY,
        h = t.parentRotate,
        g = t.parentFlag,
        v = t.isPinch,
        m = t.isRequest,
        b = a.state,
        x = b.target,
        y = b.left,
        E = b.top,
        S = b.direction,
        C = b.beforeDirection,
        D = b.targetTransform,
        w = b.moveableClientRect,
        _ = b.offsetMatrix,
        M = b.targetMatrix,
        O = b.allMatrix,
        R = b.width,
        P = b.height;
      return (
        !(
          (!m && !x) ||
          ((x = a.getRect()),
          (f.rect = x),
          (f.transform = D),
          (f.left = y),
          (f.top = E),
          (e = function (t) {
            var e = Pi(a.state, t);
            (f.fixedDirection = e.fixedDirection),
              (f.fixedOffset = e.fixedOffset),
              (f.fixedPosition = e.fixedPosition),
              l && l.setFixedPosition(t);
          }),
          (D = function (t) {
            (e = a.state),
              (n = t),
              (o = e.allMatrix),
              (r = e.is3d),
              (i = e.width),
              (e = e.height);
            var e,
              n,
              r,
              i,
              o = {
                fixedPosition: I(
                  o,
                  [(i / 2) * (1 + n[0]), (e / 2) * (1 + n[1])],
                  r ? 4 : 3
                ),
                fixedDirection: n,
                fixedOffset: [0, 0],
              };
            (f.fixedDirection = o.fixedDirection),
              (f.fixedOffset = o.fixedOffset),
              (f.fixedPosition = o.fixedPosition),
              l && l.setFixedDirection(t);
          }),
          (i = p),
          (o = d),
          m || v || g
            ? ((f.beforeInfo = {
                origin: x.beforeOrigin,
                prevDeg: (y = h || 0),
                defaultDeg: y,
                prevSnapDeg: 0,
                startDist: 0,
              }),
              (f.afterInfo = Q(Q({}, f.beforeInfo), { origin: x.origin })),
              (f.absoluteInfo = Q(Q({}, f.beforeInfo), {
                origin: x.origin,
                startValue: y,
              })))
            : ((p = null == (E = t.inputEvent) ? void 0 : E.target) &&
                ((d = p.getAttribute("data-direction") || ""), (m = tr[d])) &&
                ((f.isControl = !0),
                (f.isAroundControl = T(p, B("around-control"))),
                (f.controlDirection = m),
                (v = p.getAttribute("data-resolve")) && (f.resolveAble = v),
                (n = b.rootMatrix),
                (g = b.renderPoses),
                (h = w),
                (r = 16 === n.length ? 4 : 3),
                (g = g.map(function (t) {
                  return I(n, t, r);
                })),
                (u = h.left),
                (c = h.top),
                (i = (y = V(
                  g.map(function (t) {
                    return [t[0] + u, t[1] + c];
                  }),
                  m
                ))[0]),
                (o = y[1])),
              (f.beforeInfo = { origin: x.beforeOrigin }),
              (f.afterInfo = { origin: x.origin }),
              (f.absoluteInfo = { origin: x.origin, startValue: x.rotation }),
              (s = e),
              (e = function (t) {
                var e = b.is3d ? 4 : 3,
                  n = J(Te(M, e), t),
                  r = n[0],
                  n = n[1],
                  r = z(_, ze([r, n], e)),
                  n = z(O, ze([t[0], t[1]], e)),
                  e = (s(t), b.posDelta);
                (f.beforeInfo.origin = G(r, e)),
                  (f.afterInfo.origin = G(n, e)),
                  (f.absoluteInfo.origin = G(n, e)),
                  zi(a, f.beforeInfo, i, o, w),
                  zi(a, f.afterInfo, i, o, w),
                  zi(a, f.absoluteInfo, i, o, w);
              }),
              (D = function (t) {
                t = V(
                  [
                    [0, 0],
                    [R, 0],
                    [0, P],
                    [R, P],
                  ],
                  t
                );
                e(t);
              })),
          (f.startClientX = i),
          (f.startClientY = o),
          (f.direction = S),
          (f.beforeDirection = C),
          (f.startValue = 0),
          (f.datas = {}),
          br(t, "rotate"),
          (l = E = !1),
          (l =
            f.isControl && f.resolveAble && "resizable" === f.resolveAble
              ? Ti.dragControlStart(
                  a,
                  Q(Q({}, new or("resizable").dragStart([0, 0], t)), {
                    parentPosition: f.controlPosition,
                    parentFixedPosition: f.fixedPosition,
                  })
                )
              : l) || (E = U.dragStart(a, new or().dragStart([0, 0], t))),
          e(
            (function (t) {
              var e = t.props,
                n = e.groupable,
                e = e.svgOrigin,
                t = t.getState(),
                r = t.offsetWidth,
                i = t.offsetHeight,
                o = t.svg,
                t = t.transformOrigin;
              if (!n && o && e) return ea(e, r, i);
              return t;
            })(a)
          ),
          (d = nt(
            a,
            t,
            Q(
              Q(
                {
                  set: function (t) {
                    f.startValue = (t * Math.PI) / 180;
                  },
                  setFixedDirection: D,
                  setFixedPosition: e,
                },
                mr(t)
              ),
              { dragStart: E, resizeStart: l }
            )
          )),
          (p = rt(a, "onRotateStart", d)),
          (f.isRotate = !1 !== p),
          (b.snapRenderInfo = { request: t.isRequest }),
          !f.isRotate)
        ) && d
      );
    },
    dragControl: function (t, e) {
      var n = e.datas,
        r = e.clientDistX,
        i = e.clientDistY,
        o = e.parentRotate,
        a = e.parentFlag,
        s = e.isPinch,
        u = e.groupDelta,
        c = e.resolveMatrix,
        l = n.beforeDirection,
        f = n.beforeInfo,
        p = n.afterInfo,
        d = n.absoluteInfo,
        h = n.isRotate,
        g = n.startValue,
        v = n.rect,
        m = n.startClientX,
        b = n.startClientY;
      if (h) {
        cr(e, "rotate");
        var x,
          y,
          E,
          h = l * ar(e.datas.beforeTransform, [50, 50], 100, 100).direction,
          S = t.props.parentMoveable,
          C = (180 / Math.PI) * g,
          g = d.startValue,
          D = !1,
          m = m + r,
          r = b + i;
        if (
          (!a && "parentDist" in e
            ? ((b = e.parentDist), (E = y = x = b))
            : s || a
            ? ((x = Gi(o, l, f)), (y = Gi(o, h, p)), (E = Gi(o, h, d)))
            : ((x = ki(m, r, l, f)),
              (y = ki(m, r, h, p)),
              (E = ki(m, r, h, d)),
              (D = !0)),
          rt(
            t,
            "onBeforeRotate",
            nt(
              t,
              e,
              {
                beforeRotation: C + x,
                rotation: C + y,
                absoluteRotation: g + E,
                setRotation: function (t) {
                  E = x = y = t - C;
                },
              },
              !0
            )
          ),
          (b = (i = Ai(t, v, f, x, C, D))[0]),
          (x = i[1]),
          (a = i[2]),
          (l = (o = Ai(t, v, p, y, C, D))[0]),
          (y = o[1]),
          (h = o[2]),
          (i = (f = Ai(t, v, d, E, g, D))[0]),
          (E = f[1]),
          (p = f[2]),
          i || l || b || S || c)
        )
          return (
            (o = lr(n, "rotate(".concat(h, "deg)"), "rotate(".concat(y, "deg)"))),
            c &&
              (n.fixedPosition = _r(
                t,
                n.targetAllTransform,
                n.fixedDirection,
                n.fixedOffset,
                n
              )),
            (v = y),
            (D = (g = n).fixedDirection),
            (f = g.fixedPosition),
            (S = g.fixedOffset),
            (u = G(
              J(u || [0, 0], (c = Mr(t, "rotate(".concat(v, "deg)"), D, f, S, g))),
              n.prevInverseDist || [0, 0]
            )),
            (n.prevInverseDist = c),
            (n.requestValue = null),
            (D = v = wr(t, o, u, s, e)),
            (f = yt([m, r], d.startAbsoluteOrigin) - d.startDist),
            (S = void 0),
            "resizable" === n.resolveAble &&
              (g = Ti.dragControl(
                t,
                Q(Q({}, ir(e, t.state, [e.deltaX, e.deltaY], !!s, !1, "resizable")), {
                  resolveMatrix: !0,
                  parentDistance: f,
                })
              )) &&
              (D = Ao(D, (S = g), e)),
            rt(
              t,
              "onRotate",
              (c = nt(
                t,
                e,
                Q(
                  Q(
                    {
                      delta: l,
                      dist: y,
                      rotate: h,
                      rotation: h,
                      beforeDist: x,
                      beforeDelta: b,
                      beforeRotate: a,
                      beforeRotation: a,
                      absoluteDist: E,
                      absoluteDelta: i,
                      absoluteRotate: p,
                      absoluteRotation: p,
                      isPinch: !!s,
                      resize: S,
                    },
                    v
                  ),
                  D
                )
              ))
            ),
            c
          );
      }
    },
    dragControlEnd: function (t, e) {
      var n = e.datas;
      if (n.isRotate)
        return (n.isRotate = !1), rt(t, "onRotateEnd", (n = d(t, e, {}))), n;
    },
    dragGroupControlCondition: Bi,
    dragGroupControlStart: function (t, e) {
      var n = e.datas,
        r = t.state,
        i = r.left,
        o = r.top,
        a = r.beforeOrigin,
        r = this.dragControlStart(t, e);
      if (!r) return !1;
      r.set(n.beforeDirection * t.rotation);
      (e = Br(t, this, "dragControlStart", e, function (t, e) {
        var t = t.state,
          n = t.left,
          r = t.top,
          t = t.beforeOrigin,
          n = J(G([n, r], [i, o]), G(t, a));
        return (
          (e.datas.startGroupClient = n),
          (e.datas.groupClient = n),
          Q(Q({}, e), { parentRotate: 0 })
        );
      })),
        (t = rt(
          t,
          "onRotateGroupStart",
          Q(Q({}, r), { targets: t.props.targets, events: e })
        ));
      return (n.isRotate = !1 !== t), !!n.isRotate && r;
    },
    dragGroupControl: function (e, n) {
      var t = n.datas;
      if (t.isRotate) {
        Bo(e, "onBeforeRotate", function (t) {
          rt(
            e,
            "onBeforeRotateGroup",
            nt(e, n, Q(Q({}, t), { targets: e.props.targets }), !0)
          );
        });
        var a,
          s,
          u,
          r = this.dragControl(e, n);
        if (r)
          return (
            (a = t.beforeDirection),
            (s = r.beforeDist),
            (u = (s / 180) * Math.PI),
            (t = Br(e, this, "dragControl", n, function (t, e) {
              var n = e.datas.startGroupClient,
                r = e.datas.groupClient,
                i = r[0],
                r = r[1],
                n = Ye(n, u * a),
                o = n[0],
                n = n[1],
                i = [o - i, n - r];
              return (
                (e.datas.groupClient = [o, n]),
                Q(Q({}, e), { parentRotate: s, groupDelta: i })
              );
            })),
            (e.rotation = a * r.beforeRotation),
            (t = Q(
              {
                targets: e.props.targets,
                events: t,
                set: function (t) {
                  e.rotation = t;
                },
                setGroupRotation: function (t) {
                  e.rotation = t;
                },
              },
              r
            )),
            rt(e, "onRotateGroup", t),
            t
          );
      }
    },
    dragGroupControlEnd: function (t, e) {
      var n,
        r = e.isDrag;
      if (e.datas.isRotate)
        return (
          this.dragControlEnd(t, e),
          (n = Br(t, this, "dragControlEnd", e)),
          rt(t, "onRotateGroupEnd", d(t, e, { targets: t.props.targets, events: n })),
          r
        );
    },
    request: function (t) {
      var e = {},
        n = 0,
        r = t.getRotation();
      return {
        isControl: !0,
        requestStart: function () {
          return { datas: e };
        },
        request: function (t) {
          return (
            "deltaRotate" in t
              ? (n += t.deltaRotate)
              : "rotate" in t && (n = t.rotate - r),
            { datas: e, parentDist: n }
          );
        },
        requestEnd: function () {
          return { datas: e, isDrag: !0 };
        },
      };
    },
  };
  function Ii(t, e) {
    return (
      (t = Q(Q({}, t), {
        classNames: tt([B("line", "guideline", t.direction)], t.classNames, !0).filter(
          function (t) {
            return t;
          }
        ),
        size: t.size || "".concat(t.sizeValue, "px"),
        pos:
          t.pos ||
          t.posValue.map(function (t) {
            return "".concat(H(t, 0.1), "px");
          }),
      })),
      (e = e),
      (n = t.direction),
      (r = t.classNames),
      (i = t.size),
      (o = t.pos),
      (a = t.zoom),
      (t = t.key),
      (s = (n = "horizontal" === n) ? "Y" : "X"),
      e.createElement("div", {
        key: t,
        className: r.join(" "),
        style:
          (((e = {})[n ? "width" : "height"] = "".concat(i)),
          (e.transform = "translate("
            .concat(o[0], ", ")
            .concat(o[1], ") translate")
            .concat(s, "(-50%) scale")
            .concat(s, "(")
            .concat(a, ")")),
          e),
      })
    );
    var n, r, i, o, a, s;
  }
  function Fi(t, i, e, o, a, s, u, c) {
    var l = t.props.zoom;
    return e.map(function (t, e) {
      var n = t.type,
        t = t.pos,
        r = [0, 0];
      return (
        (r[u] = o),
        (r[u ? 0 : 1] = -a + t),
        Ii(
          {
            key: "".concat(i, "TargetGuideline").concat(e),
            classNames: [B("target", "bold", n)],
            posValue: r,
            sizeValue: s,
            zoom: l,
            direction: i,
          },
          c
        )
      );
    });
  }
  function Ni(t, o, e, a, n, s) {
    var t = t.props,
      u = t.zoom,
      r = t.isDisplayInnerSnapDigit,
      i = "horizontal" === o ? Jr : Qr,
      c = n[i.start],
      l = n[i.end];
    return e
      .filter(function (t) {
        var e = t.hide,
          t = t.elementRect;
        if (e) return !1;
        if (r && t) {
          e = t.rect;
          if (e[i.start] <= c && l <= e[i.end]) return !1;
        }
        return !0;
      })
      .map(function (t, e) {
        var n = t.pos,
          r = t.size,
          i = t.element,
          t = t.className,
          n = [-a[0] + n[0], -a[1] + n[1]];
        return Ii(
          {
            key: "".concat(o, "-default-guideline-").concat(e),
            classNames: i ? [B("bold"), t] : [B("normal"), t],
            direction: o,
            posValue: n,
            sizeValue: r,
            zoom: u,
          },
          s
        );
      });
  }
  function Yi(t, e, n, r, i, o, a, s) {
    var t = t.props,
      u = t.snapDigit,
      u = void 0 === u ? 0 : u,
      c = t.isDisplaySnapDigit,
      c = void 0 === c || c,
      l = t.snapDistFormat,
      l =
        void 0 === l
          ? function (t, e) {
              return t;
            }
          : l,
      t = t.zoom,
      f = "horizontal" === e ? "X" : "Y",
      p = "vertical" === e ? "height" : "width",
      i = Math.abs(i),
      c = c ? parseFloat(i.toFixed(u)) : 0;
    return s.createElement(
      "div",
      {
        key: "".concat(e, "-").concat(n, "-guideline-").concat(r),
        className: B("guideline-group", e),
        style:
          (((u = { left: "".concat(o[0], "px"), top: "".concat(o[1], "px") })[p] =
            "".concat(i, "px")),
          u),
      },
      Ii(
        {
          direction: e,
          classNames: [B(n), a],
          size: "100%",
          posValue: [0, 0],
          sizeValue: i,
          zoom: t,
        },
        s
      ),
      s.createElement(
        "div",
        {
          className: B("size-value", "gap"),
          style: { transform: "translate".concat(f, "(-50%) scale(").concat(t, ")") },
        },
        0 < c ? l(c, e) : ""
      )
    );
  }
  function Xi(y, e, E, S, C) {
    var n = y.props.isDisplayInnerSnapDigit,
      D = [];
    return (
      ["vertical", "horizontal"].forEach(function (a) {
        var u,
          c,
          l,
          f,
          p,
          d,
          h,
          t = e.filter(function (t) {
            return t.type === a;
          }),
          s = "vertical" === a ? 1 : 0,
          g = s ? 0 : 1,
          t =
            ((c = n),
            (f = "vertical" === (u = a) ? 1 : 0),
            (d = S[(p = (l = "vertical" === u ? 0 : 1) ? Jr : Qr).start]),
            (h = S[p.end]),
            Yo(t, function (t) {
              return t.pos[l];
            }).map(function (t) {
              var a = [],
                s = [];
              return (
                t.forEach(function (t) {
                  var e,
                    n,
                    r,
                    i = t.element,
                    o = t.elementRect.rect;
                  o[p.end] < d
                    ? a.push(t)
                    : h < o[p.start]
                    ? s.push(t)
                    : o[p.start] <= d &&
                      h <= o[p.end] &&
                      c &&
                      ((e = t.pos),
                      (n = {
                        element: i,
                        rect: Q(Q({}, o), (((n = {})[p.end] = o[p.start]), n)),
                      }),
                      (o = {
                        element: i,
                        rect: Q(Q({}, o), (((i = {})[p.start] = o[p.end]), i)),
                      }),
                      (i = [0, 0]),
                      ((r = [0, 0])[l] = e[l]),
                      (r[f] = e[f]),
                      (i[l] = e[l]),
                      (i[f] = e[f] + t.size),
                      a.push({
                        type: u,
                        pos: r,
                        size: 0,
                        elementRect: n,
                        direction: "",
                      }),
                      s.push({
                        type: u,
                        pos: i,
                        size: 0,
                        elementRect: o,
                        direction: "",
                      }));
                }),
                a.sort(function (t, e) {
                  return e.pos[f] - t.pos[f];
                }),
                s.sort(function (t, e) {
                  return t.pos[f] - e.pos[f];
                }),
                { total: t, start: a, end: s, inner: [] }
              );
            })),
          v = s ? Qr : Jr,
          m = s ? Jr : Qr,
          b = S[v.start],
          x = S[v.end];
        t.forEach(function (t) {
          var e = t.total,
            n = t.start,
            r = t.end,
            t = t.inner,
            o = E[g] + e[0].pos[g] - S[m.start],
            i = S;
          n.forEach(function (t) {
            var e,
              n = t.elementRect.rect,
              r = i[v.start] - n[v.end];
            0 < r &&
              (((e = [0, 0])[s] = E[s] + i[v.start] - b - r),
              (e[g] = o),
              D.push(Yi(y, a, "dashed", D.length, r, e, t.className, C))),
              (i = n);
          }),
            (i = S),
            r.forEach(function (t) {
              var e,
                n = t.elementRect.rect,
                r = n[v.start] - i[v.end];
              0 < r &&
                (((e = [0, 0])[s] = E[s] + i[v.end] - b),
                (e[g] = o),
                D.push(Yi(y, a, "dashed", D.length, r, e, t.className, C))),
                (i = n);
            }),
            t.forEach(function (t) {
              var e = t.elementRect.rect,
                n = b - e[v.start],
                e = e[v.end] - x,
                r = [0, 0],
                i = [0, 0];
              (r[s] = E[s] - n),
                (r[g] = o),
                (i[s] = E[s] + x - b),
                (i[g] = o),
                D.push(Yi(y, a, "dashed", D.length, n, r, t.className, C)),
                D.push(Yi(y, a, "dashed", D.length, e, i, t.className, C));
            });
        });
      }),
      D
    );
  }
  function qi(t) {
    var e = t.state,
      n = e.containerClientRect,
      r = e.hasFixed,
      i = n.overflow,
      o = n.scrollHeight,
      a = n.scrollWidth,
      s = n.clientHeight,
      u = n.clientWidth,
      c = n.clientLeft,
      l = n.clientTop,
      f = t.props,
      p = f.snapGap,
      p = void 0 === p || p,
      d = f.verticalGuidelines,
      h = f.horizontalGuidelines,
      g = f.snapThreshold,
      g = void 0 === g ? 5 : g,
      v = f.snapGridWidth,
      v = void 0 === v ? 0 : v,
      m = f.snapGridHeight,
      m = void 0 === m ? 0 : m,
      b = f.maxSnapElementGuidelineDistance,
      x = void 0 === b ? 1 / 0 : b,
      b = f.isDisplayGridGuidelines,
      f = vo(zo(t.state)),
      y = f.top,
      E = f.left,
      S = f.bottom,
      f = f.right,
      C = {
        top: y,
        left: E,
        bottom: S,
        right: f,
        center: (E + f) / 2,
        middle: (y + S) / 2,
      };
    f = (E = t).state;
    var D,
      w,
      _,
      M,
      O,
      R,
      P,
      T,
      z,
      G,
      k,
      A,
      y = tt(
        [],
        (y = void 0 === (y = E.props.elementGuidelines) ? [] : y).length
          ? ((D = (f.elementRects || []).filter(function (t) {
              return !t.refresh;
            })),
            (w = y
              .map(function (t) {
                return j(t) && "element" in t
                  ? Q(Q({}, t), { element: Zo(t.element, !0) })
                  : { element: Zo(t, !0) };
              })
              .filter(function (t) {
                return t.element;
              })),
            (y = (function (t, e) {
              return At(t, e, Qe);
            })(
              D.map(function (t) {
                return t.element;
              }),
              w.map(function (t) {
                return t.element;
              })
            )),
            (S = y.maintained),
            (_ = y.added),
            (M = []),
            S.forEach(function (t) {
              var e = t[0],
                t = t[1];
              M[t] = D[e];
            }),
            (function (t, e) {
              var n, o, r, a, i, s, u, c, l;
              return e.length
                ? ((n = t.props.groupable),
                  (t = t.state),
                  (i = t.containerClientRect),
                  (o = t.rootMatrix),
                  (r = t.is3d),
                  (t = t.offsetDelta),
                  (i = (function (t, e, n) {
                    return (
                      (t = I(t, [e.clientLeft, e.clientTop], n)),
                      [e.left + t[0], e.top + t[1]]
                    );
                  })(o, i, (a = r ? 4 : 3))),
                  (s = i[0]),
                  (u = i[1]),
                  (c = n ? 0 : t[0]),
                  (l = n ? 0 : t[1]),
                  e.map(function (t) {
                    var e = t.element.getBoundingClientRect(),
                      n = e.left - s - c,
                      r = e.top - u - l,
                      i = r + e.height,
                      e = n + e.width,
                      n = jo(o, [n, r], a),
                      r = n[0],
                      n = n[1],
                      e = jo(o, [e, i], a),
                      i = e[0],
                      e = e[1];
                    return Q(Q({}, t), {
                      rect: {
                        left: r,
                        right: i,
                        top: n,
                        bottom: e,
                        center: (r + i) / 2,
                        middle: (n + e) / 2,
                      },
                    });
                  }))
                : [];
            })(
              E,
              _.map(function (t) {
                return w[t];
              })
            ).map(function (t, e) {
              M[_[e]] = t;
            }),
            (f.elementRects = M),
            (O = ei(E.props.elementSnapDirections)),
            (R = []),
            M.forEach(function (e) {
              var n = e.element,
                t = e.top,
                t = void 0 === t ? O.top : t,
                r = e.left,
                r = void 0 === r ? O.left : r,
                i = e.right,
                i = void 0 === i ? O.right : i,
                o = e.bottom,
                o = void 0 === o ? O.bottom : o,
                a = e.center,
                a = void 0 === a ? O.center : a,
                s = e.middle,
                s = void 0 === s ? O.middle : s,
                u = e.className,
                c = e.rect,
                t = ni(
                  { top: t, right: i, left: r, bottom: o, center: a, middle: s },
                  c
                ),
                i = t.horizontal,
                r = t.vertical,
                l = c.top,
                f = c.left,
                p = c.right - f,
                d = c.bottom - l,
                h = [p, d];
              r.forEach(function (t) {
                R.push({
                  type: "vertical",
                  element: n,
                  pos: [H(t, 0.1), l],
                  size: d,
                  sizes: h,
                  className: u,
                  elementRect: e,
                  direction: "",
                });
              }),
                i.forEach(function (t) {
                  R.push({
                    type: "horizontal",
                    element: n,
                    pos: [f, H(t, 0.1)],
                    size: p,
                    sizes: h,
                    className: u,
                    elementRect: e,
                    direction: "",
                  });
                });
            }),
            R)
          : ((f.elementRects = []), []),
        !0
      ),
      f =
        (p &&
          y.push.apply(
            y,
            ((P = C),
            (T = g),
            (S = t.props),
            (E = S.maxSnapElementGuidelineDistance),
            (z = void 0 === E ? 1 / 0 : E),
            (E = S.maxSnapElementGapDistance),
            (G = void 0 === E ? 1 / 0 : E),
            (k = t.state.elementRects),
            (A = []),
            [
              ["vertical", Jr, Qr],
              ["horizontal", Qr, Jr],
            ].forEach(function (t) {
              var p = t[0],
                d = t[1],
                a = t[2],
                h = P[d.start],
                g = P[d.end],
                v = P[d.center],
                n = P[a.start],
                r = P[a.end];
              function i(t) {
                t = t.rect;
                return t[d.end] < h + T
                  ? h - t[d.end]
                  : g - T < t[d.start]
                  ? t[d.start] - g
                  : -1;
              }
              var e = k
                  .filter(function (t) {
                    var e = t.rect;
                    return !(e[a.start] > r || e[a.end] < n) && 0 < i(t);
                  })
                  .sort(function (t, e) {
                    return i(t) - i(e);
                  }),
                s = [];
              e.forEach(function (o) {
                e.forEach(function (t) {
                  var e, n, r, i;
                  o === t ||
                    ((r = o.rect),
                    (e = t.rect),
                    (n = r[a.start]),
                    (r = r[a.end]),
                    (i = e[a.start]),
                    e[a.end] < n) ||
                    r < i ||
                    s.push([o, t]);
                });
              }),
                s.forEach(function (t) {
                  var e = t[0],
                    t = t[1],
                    n = e.rect,
                    r = t.rect,
                    i = n[d.start],
                    n = n[d.end],
                    o = r[d.start],
                    a = r[d.end],
                    s = 0,
                    u = 0,
                    c = !1,
                    l = !1,
                    f = !1;
                  if (n <= h && g <= o) {
                    if (
                      ((l = !0),
                      it((u = n + (s = (o - n - (g - h)) / 2) + (g - h) / 2) - v) > T)
                    )
                      return;
                  } else if (n < o && a < h + T) {
                    if (((c = !0), it((u = a + (s = o - n)) - h) > T)) return;
                  } else {
                    if (!(n < o && g - T < i)) return;
                    if (((f = !0), it((u = i - (s = o - n)) - g) > T)) return;
                  }
                  !s ||
                    !ji(P, r, p, z) ||
                    G < s ||
                    A.push({
                      type: p,
                      pos: "vertical" === p ? [u, 0] : [0, u],
                      element: t.element,
                      size: 0,
                      className: t.className,
                      isStart: c,
                      isCenter: l,
                      isEnd: f,
                      gap: s,
                      hide: !0,
                      gapRects: [e, t],
                      direction: "",
                    });
                });
            }),
            A)
          ),
        Q({}, e.snapOffset || { left: 0, top: 0, bottom: 0, right: 0 }));
    return (
      y.push.apply(
        y,
        (function (t, e, n, r, i, o, a, s) {
          void 0 === i && (i = 0);
          void 0 === o && (o = 0);
          var u = [],
            c = a.left,
            l = a.top;
          if (e)
            for (var f = 0; f <= r; f += e)
              u.push({
                type: "horizontal",
                pos: [c, H(f - o + l, 0.1)],
                className: B("grid-guideline"),
                size: n,
                hide: !s,
                direction: "",
              });
          if (t)
            for (f = 0; f <= n; f += t)
              u.push({
                type: "vertical",
                pos: [H(f - i + c, 0.1), l],
                className: B("grid-guideline"),
                size: r,
                hide: !s,
                direction: "",
              });
          return u;
        })(v, m, i ? a : u, i ? o : s, c, l, f, b)
      ),
      r &&
        ((p = n.left),
        (g = n.top),
        (f.left += p),
        (f.top += g),
        (f.right += p),
        (f.bottom += g)),
      y.push.apply(y, Hi(h || !1, d || !1, i ? a : u, i ? o : s, c, l, f)),
      (y = y.filter(function (t) {
        var e = t.element,
          n = t.elementRect,
          t = t.type;
        return !e || !n || ((e = n.rect), ji(C, e, t, x));
      }))
    );
  }
  function ji(t, e, n, r) {
    return "horizontal" === n
      ? it(t.right - e.left) <= r ||
          it(t.left - e.right) <= r ||
          (t.left <= e.right && e.left <= t.right)
      : "vertical" !== n ||
          it(t.bottom - e.top) <= r ||
          it(t.top - e.bottom) <= r ||
          (t.top <= e.bottom && e.top <= t.bottom);
  }
  function Wi(t, n) {
    return t
      ? t.map(function (t) {
          var t = j(t) ? t : { pos: t },
            e = t.pos;
          return P(e) ? t : Q(Q({}, t), { pos: Z(e, n) });
        })
      : [];
  }
  function Hi(t, e, n, r, i, o, a) {
    void 0 === i && (i = 0), void 0 === o && (o = 0);
    var s = [],
      u = (a = void 0 === a ? { left: 0, top: 0, right: 0, bottom: 0 } : a).left,
      c = a.top,
      l = a.bottom,
      f = n + a.right - u,
      p = r + l - c;
    return (
      Wi(t, p).forEach(function (t) {
        s.push({
          type: "horizontal",
          pos: [u, H(t.pos - o + c, 0.1)],
          size: f,
          className: t.className,
          direction: "",
        });
      }),
      Wi(e, f).forEach(function (t) {
        s.push({
          type: "vertical",
          pos: [H(t.pos - i + u, 0.1), c],
          size: p,
          className: t.className,
          direction: "",
        });
      }),
      s
    );
  }
  function Li(t) {
    var e,
      n,
      r,
      i = t.state,
      o = i.container,
      a = t.props.snapContainer || o;
    if (i.snapContainer !== a || !i.guidelines || !i.guidelines.length)
      return (
        (e = i.containerClientRect),
        (n = { left: 0, top: 0, bottom: 0, right: 0 }),
        o !== a &&
          (o = Zo(a, !0)) &&
          ((r = Jo(i, [(o = Oo(o)).left - e.left, o.top - e.top])),
          (o = Jo(i, [o.right - e.right, o.bottom - e.bottom])),
          (n.left = H(r[0], 1e-5)),
          (n.top = H(r[1], 1e-5)),
          (n.right = H(o[0], 1e-5)),
          (n.bottom = H(o[1], 1e-5))),
        (i.snapContainer = a),
        (i.snapOffset = n),
        (i.guidelines = qi(t)),
        (i.enableSnap = !0)
      );
  }
  function Vi(t, e, n, r, i, o) {
    t = go(t, e, n, o ? 4 : 3);
    return To(t, G(i, V(t, r)));
  }
  function Ui(t) {
    return t ? t / it(t) : 0;
  }
  function $i(t, e, n, r, i, o) {
    var a,
      s,
      u,
      c,
      l = o.fixedDirection,
      l =
        ((a = n),
        (s = l),
        (c = []),
        r
          ? (1 !== it(s[0]) || 1 !== it(s[1])
              ? c.push([s, [-1, -1]], [s, [-1, 1]], [s, [1, -1]], [s, [1, 1]])
              : c.push([s, [a[0], -a[1]]], [s, [-a[0], a[1]]]),
            c.push([s, a]))
          : (a[0] && a[1]) || (!a[0] && !a[1])
          ? ((u = a[0] ? a : [1, 1]),
            [1, -1].forEach(function (e) {
              [1, -1].forEach(function (t) {
                t = [e * u[0], t * u[1]];
                (s[0] === t[0] && s[1] === t[1]) || c.push([s, t]);
              });
            }))
          : a[0]
          ? (1 === it(s[0]) ? [1] : [1, -1]).forEach(function (t) {
              c.push(
                [
                  [s[0], -1],
                  [t * a[0], -1],
                ],
                [
                  [s[0], 0],
                  [t * a[0], 0],
                ],
                [
                  [s[0], 1],
                  [t * a[0], 1],
                ]
              );
            })
          : a[1] &&
            (1 === it(s[1]) ? [1] : [1, -1]).forEach(function (t) {
              c.push(
                [
                  [-1, s[1]],
                  [-1, t * a[1]],
                ],
                [
                  [0, s[1]],
                  [0, t * a[1]],
                ],
                [
                  [1, s[1]],
                  [1, t * a[1]],
                ]
              );
            }),
        c),
      n = xi(t, e, n, r),
      e = tt(tt([], Mi(t, e, l, r, i, o), !0), mi(t, n, o), !0),
      l = fi(e, 0),
      r = fi(e, 1);
    return {
      width: { isBound: l.isBound, offset: l.offset[0] },
      height: { isBound: r.isBound, offset: r.offset[1] },
    };
  }
  function Zi(t, e, n, r, i, o, a, s) {
    for (
      var u,
        c,
        l,
        f,
        p,
        d,
        h,
        g,
        v,
        m,
        b,
        x,
        y,
        E,
        S,
        C,
        B,
        D,
        w,
        _ = zo(t.state),
        I = t.props.keepRatio,
        M = 0,
        O = 0,
        R = 0;
      R < 2;
      ++R
    ) {
      var P = $i(t, e(M, O), i, I, a, s),
        T = P.width,
        P = P.height,
        z = T.isBound,
        G = P.isBound,
        k = T.offset,
        A = P.offset;
      if ((1 === R && (z || (k = 0), G || (A = 0)), 0 === R && a && !z && !G))
        return [0, 0];
      I &&
        ((T = it(k) * (n ? 1 / n : 1)),
        (P = it(A) * (r ? 1 / r : 1)),
        (z && G ? T < P : G || (!z && T < P)) ? (k = (n * A) / r) : (A = (r * k) / n)),
        (M += k),
        (O += A);
    }
    return (
      i[0] &&
        i[1] &&
        ((h = t),
        (g = _),
        (v = o),
        (m = s),
        (S = [-(_ = i)[0], -_[1]]),
        (C = (o = h.state).width),
        (B = o.height),
        (o = h.props.bounds),
        (w = D = 1 / 0),
        o &&
          ((h = [
            [_[0], -_[1]],
            [-_[0], _[1]],
          ]),
          (_ = o.left),
          (b = void 0 === _ ? -1 / 0 : _),
          (_ = o.top),
          (x = void 0 === _ ? -1 / 0 : _),
          (_ = o.right),
          (y = void 0 === _ ? 1 / 0 : _),
          (_ = o.bottom),
          (E = void 0 === _ ? 1 / 0 : _),
          h.forEach(function (t) {
            var e,
              n,
              r = t[0] !== S[0],
              i = t[1] !== S[1],
              t = V(g, t),
              o = (360 * F(v, t)) / Math.PI;
            i &&
              ((e = t.slice()),
              (it(o - 360) < 2 || it(o - 180) < 2) && (e[1] = v[1]),
              (n = (i = Si(v, e, (v[1] < t[1] ? E : x) - t[1], !1, m)).offset[1]),
              (i = i.isOutside),
              isNaN(n) || (w = B + (i ? 1 : -1) * it(n))),
              r &&
                ((e = t.slice()),
                (it(o - 90) < 2 || it(o - 270) < 2) && (e[0] = v[0]),
                (n = (i = Si(v, e, (v[0] < t[0] ? y : b) - t[0], !0, m)).offset[0]),
                (r = i.isOutside),
                isNaN(n) || (D = C + (r ? 1 : -1) * it(n)));
          })),
        (_ = (o = { maxWidth: D, maxHeight: w }).maxWidth),
        (h = o.maxHeight),
        (o = t),
        (u = e(M, O).map(function (t) {
          return t.map(function (t) {
            return H(t, Kn);
          });
        })),
        (c = n + M),
        (l = r + O),
        (_ = _),
        (h = h),
        (p = a),
        (d = s),
        (u = V(u, (f = i))),
        (p = (o = wi(o, p, { vertical: [u[0]], horizontal: [u[1]] })).horizontal
          .offset),
        (M += k =
          (p =
            H((u = o.vertical.offset), Kn) || H(p, Kn)
              ? ((d = (o = hr({ datas: d, distX: -u, distY: -p }))[0]),
                (u = o[1]),
                [
                  Math.min(_ || 1 / 0, c + f[0] * d) - c,
                  Math.min(h || 1 / 0, l + f[1] * u) - l,
                ])
              : [0, 0])[0]),
        (O += A = p[1])),
      [M, O]
    );
  }
  function Ki(t) {
    return t < 0 && (t = (t % 360) + 360), (t %= 360);
  }
  function Ji(t, e) {
    (t = Ki(t)), (e = Ki(e));
    t = Ki(t - e);
    return Math.min(t, 360 - t);
  }
  function Qi(t, a, e, n, s) {
    var u, c, l, f, p;
    return ti(t, "scalable")
      ? ((u = s.startOffsetWidth),
        (c = s.startOffsetHeight),
        (l = s.fixedPosition),
        (f = s.fixedDirection),
        (p = s.is3d),
        [
          (t = Zi(
            t,
            function (t, e) {
              return Vi(
                ((n = s),
                (t = J(a, [t / u, e / c])),
                (e = n.transformOrigin),
                (r = n.offsetMatrix),
                (i = n.is3d),
                (o = n.targetMatrix),
                (i = i ? 4 : 3),
                vr(r, K(n.targetAllTransform || o, We(t, i), i), e, i)),
                u,
                c,
                f,
                l,
                p
              );
              var n, r, i, o;
            },
            u,
            c,
            e,
            l,
            n,
            s
          ))[0] / u,
          t[1] / c,
        ])
      : [0, 0];
  }
  function to(t) {
    var r = [];
    return (
      t.forEach(function (n) {
        n.guidelineInfos.forEach(function (t) {
          var e = t.guideline;
          _(r, function (t) {
            return t.guideline === e;
          }) || ((e.direction = ""), r.push({ guideline: e, posInfo: n }));
        });
      }),
      r.map(function (t) {
        var e = t.guideline,
          t = t.posInfo;
        return Q(Q({}, e), { direction: t.direction });
      })
    );
  }
  function eo(t, e, n, r, i, o) {
    var a,
      s,
      u,
      c,
      l,
      f,
      p,
      d,
      h,
      g,
      v,
      m,
      o = Hr(Lr(t, o), e, n),
      e = o.vertical,
      n = o.horizontal,
      t =
        (e.forEach(function (t) {
          t.isBound && r.push({ type: "bounds", pos: t.pos });
        }),
        n.forEach(function (t) {
          t.isBound && i.push({ type: "bounds", pos: t.pos });
        }),
        (e = (o = t).props.innerBounds)
          ? ((n = [(n = o.getRect()).pos1, n.pos2, n.pos3, n.pos4]),
            (a = V(n, [0, 0])),
            (s = e.left),
            (u = e.top),
            (c = e.width),
            (l = e.height),
            (f = [
              [s, u],
              [s, u + l],
            ]),
            (p = [
              [s, u],
              [s + c, u],
            ]),
            (d = [
              [s + c, u],
              [s + c, u + l],
            ]),
            (e = xi(
              o,
              n,
              [0, 0],
              !(h = [
                [s, u + l],
                [s + c, u + l],
              ])
            )),
            (m = { top: !(v = []), bottom: !(g = []), left: !1, right: !1 }),
            e.forEach(function (t) {
              var e = t.line,
                t = t.lineConstants,
                n = pi(a, e),
                r = n.horizontal,
                n = n.vertical,
                i = vi(e, t, p, n, 1, !0),
                n = vi(e, t, h, n, 1, !0),
                o = vi(e, t, f, r, 1, !0),
                e = vi(e, t, d, r, 1, !0);
              i.isBound && !m.top && (g.push(u), (m.top = !0)),
                n.isBound && !m.bottom && (g.push(u + l), (m.bottom = !0)),
                o.isBound && !m.left && (v.push(s), (m.left = !0)),
                e.isBound && !m.right && (v.push(s + c), (m.right = !0));
            }),
            { horizontal: g, vertical: v })
          : { vertical: [], horizontal: [] }),
      o = t.vertical,
      n = t.horizontal;
    o.forEach(function (n) {
      0 <=
        ft(r, function (t) {
          var e = t.type,
            t = t.pos;
          return "bounds" === e && t === n;
        }) || r.push({ type: "bounds", pos: n });
    }),
      n.forEach(function (n) {
        0 <=
          ft(i, function (t) {
            var e = t.type,
              t = t.pos;
            return "bounds" === e && t === n;
          }) || i.push({ type: "bounds", pos: n });
      });
  }
  var no = $o("", ["resizable", "scalable"]),
    ro = "snapRotationThreshold",
    io = "snapRotationDegrees",
    o = {
      name: "snappable",
      dragRelation: "strong",
      props: [
        "snappable",
        "snapContainer",
        "snapDirections",
        "elementSnapDirections",
        "snapGap",
        "snapGridWidth",
        "snapGridHeight",
        "isDisplaySnapDigit",
        "isDisplayInnerSnapDigit",
        "isDisplayGridGuidelines",
        "snapDigit",
        "snapThreshold",
        "snapRenderThreshold",
        ro,
        io,
        "horizontalGuidelines",
        "verticalGuidelines",
        "elementGuidelines",
        "bounds",
        "innerBounds",
        "snapDistFormat",
        "maxSnapElementGuidelineDistance",
        "maxSnapElementGapDistance",
      ],
      events: ["snap"],
      css: [
        ":host {\n--bounds-color: #d66;\n}\n.guideline {\npointer-events: none;\nz-index: 2;\n}\n.guideline.bounds {\nbackground: #d66;\nbackground: var(--bounds-color);\n}\n.guideline-group {\nposition: absolute;\ntop: 0;\nleft: 0;\n}\n.guideline-group .size-value {\nposition: absolute;\ncolor: #f55;\nfont-size: 12px;\nfont-size: calc(12px * var(--zoom));\nfont-weight: bold;\n}\n.guideline-group.horizontal .size-value {\ntransform-origin: 50% 100%;\ntransform: translateX(-50%);\nleft: 50%;\nbottom: 5px;\nbottom: calc(2px + 3px * var(--zoom));\n}\n.guideline-group.vertical .size-value {\ntransform-origin: 0% 50%;\ntop: 50%;\ntransform: translateY(-50%);\nleft: 5px;\nleft: calc(2px + 3px * var(--zoom));\n}\n.guideline.gap {\nbackground: #f55;\n}\n.size-value.gap {\ncolor: #f55;\n}\n",
      ],
      render: function (t, e) {
        var n = t.state,
          r = n.top,
          i = n.left,
          o = n.pos1,
          a = n.pos2,
          s = n.pos3,
          u = n.pos4,
          c = n.snapRenderInfo,
          l = t.props.snapRenderThreshold,
          l = void 0 === l ? 1 : l;
        if (!c || !c.render || !ti(t, "")) return [];
        n.guidelines = qi(t);
        var d,
          h,
          g,
          v,
          m,
          b,
          n = Math.min(o[0], a[0], s[0], u[0]),
          o = Math.min(o[1], a[1], s[1], u[1]),
          a = c.externalPoses || [],
          s = zo(t.state),
          f = [],
          p = [],
          x = [],
          y = [],
          u = [],
          E = vo(s),
          S = E.width,
          C = E.height,
          D = E.top,
          w = E.left,
          _ = E.bottom,
          E = E.right,
          M = {
            left: w,
            right: E,
            top: D,
            bottom: _,
            center: (w + E) / 2,
            middle: (D + _) / 2,
          },
          O = 0 < a.length,
          a = O ? vo(a) : {},
          s =
            (c.request ||
              (c.direction && u.push(ci(t, s, c.direction, l)),
              c.snap &&
                ((s = vo(s)),
                c.center &&
                  ((s.middle = (s.top + s.bottom) / 2),
                  (s.center = (s.left + s.right) / 2)),
                u.push(ai(t, s, l))),
              O &&
                (c.center &&
                  ((a.middle = (a.top + a.bottom) / 2),
                  (a.center = (a.left + a.right) / 2)),
                u.push(ai(t, a, l))),
              u.forEach(function (t) {
                var e = t.vertical.posInfos,
                  t = t.horizontal.posInfos;
                f.push.apply(
                  f,
                  e
                    .filter(function (t) {
                      return t.guidelineInfos.some(function (t) {
                        return !t.guideline.hide;
                      });
                    })
                    .map(function (t) {
                      return { type: "snap", pos: t.pos };
                    })
                ),
                  p.push.apply(
                    p,
                    t
                      .filter(function (t) {
                        return t.guidelineInfos.some(function (t) {
                          return !t.guideline.hide;
                        });
                      })
                      .map(function (t) {
                        return { type: "snap", pos: t.pos };
                      })
                  ),
                  x.push.apply(x, to(e)),
                  y.push.apply(y, to(t));
              })),
            eo(t, [w, E], [D, _], f, p),
            O && eo(t, [a.left, a.right], [a.top, a.bottom], f, p, c.externalBounds),
            tt(tt([], x, !0), y, !0)),
          l = s.filter(function (t) {
            return t.element && !t.gapRects;
          }),
          u = s
            .filter(function (t) {
              return t.gapRects;
            })
            .sort(function (t, e) {
              return t.gap - e.gap;
            });
        return (
          rt(
            t,
            "onSnap",
            {
              guidelines: s.filter(function (t) {
                return !t.element;
              }),
              elements: l,
              gaps: u,
            },
            !0
          ),
          tt(
            tt(
              tt(
                tt(
                  tt(
                    tt([], Xi(t, l, [n, o], M, e), !0),
                    ((d = t),
                    (h = u),
                    (g = [n, o]),
                    (v = M),
                    (m = e),
                    (b = []),
                    ["horizontal", "vertical"].forEach(function (e) {
                      var t = h
                          .filter(function (t) {
                            return t.type === e;
                          })
                          .slice(0, 1),
                        o = "vertical" === e ? 0 : 1,
                        a = o ? 0 : 1,
                        s = o ? Qr : Jr,
                        u = o ? Jr : Qr,
                        c = v[s.start],
                        l = v[s.end],
                        f = v[u.start],
                        p = v[u.end];
                      t.forEach(function (t) {
                        var r = t.gap,
                          t = t.gapRects,
                          e = Math.max.apply(
                            Math,
                            tt(
                              [f],
                              t.map(function (t) {
                                return t.rect[u.start];
                              }),
                              !1
                            )
                          ),
                          n = Math.min.apply(
                            Math,
                            tt(
                              [p],
                              t.map(function (t) {
                                return t.rect[u.end];
                              }),
                              !1
                            )
                          ),
                          i = (e + n) / 2;
                        e !== n &&
                          i != (f + p) / 2 &&
                          t.forEach(function (t) {
                            var e = t.rect,
                              t = t.className,
                              n = [g[0], g[1]];
                            if (e[s.end] < c) n[o] += e[s.end] - c;
                            else {
                              if (!(l < e[s.start])) return;
                              n[o] += e[s.start] - c - r;
                            }
                            (n[a] += i - f),
                              b.push(
                                Yi(
                                  d,
                                  o ? "vertical" : "horizontal",
                                  "gap",
                                  b.length,
                                  r,
                                  n,
                                  t,
                                  m
                                )
                              );
                          });
                      });
                    }),
                    b),
                    !0
                  ),
                  Ni(t, "horizontal", y, [i, r], M, e),
                  !0
                ),
                Ni(t, "vertical", x, [i, r], M, e),
                !0
              ),
              Fi(t, "horizontal", p, n, r, S, 0, e),
              !0
            ),
            Fi(t, "vertical", f, o, i, C, 1, e),
            !0
          )
        );
      },
      dragStart: function (t, e) {
        (t.state.snapRenderInfo = { request: e.isRequest, snap: !0, center: !0 }),
          Li(t);
      },
      drag: function (t) {
        var e = t.state;
        Li(t) || (e.guidelines = qi(t)),
          e.snapRenderInfo && (e.snapRenderInfo.render = !0);
      },
      pinchStart: function (t) {
        this.unset(t);
      },
      dragEnd: function (t) {
        this.unset(t);
      },
      dragControlCondition: function (t, e) {
        return (
          !(!no(t, e) && !Bi(t, e)) ||
          (!e.isRequest && e.inputEvent
            ? T(e.inputEvent.target, B("snap-control"))
            : void 0)
        );
      },
      dragControlStart: function (t) {
        (t.state.snapRenderInfo = null), Li(t);
      },
      dragControl: function (t) {
        this.drag(t);
      },
      dragControlEnd: function (t) {
        this.unset(t);
      },
      dragGroupStart: function (t, e) {
        this.dragStart(t, e);
      },
      dragGroup: function (t) {
        this.drag(t);
      },
      dragGroupEnd: function (t) {
        this.unset(t);
      },
      dragGroupControlStart: function (t) {
        (t.state.snapRenderInfo = null), Li(t);
      },
      dragGroupControl: function (t) {
        this.drag(t);
      },
      dragGroupControlEnd: function (t) {
        this.unset(t);
      },
      unset: function (t) {
        t = t.state;
        (t.enableSnap = !1),
          (t.guidelines = []),
          (t.snapRenderInfo = null),
          (t.elementRects = []);
      },
    };
  function B() {
    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
    return function (e) {
      for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
      return t
        .map(function (t) {
          return t
            .split(" ")
            .map(function (t) {
              return t ? "" + e + t : "";
            })
            .join(" ");
        })
        .join(" ");
    }.apply(void 0, tt([Un], t, !1));
  }
  function oo(t) {
    t();
  }
  function ao(t, e, n) {
    return ke(
      e,
      He(n, e),
      t,
      He(
        n.map(function (t) {
          return -t;
        }),
        e
      )
    );
  }
  function so(t) {
    return t ? t.split(" ") : ["0", "0"];
  }
  function uo(t) {
    var e = X(t)("transform");
    if (e && "none" !== e) return e;
    if ("transform" in t) {
      var n = t.transform.baseVal;
      if (!n) return "";
      var r = n.length;
      if (!r) return "";
      for (var i = [], o = 0; o < r; ++o)
        !(function (t) {
          var e = n[t].matrix;
          i.push(
            "matrix(".concat(
              ["a", "b", "c", "d", "e", "f"]
                .map(function (t) {
                  return e[t];
                })
                .join(", "),
              ")"
            )
          );
        })(o);
      return i.join(" ");
    }
    return "";
  }
  function co(t, e, n, r, i) {
    for (
      var o,
        a,
        s,
        u,
        c = _t(t) || Mt(t),
        l = !1,
        f =
          ((u =
            !t || n
              ? t
              : ((a =
                  null == (a = null == t ? void 0 : t.assignedSlot)
                    ? void 0
                    : a.parentElement),
                (s = t.parentElement),
                a ? ((l = !0), (o = s), a) : s)),
          !1),
        p = t === e || u === e,
        d = "relative",
        h = 1,
        g = parseFloat(null == i ? void 0 : i("zoom")) || 1,
        v = null == i ? void 0 : i("position");
      u && u !== c;

    ) {
      e === u && (p = !0);
      var m = X(u),
        b = u.tagName.toLowerCase(),
        x = uo(u),
        y = m("willChange"),
        E = parseFloat(m("zoom")) || 1,
        d = m("position");
      if (r && 1 !== E) {
        h = E;
        break;
      }
      if (
        (!n && r && 1 !== g && v && "absolute" !== v) ||
        "svg" === b ||
        "static" !== d ||
        (x && "none" !== x) ||
        "transform" === y
      )
        break;
      (E = null == (m = null == t ? void 0 : t.assignedSlot) ? void 0 : m.parentNode),
        (b = u.parentNode),
        (x = (E && ((l = !0), (o = b)), b));
      if (x && 11 === x.nodeType) {
        (f = !0), (d = X((u = x.host))("position"));
        break;
      }
      (u = x), (d = "relative");
    }
    return {
      offsetZoom: h,
      hasSlot: l,
      parentSlotElement: o,
      isCustomElement: f,
      isStatic: "static" === d,
      isEnd: p || !u || u === c,
      offsetParent: u || c,
    };
  }
  function lo(t, e) {
    var n = X(t),
      t = X(Mt(t)),
      r = t("position");
    return e || (r && "static" !== r)
      ? ((e = parseInt(t("marginLeft"), 10)),
        (r = parseInt(t("marginTop"), 10)),
        "absolute" === n("position") &&
          (("auto" === n("top") && "auto" === n("bottom")) || (r = 0),
          ("auto" === n("left") && "auto" === n("right")) || (e = 0)),
        [e, r])
      : [0, 0];
  }
  function fo(t) {
    t.forEach(function (t) {
      var e = t.matrix;
      e && (t.matrix = Ge(e, 3, 4));
    });
  }
  function po(t, e) {
    return (
      void 0 === e && (e = 9 < t.length),
      "".concat(e ? "matrix3d" : "matrix", "(").concat(Ae(t, !e).join(","), ")")
    );
  }
  function ho(t) {
    var e = t.clientWidth,
      n = t.clientHeight;
    return t
      ? {
          x: (t = ((t = t.viewBox) && t.baseVal) || { x: 0, y: 0, width: 0, height: 0 })
            .x,
          y: t.y,
          width: t.width || e,
          height: t.height || n,
          clientWidth: e,
          clientHeight: n,
        }
      : { x: 0, y: 0, width: 0, height: 0, clientWidth: e, clientHeight: n };
  }
  function I(t, e, n) {
    return z(t, ze(e, n), n);
  }
  function go(e, t, n, r) {
    return [
      [0, 0],
      [t, 0],
      [0, n],
      [t, n],
    ].map(function (t) {
      return I(e, t, r);
    });
  }
  function vo(t) {
    var e = t.map(function (t) {
        return t[0];
      }),
      t = t.map(function (t) {
        return t[1];
      }),
      n = Math.min.apply(Math, e),
      r = Math.min.apply(Math, t),
      e = Math.max.apply(Math, e),
      t = Math.max.apply(Math, t);
    return { left: n, top: r, right: e, bottom: t, width: e - n, height: t - r };
  }
  function mo(t, e, n, r) {
    return vo(go(t, e, n, r));
  }
  function bo(t) {
    return Math.sqrt(t[0] * t[0] + t[1] * t[1]);
  }
  function xo(t, e) {
    return bo([e[0] - t[0], e[1] - t[1]]);
  }
  function yo(t, e, n, r) {
    void 0 === n && (n = 1), void 0 === r && (r = F(t, e));
    e = xo(t, e);
    return {
      transform: "translateY(-50%) translate("
        .concat(t[0], "px, ")
        .concat(t[1], "px) rotate(")
        .concat(r, "rad) scaleY(")
        .concat(n, ")"),
      width: "".concat(e, "px"),
    };
  }
  function Eo(t, e) {
    for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];
    var i = n.length,
      o =
        n.reduce(function (t, e) {
          return t + e[0];
        }, 0) / i,
      i =
        n.reduce(function (t, e) {
          return t + e[1];
        }, 0) / i;
    return {
      transform: "translateZ(0px) translate("
        .concat(o, "px, ")
        .concat(i, "px) rotate(")
        .concat(t, "rad) scale(")
        .concat(e, ")"),
    };
  }
  function So(t, e) {
    e = t[e];
    return j(e) ? Q(Q({}, t), e) : t;
  }
  function Co(t) {
    var e,
      n,
      r,
      i,
      o,
      a,
      s,
      u,
      c,
      l,
      f = t && !q(t.offsetWidth),
      p = 0,
      d = 0,
      h = 0,
      g = 0,
      v = 0,
      m = 0,
      b = 0,
      x = 0,
      y = 0,
      E = 0,
      S = 0,
      C = 0,
      D = 1 / 0,
      w = 1 / 0,
      _ = 1 / 0,
      M = 1 / 0,
      O = 0,
      R = 0,
      P = !1;
    return (
      t &&
        (g =
          f || "svg" === t.tagName.toLowerCase()
            ? ((f = X(t)),
              (e = t.style),
              (n = "border-box" === f("boxSizing")),
              (o = parseFloat(f("borderLeftWidth")) || 0),
              (i = parseFloat(f("borderRightWidth")) || 0),
              (a = parseFloat(f("borderTopWidth")) || 0),
              (s = parseFloat(f("borderBottomWidth")) || 0),
              (o =
                (r =
                  (parseFloat(f("paddingLeft")) || 0) +
                  (parseFloat(f("paddingRight")) || 0)) +
                (o + i)),
              (a =
                (i =
                  (parseFloat(f("paddingTop")) || 0) +
                  (parseFloat(f("paddingBottom")) || 0)) +
                (a + s)),
              (s = f("position")),
              (c = u = 0),
              "clientLeft" in t &&
                ((l = null),
                (l = "absolute" === s ? co(t, Mt(t)).offsetParent : t.parentElement)) &&
                ((s = X(l)),
                (u = parseFloat(s("width"))),
                (c = parseFloat(s("height")))),
              (y = Math.max(r, Z(f("minWidth"), u) || 0)),
              (E = Math.max(i, Z(f("minHeight"), c) || 0)),
              (D = Z(f("maxWidth"), u)),
              (w = Z(f("maxHeight"), c)),
              isNaN(D) && (D = 1 / 0),
              isNaN(w) && (w = 1 / 0),
              (O = Z(e.width, 0) || 0),
              (R = Z(e.height, 0) || 0),
              (v = parseFloat(f("width")) || 0),
              (m = parseFloat(f("height")) || 0),
              (h = p = b = it(v - O) < 1 ? gt(y, O || v, D) : v),
              (g = d = x = it(m - R) < 1 ? gt(E, R || m, w) : m),
              n
                ? ((_ = D), (M = w), (S = y), (C = E), (b = p - o), (x = d - a))
                : ((_ = D + o),
                  (M = w + a),
                  (S = y + o),
                  (C = E + a),
                  (p = b + o),
                  (d = x + a)),
              (h = b + r),
              x + i)
            : ((P = !0),
              (v = p = (l = t.getBBox()).width),
              (m = d = l.height),
              (h = b = p),
              (x = d))),
      {
        svg: P,
        offsetWidth: p,
        offsetHeight: d,
        clientWidth: h,
        clientHeight: g,
        contentWidth: b,
        contentHeight: x,
        inlineCSSWidth: O,
        inlineCSSHeight: R,
        cssWidth: v,
        cssHeight: m,
        minWidth: y,
        minHeight: E,
        maxWidth: D,
        maxHeight: w,
        minOffsetWidth: S,
        minOffsetHeight: C,
        maxOffsetWidth: _,
        maxOffsetHeight: M,
      }
    );
  }
  function Do(t, e) {
    return F(0 < e ? t[0] : t[1], 0 < e ? t[1] : t[0]);
  }
  function wo() {
    return {
      left: 0,
      top: 0,
      width: 0,
      height: 0,
      right: 0,
      bottom: 0,
      clientLeft: 0,
      clientTop: 0,
      clientWidth: 0,
      clientHeight: 0,
      scrollWidth: 0,
      scrollHeight: 0,
    };
  }
  function _o(t, e) {
    var n = t === Mt(t) || t === _t(t),
      r = {
        clientLeft: t.clientLeft,
        clientTop: t.clientTop,
        clientWidth: t.clientWidth,
        clientHeight: t.clientHeight,
        scrollWidth: t.scrollWidth,
        scrollHeight: t.scrollHeight,
        overflow: !1,
      };
    return (
      n &&
        ((r.clientHeight = Math.max(e.height, r.clientHeight)),
        (r.scrollHeight = Math.max(e.height, r.scrollHeight))),
      (r.overflow = "visible" !== X(t)("overflow")),
      Q(Q({}, e), r)
    );
  }
  function Mo(t, e, n, r) {
    var i = t.left,
      o = t.right,
      a = t.top,
      t = t.bottom,
      s = e.top,
      e = e.left,
      e = {
        left: e + i,
        top: s + a,
        right: e + o,
        bottom: s + t,
        width: o - i,
        height: t - a,
      };
    return n && r ? _o(n, e) : e;
  }
  function Oo(t, e) {
    var n = 0,
      r = 0,
      i = 0,
      o = 0,
      a =
        (t &&
          ((n = (a = t.getBoundingClientRect()).left),
          (r = a.top),
          (i = a.width),
          (o = a.height)),
        { left: n, top: r, width: i, height: o, right: n + i, bottom: r + o });
    return t && e ? _o(t, a) : a;
  }
  function Ro(t, e, n, r) {
    return t || (e ? [0, 0] : Po(n.target, r));
  }
  function Po(t, e) {
    if (t) {
      var n = t.getAttribute("data-rotation") || "",
        t = t.getAttribute("data-direction");
      if (((e.deg = n), t))
        return (
          (e = [0, 0]),
          -1 < t.indexOf("w") && (e[0] = -1),
          -1 < t.indexOf("e") && (e[0] = 1),
          -1 < t.indexOf("n") && (e[1] = -1),
          -1 < t.indexOf("s") && (e[1] = 1),
          e
        );
    }
  }
  function To(t, e) {
    return [J(e, t[0]), J(e, t[1]), J(e, t[2]), J(e, t[3])];
  }
  function zo(t) {
    var e = t.left,
      n = t.top;
    return To([t.pos1, t.pos2, t.pos3, t.pos4], [e, n]);
  }
  function Go(e, t) {
    e[t ? "controlAbles" : "targetAbles"].forEach(function (t) {
      t.unset && t.unset(e);
    });
  }
  function ko(t, e) {
    var n = e ? "controlGesto" : "targetGesto",
      r = t[n];
    !1 === (null == r ? void 0 : r.isIdle()) && Go(t, e),
      null != r && r.unset(),
      (t[n] = null);
  }
  function et(e, t) {
    return (
      t && ((t = Er(t)).nextStyle = Q(Q({}, t.nextStyle), e)),
      {
        style: e,
        cssText: ht(e)
          .map(function (t) {
            return "".concat(ct(t, "-"), ": ").concat(e[t], ";");
          })
          .join(""),
      }
    );
  }
  function Ao(t, e, n) {
    var r = e.afterTransform || e.transform;
    return Q(Q({}, et(Q(Q(Q({}, t.style), e.style), { transform: r }), n)), {
      afterTransform: r,
      transform: t.transform,
    });
  }
  function nt(t, e, n, r) {
    var i = e.datas,
      n =
        (i.datas || (i.datas = {}),
        Q(Q({}, n), {
          target: t.state.target,
          clientX: e.clientX,
          clientY: e.clientY,
          inputEvent: e.inputEvent,
          currentTarget: t,
          moveable: t,
          datas: i.datas,
          isFirstDrag: !!e.isFirstDrag,
          isTrusted: !1 !== e.isTrusted,
          stopAble: function () {
            i.isEventStart = !1;
          },
          stopDrag: function () {
            var t;
            null != (t = e.stop) && t.call(e);
          },
        }));
    return i.isStartEvent ? r || (i.lastEvent = n) : (i.isStartEvent = !0), n;
  }
  function d(t, e, n) {
    var r = e.datas,
      i = ("isDrag" in n ? n : e).isDrag;
    return (
      r.datas || (r.datas = {}),
      Q(Q({ isDrag: i }, n), {
        moveable: t,
        target: t.state.target,
        clientX: e.clientX,
        clientY: e.clientY,
        inputEvent: e.inputEvent,
        currentTarget: t,
        lastEvent: r.lastEvent,
        isDouble: e.isDouble,
        datas: r.datas,
        isFirstDrag: !!e.isFirstDrag,
      })
    );
  }
  function Bo(t, e, n) {
    t._emitter.on(e, n);
  }
  function rt(t, e, n, r) {
    return t.triggerEvent(e, n, r);
  }
  function Io(t, e) {
    return Ot(t).getComputedStyle(t, e);
  }
  function Fo(t, n, r) {
    var i = {},
      o = {};
    return t.filter(function (e) {
      var t = e.name;
      if (
        i[t] ||
        !n.some(function (t) {
          return e[t];
        })
      )
        return !1;
      if (!r && e.ableGroup) {
        if (o[e.ableGroup]) return !1;
        o[e.ableGroup] = !0;
      }
      return (i[t] = !0);
    });
  }
  function No(t, e) {
    return t === e || (null == t && null == e);
  }
  function Yo(i, o) {
    var a = [],
      s = [];
    return (
      i.forEach(function (t, e) {
        var e = o(t, e, i),
          n = s.indexOf(e),
          r = a[n] || [];
        -1 === n && (s.push(e), a.push(r)), r.push(t);
      }),
      a
    );
  }
  function Xo(t) {
    return t.reduce(function (t, e) {
      return t.concat(e);
    }, []);
  }
  function qo() {
    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
    return (
      t.sort(function (t, e) {
        return it(e) - it(t);
      }),
      t[0]
    );
  }
  function jo(t, e, n) {
    return z(Pe(t, n), ze(e, n), n);
  }
  function Wo(t, e) {
    var n = t.is3d,
      t = jo(t.rootMatrix, [e.distX, e.distY], n ? 4 : 3);
    return (e.distX = t[0]), (e.distY = t[1]), e;
  }
  function Ho(t, e, n, r) {
    var i, o;
    return n[0] || n[1]
      ? ((i = I(t, [Ui(n[0]), 0], r)),
        (o = I(t, [0, Ui(n[1])], r)),
        J(e, I(t, [n[0] / bo(i), n[1] / bo(o)], r)))
      : e;
  }
  function Lo(t, e, n) {
    return n ? "".concat((t / e) * 100, "%") : "".concat(t, "px");
  }
  function Vo(t) {
    return it(t) <= L ? 0 : t;
  }
  function Uo(i) {
    return function (t) {
      if (!t.isDragging(i)) return "";
      (e = i), (r = (t = t).targetGesto), (t = t.controlGesto);
      var e,
        n,
        r = (
          (n =
            !(n = null != r && r.isFlag() ? r.getEventData()[e] : n) &&
            null != t &&
            t.isFlag()
              ? t.getEventData()[e]
              : n) || {}
        ).deg;
      return r ? B("view-control-rotation".concat(r)) : "";
    };
  }
  function $o(r, i) {
    return (
      void 0 === i && (i = [r]),
      function (t, e) {
        var n;
        return e.isRequest
          ? !!i.some(function (t) {
              return e.requestAble === t;
            }) && e.parentDirection
          : T((n = e.inputEvent.target), B("direction")) && (!r || T(n, B(r)));
      }
    );
  }
  function Zo(t, e) {
    return t
      ? Rt(t)
        ? t
        : x(t)
        ? e
          ? document.querySelector(t)
          : t
        : k(t)
        ? t()
        : !((e = t) && "postMessage" in e && "blur" in e && "self" in e) &&
          "current" in t
        ? t.current
        : t
      : null;
  }
  function Ko(t, n) {
    var e;
    return t
      ? ((e = t) && j(e) && !Rt(e) && (O(e) || "length" in e)
          ? [].slice.call(t)
          : [t]
        ).reduce(function (t, e) {
          return x(e) && n
            ? tt(tt([], t, !0), [].slice.call(document.querySelectorAll(e)), !0)
            : (O(e) ? t.push(Ko(e, n)) : t.push(Zo(e, n)), t);
        }, [])
      : [];
  }
  function Jo(t, e) {
    var n = t.rootMatrix,
      t = t.is3d,
      n = Pe(n, t ? 4 : 3);
    return (
      ((n = t ? n : Ge(n, 3, 4))[12] = 0),
      (n[13] = 0),
      (n[14] = 0),
      (n = (t = z((t = n), [(n = e)[0], n[1] || 0, n[2] || 0, 1], 4))[3] || 1),
      [t[0] / n, t[1] / n, t[2] / n]
    );
  }
  function Qo(t, e, n, r, i) {
    var o,
      a,
      s,
      u = t[0],
      t = t[1],
      c = 0,
      l = 0;
    return (
      i && u && t
        ? ((i = F([0, 0], e)),
          (o = F([0, 0], r)),
          (a = bo(e)),
          (i = Math.cos(i - o) * a),
          r[0]
            ? r[1]
              ? ((o = r[0] * u),
                (a = r[1] * t),
                (u = Math.atan2(o + e[0], a + e[1])),
                (t = Math.atan2(o, a)),
                u < 0 && (u += 2 * Math.PI),
                t < 0 && (t += 2 * Math.PI),
                (s = 0),
                (s =
                  it(u - t) < Math.PI / 2 || it(u - t) > (Math.PI / 2) * 3
                    ? u - t
                    : u - (t += Math.PI)) >
                2 * Math.PI
                  ? (s -= 2 * Math.PI)
                  : s > Math.PI
                  ? (s = 2 * Math.PI - s)
                  : s < -Math.PI && (s = -2 * Math.PI - s),
                (c = (u = bo([o + e[0], a + e[1]]) * Math.cos(s)) * Math.sin(t) - o),
                (l = u * Math.cos(t) - a),
                r[0] < 0 && (c *= -1),
                r[1] < 0 && (l *= -1))
              : (l = (c = i) / n)
            : (c = (l = i) * n))
        : ((c = r[0] * e[0]), (l = r[1] * e[1])),
      [c, l]
    );
  }
  function ta(e, t, n, r) {
    var i,
      o = n.ratio,
      a = n.startOffsetWidth,
      s = n.startOffsetHeight,
      u = 0,
      c = 0,
      l = r.distX,
      f = r.distY,
      p = r.pinchScale,
      d = r.parentDistance,
      h = r.parentDist,
      r = r.parentScale,
      g = n.fixedDirection,
      v = [0, 1].map(function (t) {
        return it(e[t] - g[t]);
      }),
      m = [0, 1].map(function (t) {
        t = v[t];
        return (t = 0 !== t ? 2 / t : t);
      });
    return (
      h
        ? ((u = h[0]), (c = h[1]), t && (u ? (c = c || u / o) : (u = c * o)))
        : (c = P(p)
            ? ((u = (p - 1) * a), (p - 1) * s)
            : r
            ? ((u = (r[0] - 1) * a), (r[1] - 1) * s)
            : d
            ? ((u = (d / (r = bo([(h = a * v[0]), (p = s * v[1])]))) * h * m[0]),
              (d / r) * p * m[1])
            : ((i = hr({ datas: n, distX: l, distY: f })),
              (u = (h = Qo(
                [a, s],
                (i = m.map(function (t, e) {
                  return i[e] * t;
                })),
                o,
                e,
                t
              ))[0]),
              h[1])),
      { distWidth: u, distHeight: c }
    );
  }
  function ea(t, e, n) {
    var t = (function t(e, n) {
        var r, i;
        return n
          ? "left" === e
            ? { x: "0%", y: "50%" }
            : "top" === e || "center" === e
            ? { x: "50%", y: "50%" }
            : "right" === e
            ? { x: "100%", y: "50%" }
            : "bottom" === e
            ? { x: "50%", y: "100%" }
            : ((r = (n = e.split(" "))[0]),
              (n = n[1]),
              (r = t(r || "")),
              (n = t(n || "")),
              (i = { x: "50%", y: "50%" }),
              (r = Q(Q({}, r), n)).x && (i.x = r.x),
              r.y && (i.y = r.y),
              r.value &&
                (r.x && !r.y && (i.y = r.value), !r.x) &&
                r.y &&
                (i.x = r.value),
              i)
          : "left" === e
          ? { x: "0%" }
          : "right" === e
          ? { x: "100%" }
          : "top" === e
          ? { y: "0%" }
          : "bottom" === e
          ? { y: "100%" }
          : e
          ? "center" === e
            ? { value: "50%" }
            : { value: e }
          : {};
      })(t, !0),
      r = t.x,
      t = t.y;
    return [Z(r, e) || 0, Z(t, n) || 0];
  }
  function na(t, e, n, r) {
    var i = t[e];
    return e in t && (i === n || r(i) === r(n)) ? i : (t[e] = n);
  }
  function ra(t) {
    return 0 <= t ? 1 : -1;
  }
  function it(t) {
    return Math.abs(t);
  }
  function ia(t, e) {
    return (function (t) {
      for (var e = [], n = 0; n < t; ++n) e.push(n);
      return e;
    })(t).map(function (t) {
      return e(t);
    });
  }
  function oa(t) {
    return P(t)
      ? { top: t, left: t, right: t, bottom: t }
      : {
          left: t.left || 0,
          top: t.top || 0,
          right: t.right || 0,
          bottom: t.bottom || 0,
        };
  }
  (we = Bn("pinchable", {
    props: ["pinchable"],
    events: [
      "pinchStart",
      "pinch",
      "pinchEnd",
      "pinchGroupStart",
      "pinchGroup",
      "pinchGroupEnd",
    ],
    dragStart: function () {
      return !0;
    },
    pinchStart: function (n, r) {
      var i,
        t,
        e,
        o = r.datas,
        a = r.targets,
        s = r.angle,
        u = r.originalDatas,
        c = n.props,
        l = c.pinchable,
        c = c.ables;
      return (
        !!l &&
        ((e = "onPinch".concat(a ? "Group" : "", "Start")),
        (i = "drag".concat(a ? "Group" : "", "ControlStart")),
        (c = (
          !0 === l
            ? n.controlAbles
            : c.filter(function (t) {
                return -1 < l.indexOf(t.name);
              })
        ).filter(function (t) {
          return t.canPinch && t[i];
        })),
        (t = nt(n, r, {})),
        a && (t.targets = a),
        (a = rt(n, e, t)),
        (o.isPinch = !1 !== a),
        (o.ables = c),
        !!(e = o.isPinch)) &&
        (c.forEach(function (t) {
          var e;
          (u[t.name] = u[t.name] || {}),
            t[i] &&
              ((e = Q(Q({}, r), { datas: u[t.name], parentRotate: s, isPinch: !0 })),
              t[i](n, e));
        }),
        (n.state.snapRenderInfo = { request: r.isRequest, direction: [0, 0] }),
        e)
      );
    },
    pinch: function (e, n) {
      var r,
        t,
        i,
        o = n.datas,
        a = n.scale,
        s = n.distance,
        u = n.originalDatas,
        c = n.inputEvent,
        l = n.targets,
        f = n.angle;
      if (o.isPinch)
        return (
          (r = s * (1 - 1 / a)),
          (s = nt(e, n, {})),
          l && (s.targets = l),
          (t = "onPinch".concat(l ? "Group" : "")),
          rt(e, t, s),
          (t = o.ables),
          (i = "drag".concat(l ? "Group" : "", "Control")),
          t.forEach(function (t) {
            t[i] &&
              t[i](
                e,
                Q(Q({}, n), {
                  datas: u[t.name],
                  inputEvent: c,
                  resolveMatrix: !0,
                  pinchScale: a,
                  parentDistance: r,
                  parentRotate: f,
                  isPinch: !0,
                })
              );
          }),
          s
        );
    },
    pinchEnd: function (e, n) {
      var t,
        r,
        i,
        o = n.datas,
        a = n.isPinch,
        s = n.inputEvent,
        u = n.targets,
        c = n.originalDatas;
      if (o.isPinch)
        return (
          (r = "onPinch".concat(u ? "Group" : "", "End")),
          (t = d(e, n, { isDrag: a })),
          u && (t.targets = u),
          rt(e, r, t),
          (r = o.ables),
          (i = "drag".concat(u ? "Group" : "", "ControlEnd")),
          r.forEach(function (t) {
            t[i] &&
              t[i](
                e,
                Q(Q({}, n), { isDrag: a, datas: c[t.name], inputEvent: s, isPinch: !0 })
              );
          }),
          a
        );
    },
    pinchGroupStart: function (t, e) {
      return this.pinchStart(t, Q(Q({}, e), { targets: t.props.targets }));
    },
    pinchGroup: function (t, e) {
      return this.pinch(t, Q(Q({}, e), { targets: t.props.targets }));
    },
    pinchGroupEnd: function (t, e) {
      return this.pinchEnd(t, Q(Q({}, e), { targets: t.props.targets }));
    },
  })),
    (Me = $o("scalable")),
    (t = {
      name: "scalable",
      ableGroup: "size",
      canPinch: !0,
      props: [
        "scalable",
        "throttleScale",
        "renderDirections",
        "keepRatio",
        "edge",
        "displayAroundControls",
      ],
      events: [
        "scaleStart",
        "beforeScale",
        "scale",
        "scaleEnd",
        "scaleGroupStart",
        "beforeScaleGroup",
        "scaleGroup",
        "scaleGroupEnd",
      ],
      render: qr("scalable"),
      dragControlCondition: Me,
      viewClassName: Uo("scalable"),
      dragControlStart: function (t, e) {
        var n = e.datas,
          r = e.isPinch,
          i = e.inputEvent,
          i = Ro(e.parentDirection, r, i, n),
          o = t.state,
          a = o.width,
          s = o.height,
          u = o.targetTransform,
          c = o.target,
          l = o.pos1,
          f = o.pos2,
          o = o.pos4;
        if (!i || !c) return !1;
        r || ur(t, e),
          (n.datas = {}),
          (n.transform = u),
          (n.prevDist = [1, 1]),
          (n.direction = i),
          (n.startOffsetWidth = a),
          (n.startOffsetHeight = s),
          (n.startValue = [1, 1]);
        c = (!i[0] && !i[1]) || i[0] || !i[1];
        function p(t) {
          n.ratio = t && isFinite(t) ? t : 0;
        }
        function d(t) {
          t = Ri(n.startPositions, t);
          (n.fixedDirection = t.fixedDirection),
            (n.fixedPosition = t.fixedPosition),
            (n.fixedOffset = t.fixedOffset);
        }
        br(e, "scale"),
          (n.isWidth = c),
          (n.startPositions = zo(t.state)),
          (n.setFixedDirection = d),
          p(yt(l, f) / yt(f, o)),
          d([-i[0], -i[1]]);
        function h(t) {
          n.minScaleSize = t;
        }
        function g(t) {
          n.maxScaleSize = t;
        }
        h([-1 / 0, -1 / 0]), g([1 / 0, 1 / 0]);
        (r = nt(
          t,
          e,
          Q(
            Q(
              {
                direction: i,
                set: function (t) {
                  n.startValue = t;
                },
                setRatio: p,
                setFixedDirection: d,
                setMinScaleSize: h,
                setMaxScaleSize: g,
              },
              mr(e)
            ),
            { dragStart: U.dragStart(t, new or().dragStart([0, 0], e)) }
          )
        )),
          (u = rt(t, "onScaleStart", r));
        return (
          (n.startFixedDirection = n.fixedDirection),
          !1 !== u &&
            ((n.isScale = !0),
            (t.state.snapRenderInfo = { request: e.isRequest, direction: i })),
          !!n.isScale && r
        );
      },
      dragControl: function (t, i) {
        cr(i, "scale");
        var e,
          o,
          a,
          s,
          n,
          r,
          u,
          c,
          l,
          f = i.datas,
          p = i.parentKeepRatio,
          d = i.parentFlag,
          h = i.isPinch,
          g = i.dragClient,
          v = i.isRequest,
          m = i.useSnap,
          b = i.resolveMatrix,
          x = f.prevDist,
          y = f.direction,
          E = f.startOffsetWidth,
          S = f.startOffsetHeight,
          C = f.isScale,
          D = f.startValue,
          w = f.isWidth,
          _ = f.ratio;
        return (
          !(
            !C ||
            ((l = (C = t.props).throttleScale),
            (e = C.parentMoveable),
            (o = y)[0] || y[1] || (o = [1, 1]),
            (a = (_ && (null != p ? p : C.keepRatio)) || !1),
            (p = t.state),
            (s = [D[0], D[1]]),
            (u = M()),
            !h &&
              t.props.groupable &&
              O((C = (p.snapRenderInfo || {}).direction)) &&
              (C[0] || C[1]) &&
              (p.snapRenderInfo = { direction: y, request: i.isRequest }),
            rt(
              t,
              "onBeforeScale",
              nt(
                t,
                i,
                {
                  scale: u,
                  setFixedDirection: function (t) {
                    return f.setFixedDirection(t), (u = M());
                  },
                  startFixedDirection: f.startFixedDirection,
                  setScale: function (t) {
                    u = t;
                  },
                },
                !0
              )
            ),
            (c = [u[0] / s[0], u[1] / s[1]]),
            (C = [0, 0]),
            (d = !(p = g) && !d && h) || b
              ? (p = _r(t, f.targetAllTransform, [0, 0], [0, 0], f))
              : g || (p = f.fixedPosition),
            h || (C = Qi(t, c, y, !m && v, f)),
            a
              ? (o[0] &&
                  o[1] &&
                  C[0] &&
                  C[1] &&
                  (Math.abs(C[0] * E) > Math.abs(C[1] * S) ? (C[1] = 0) : (C[0] = 0)),
                (b = !C[0] && !C[1]) &&
                  (w
                    ? (c[0] = H(c[0] * s[0], l) / s[0])
                    : (c[1] = H(c[1] * s[1], l) / s[1])),
                (o[0] && !o[1]) || (C[0] && !C[1]) || (b && w)
                  ? ((c[0] += C[0]), (g = (E * c[0] * s[0]) / _), (c[1] = g / S / s[1]))
                  : ((!o[0] && o[1]) || (!C[0] && C[1]) || (b && !w)) &&
                    ((c[1] += C[1]), (m = S * c[1] * s[1] * _), (c[0] = m / E / s[0])))
              : ((c[0] += C[0]),
                (c[1] += C[1]),
                C[0] || (c[0] = H(c[0] * s[0], l) / s[0]),
                C[1] || (c[1] = H(c[1] * s[1], l) / s[1])),
            0 === c[0] && (c[0] = 1e-9 * ra(x[0])),
            0 === c[1] && (c[1] = 1e-9 * ra(x[1])),
            (v = c),
            (g = [s[0], s[1]]),
            (u = [v[0] * g[0], v[1] * g[1]]),
            (n = [E, S]),
            (r = mt(
              (r = [E * u[0], S * u[1]]),
              f.minScaleSize,
              f.maxScaleSize,
              !!a && _
            )),
            (u = ia(2, function (t) {
              return n[t] ? r[t] / n[t] : r[t];
            })),
            (c = ia(2, function (t) {
              return u[t] / s[t];
            })),
            (b = ia(2, function (t) {
              return x[t] ? c[t] / x[t] : c[t];
            })),
            (w = "scale(".concat(c.join(", "), ")")),
            (m = "scale(".concat(u.join(", "), ")")),
            (C = lr(f, m, w)),
            (v = Mr(
              t,
              (l = !D[0] || !D[1]) ? m : w,
              f.fixedDirection,
              p,
              f.fixedOffset,
              f,
              l
            )),
            (g = d ? v : G(v, f.prevInverseDist || [0, 0])),
            (f.prevDist = c),
            (f.prevInverseDist = v),
            u[0] === x[0] &&
              u[1] === x[1] &&
              g.every(function (t) {
                return !t;
              }) &&
              !e &&
              !d)
          ) &&
          (rt(
            t,
            "onScale",
            (_ = nt(
              t,
              i,
              Q(
                {
                  offsetWidth: E,
                  offsetHeight: S,
                  direction: y,
                  scale: u,
                  dist: c,
                  delta: b,
                  isPinch: !!h,
                },
                wr(t, C, g, h, i)
              )
            ))
          ),
          _)
        );
        function M() {
          var t = ta(o, a, f, i),
            e = t.distWidth,
            t = t.distHeight,
            n = E ? (E + e) / E : 1,
            r = S ? (S + t) / S : 1,
            e =
              (D[0] || (s[0] = e / E),
              D[1] || (s[1] = t / S),
              (o[0] || a ? n : 1) * s[0]),
            t = (o[1] || a ? r : 1) * s[1];
          return [
            (e = 0 === e ? 1e-9 * ra(x[0]) : e),
            (t = 0 === t ? 1e-9 * ra(x[1]) : t),
          ];
        }
      },
      dragControlEnd: function (t, e) {
        var n = e.datas;
        if (!n.isScale) return !1;
        n.isScale = !1;
        n = d(t, e, {});
        return rt(t, "onScaleEnd", n), n;
      },
      dragGroupControlCondition: Me,
      dragGroupControlStart: function (r, t) {
        var i,
          e,
          n,
          o = t.datas,
          a = this.dragControlStart(r, t);
        return (
          !!a &&
          ((i = kr(r, "resizable", t)),
          (o.moveableScale = r.scale),
          (e = Br(r, this, "dragControlStart", t, function (t, e) {
            return Ir(r, t, o, e);
          })),
          (o.setFixedDirection = t =
            function (n) {
              a.setFixedDirection(n),
                e.forEach(function (t, e) {
                  t.setFixedDirection(n), Ir(r, t.moveable, o, i[e]);
                });
            }),
          (t = Q(Q({}, a), {
            targets: r.props.targets,
            events: e,
            setFixedDirection: t,
          })),
          (n = rt(r, "onScaleGroupStart", t)),
          (o.isScale = !1 !== n),
          !!o.isScale) &&
          t
        );
      },
      dragGroupControl: function (i, e) {
        var t = e.datas;
        if (t.isScale) {
          Bo(i, "onBeforeScale", function (t) {
            rt(
              i,
              "onBeforeScaleGroup",
              nt(i, e, Q(Q({}, t), { targets: i.props.targets }), !0)
            );
          });
          var o,
            a,
            s,
            n,
            r = this.dragControl(i, e);
          if (r)
            return (
              (o = r.dist),
              (n = t.moveableScale),
              (i.scale = [o[0] * n[0], o[1] * n[1]]),
              (a = i.props.keepRatio),
              (s = t.fixedPosition),
              (n = Br(i, this, "dragControl", e, function (t, e) {
                var n = z(
                    je((i.rotation / 180) * Math.PI, 3),
                    [e.datas.originalX * o[0], e.datas.originalY * o[1], 1],
                    3
                  ),
                  r = n[0],
                  n = n[1];
                return Q(Q({}, e), {
                  parentDist: null,
                  parentScale: o,
                  parentKeepRatio: a,
                  dragClient: J(s, [r, n]),
                });
              })),
              (t = Q({ targets: i.props.targets, events: n }, r)),
              rt(i, "onScaleGroup", t),
              t
            );
        }
      },
      dragGroupControlEnd: function (t, e) {
        var n,
          r = e.isDrag;
        if (e.datas.isScale)
          return (
            this.dragControlEnd(t, e),
            (n = Br(t, this, "dragControlEnd", e)),
            rt(t, "onScaleGroupEnd", d(t, e, { targets: t.props.targets, events: n })),
            r
          );
      },
      request: function () {
        var e = {},
          n = 0,
          r = 0,
          i = !1;
        return {
          isControl: !0,
          requestStart: function (t) {
            return (
              (i = t.useSnap),
              { datas: e, parentDirection: t.direction || [1, 1], useSnap: i }
            );
          },
          request: function (t) {
            return (
              (n += t.deltaWidth),
              (r += t.deltaHeight),
              { datas: e, parentDist: [n, r], parentKeepRatio: t.keepRatio, useSnap: i }
            );
          },
          requestEnd: function () {
            return { datas: e, isDrag: !0, useSnap: i };
          },
        };
      },
    });
  function aa(t, n) {
    return t.map(function (t, e) {
      return R(t, n[e], 1, 2);
    });
  }
  function sa(t, e, n) {
    (e = F(t, e)), (t = F(t, n) - e);
    return 0 <= t ? t : t + 2 * Math.PI;
  }
  var De = {
      name: "warpable",
      ableGroup: "size",
      props: ["warpable", "renderDirections", "edge", "displayAroundControls"],
      events: ["warpStart", "warp", "warpEnd"],
      viewClassName: Uo("warpable"),
      render: function (t, e) {
        var n,
          r,
          i,
          o,
          a,
          s,
          u = t.props,
          c = u.resizable,
          l = u.scalable,
          f = u.warpable,
          u = u.zoom;
        return c || l || !f
          ? []
          : ((l = (c = t.state).pos1),
            (f = c.pos2),
            (a = c.pos3),
            (c = c.pos4),
            (n = aa(l, f)),
            (r = aa(f, l)),
            (i = aa(l, a)),
            (l = aa(a, l)),
            (o = aa(a, c)),
            (a = aa(c, a)),
            (s = aa(f, c)),
            (c = aa(c, f)),
            tt(
              [
                e.createElement("div", {
                  className: B("line"),
                  key: "middeLine1",
                  style: yo(n, o, u),
                }),
                e.createElement("div", {
                  className: B("line"),
                  key: "middeLine2",
                  style: yo(r, a, u),
                }),
                e.createElement("div", {
                  className: B("line"),
                  key: "middeLine3",
                  style: yo(i, s, u),
                }),
                e.createElement("div", {
                  className: B("line"),
                  key: "middeLine4",
                  style: yo(l, c, u),
                }),
              ],
              jr(t, "warpable", e),
              !0
            ));
      },
      dragControlCondition: function (t, e) {
        return (
          !e.isRequest &&
          T((e = e.inputEvent.target), B("direction")) &&
          T(e, B("warpable"))
        );
      },
      dragControlStart: function (t, e) {
        var n,
          r,
          i,
          o,
          a,
          s,
          u,
          c,
          l = e.datas,
          f = e.inputEvent,
          p = t.props.target,
          f = Po(f.target, l);
        return (
          !(!f || !p) &&
          ((p = t.state),
          (n = p.transformOrigin),
          (r = p.is3d),
          (i = p.targetTransform),
          (o = p.targetMatrix),
          (a = p.width),
          (s = p.height),
          (u = p.left),
          (c = p.top),
          (l.datas = {}),
          (l.targetTransform = i),
          (l.warpTargetMatrix = r ? o : Ge(o, 3, 4)),
          (l.targetInverseMatrix = Re(Pe(l.warpTargetMatrix, 4), 3, 4)),
          (l.direction = f),
          (l.left = u),
          (l.top = c),
          (l.poses = [
            [0, 0],
            [a, 0],
            [0, s],
            [a, s],
          ].map(function (t) {
            return G(t, n);
          })),
          (l.nextPoses = l.poses.map(function (t) {
            var e = t[0],
              t = t[1];
            return z(l.warpTargetMatrix, [e, t, 0, 1], 4);
          })),
          (l.startValue = Y(4)),
          (l.prevMatrix = Y(4)),
          (l.absolutePoses = zo(p)),
          (l.posIndexes = gr(f)),
          ur(t, e),
          br(e, "matrix3d"),
          !(p.snapRenderInfo = { request: e.isRequest, direction: f }) !==
            rt(
              t,
              "onWarpStart",
              nt(
                t,
                e,
                Q(
                  {
                    set: function (t) {
                      l.startValue = t;
                    },
                  },
                  mr(e)
                )
              )
            ) && (l.isWarp = !0),
          l.isWarp)
        );
      },
      dragControl: function (t, e) {
        var n = e.datas,
          r = e.isRequest,
          i = e.distX,
          o = e.distY,
          a = n.targetInverseMatrix,
          s = n.prevMatrix,
          u = n.isWarp,
          c = n.startValue,
          l = n.poses,
          f = n.posIndexes,
          p = n.absolutePoses;
        if (!u) return !1;
        cr(e, "matrix3d"),
          ti(t, "warpable") &&
            (1 <
              (u = f.map(function (t) {
                return p[t];
              })).length && u.push([(u[0][0] + u[1][0]) / 2, (u[0][1] + u[1][1]) / 2]),
            (u = (r = wi(t, r, {
              horizontal: u.map(function (t) {
                return t[1] + o;
              }),
              vertical: u.map(function (t) {
                return t[0] + i;
              }),
            })).horizontal),
            (r = r.vertical),
            (o -= u.offset),
            (i -= r.offset));
        var d = hr({ datas: n, distX: i, distY: o }, !0),
          h = n.nextPoses.slice();
        return (
          f.forEach(function (t) {
            h[t] = J(h[t], d);
          }),
          !!Zn.every(function (t) {
            return (
              (e = t.map(function (t) {
                return l[t];
              })),
              (t = t.map(function (t) {
                return h[t];
              })),
              (e = sa(e[0], e[1], e[2])),
              (t = sa(t[0], t[1], t[2])),
              !(((n = Math.PI) <= e && t <= n) || (e <= n && n <= t))
            );
            var e, n;
          }) &&
            !!(u = Le(l[0], l[2], l[1], l[3], h[0], h[2], h[1], h[3])).length &&
            ((r = pr(n, K(a, u, 4), !0)),
            (f = K(Pe(s, 4), r, 4)),
            (a = K(c, (n.prevMatrix = r), 4)),
            yr(
              e,
              (u = lr(
                n,
                "matrix3d(".concat(a.join(", "), ")"),
                "matrix3d(".concat(r.join(", "), ")")
              ))
            ),
            rt(
              t,
              "onWarp",
              nt(
                t,
                e,
                Q(
                  { delta: f, matrix: a, dist: r, multiply: K, transform: u },
                  et({ transform: u }, e)
                )
              )
            ),
            !0)
        );
      },
      dragControlEnd: function (t, e) {
        var n = e.datas,
          r = e.isDrag;
        return !!n.isWarp && ((n.isWarp = !1), rt(t, "onWarpEnd", d(t, e, {})), r);
      },
    },
    ua = B("area-pieces"),
    ca = B("area-piece"),
    la = B("avoid"),
    fa = B("view-dragging");
  function pa(t) {
    var e,
      n = t.areaElement;
    n &&
      ((e = (t = t.state).width),
      (t = t.height),
      Dt(n, la),
      (n.style.cssText += "left: 0px; top: 0px; width: "
        .concat(e, "px; height: ")
        .concat(t, "px")));
  }
  function da(t) {
    return t.createElement(
      "div",
      { key: "area_pieces", className: ua },
      t.createElement("div", { className: ca }),
      t.createElement("div", { className: ca }),
      t.createElement("div", { className: ca }),
      t.createElement("div", { className: ca })
    );
  }
  var ha = {
      name: "dragArea",
      props: ["dragArea", "passDragArea"],
      events: ["click", "clickGroup"],
      render: function (t, e) {
        var n = t.props,
          r = n.target,
          i = n.dragArea,
          o = n.groupable,
          n = n.passDragArea,
          a = t.getState(),
          s = a.width,
          u = a.height,
          a = a.renderPoses,
          n = n ? B("area", "pass") : B("area");
        return o
          ? [
              e.createElement("div", {
                key: "area",
                ref: S(t, "areaElement"),
                className: n,
              }),
              da(e),
            ]
          : r && i
          ? ((r = (o = Le([0, 0], [s, 0], [0, u], [s, u], a[0], a[1], a[2], a[3]))
              .length
              ? po(o, !0)
              : "none"),
            [
              e.createElement("div", {
                key: "area",
                ref: S(t, "areaElement"),
                className: n,
                style: {
                  top: "0px",
                  left: "0px",
                  width: "".concat(s, "px"),
                  height: "".concat(u, "px"),
                  transformOrigin: "0 0",
                  transform: r,
                },
              }),
              da(e),
            ])
          : [];
      },
      dragStart: function (t, e) {
        var n = e.datas,
          r = e.clientX,
          i = e.clientY;
        if (!e.inputEvent) return !1;
        n.isDragArea = !1;
        var e = t.areaElement,
          n = t.state,
          t = n.moveableClientRect,
          o = n.renderPoses,
          a = n.rootMatrix,
          s = n.is3d,
          u = t.left,
          t = t.top,
          o = vo(o),
          c = o.left,
          l = o.top,
          f = o.width,
          o = o.height,
          a = jo(a, [r - u, i - t], s ? 4 : 3),
          r = a[0],
          u = a[1],
          i = [
            { left: c, top: l, width: f, height: (u -= l) - 10 },
            { left: c, top: l, width: (r -= c) - 10, height: o },
            { left: c, top: l + u + 10, width: f, height: o - u - 10 },
            { left: c + r + 10, top: l, width: f - r - 10, height: o },
          ],
          p = [].slice.call(e.nextElementSibling.children);
        i.forEach(function (t, e) {
          p[e].style.cssText = "left: "
            .concat(t.left, "px;top: ")
            .concat(t.top, "px; width: ")
            .concat(t.width, "px; height: ")
            .concat(t.height, "px;");
        }),
          Ct(e, la),
          (n.disableNativeEvent = !0);
      },
      drag: function (t, e) {
        var n = e.datas,
          e = e.inputEvent;
        if ((this.enableNativeEvent(t), !e)) return !1;
        n.isDragArea || ((n.isDragArea = !0), pa(t));
      },
      dragEnd: function (t, e) {
        this.enableNativeEvent(t);
        var n = e.inputEvent,
          e = e.datas;
        if (!n) return !1;
        e.isDragArea || pa(t);
      },
      dragGroupStart: function (t, e) {
        return this.dragStart(t, e);
      },
      dragGroup: function (t, e) {
        return this.drag(t, e);
      },
      dragGroupEnd: function (t, e) {
        return this.dragEnd(t, e);
      },
      unset: function (t) {
        pa(t), (t.state.disableNativeEvent = !1);
      },
      enableNativeEvent: function (t) {
        var e = t.state;
        e.disableNativeEvent &&
          pt(function () {
            e.disableNativeEvent = !1;
          });
      },
    },
    Bt = Bn("origin", {
      props: ["origin", "svgOrigin"],
      render: function (t, e) {
        var n = t.props,
          r = n.zoom,
          i = n.svgOrigin,
          n = n.groupable,
          t = t.getState(),
          o = t.beforeOrigin,
          a = t.rotation,
          s = t.svg,
          u = t.allMatrix,
          c = t.is3d,
          l = t.left,
          f = t.top,
          p = t.offsetWidth,
          t = t.offsetHeight;
        return (
          (r = Eo(
            a,
            r,
            !n && s && i ? G(I(u, [(a = ea(i, p, t))[0], a[1]], c ? 4 : 3), [l, f]) : o
          )),
          [
            e.createElement("div", {
              className: B("control", "origin"),
              style: r,
              key: "beforeOrigin",
            }),
          ]
        );
      },
    });
  function ga(t) {
    t = t.scrollContainer;
    return [t.scrollLeft, t.scrollTop];
  }
  var Me = {
      name: "scrollable",
      canPinch: !0,
      props: [
        "scrollable",
        "scrollContainer",
        "scrollThreshold",
        "scrollThrottleTime",
        "getScrollPosition",
        "scrollOptions",
      ],
      events: ["scroll", "scrollGroup"],
      dragRelation: "strong",
      dragStart: function (r, n) {
        var t = r.props,
          e = t.scrollContainer,
          e = void 0 === e ? r.getContainer() : e,
          t = t.scrollOptions,
          i = new cn(),
          e = Zo(e, !0),
          o =
            ((n.datas.dragScroll = i),
            (r.state.dragScroll = i),
            n.isControl ? "controlGesto" : "targetGesto"),
          a = n.targets;
        i
          .on("scroll", function (t) {
            var e = t.container,
              t = t.direction,
              e = nt(r, n, { scrollContainer: e, direction: t }),
              t = a ? "onScrollGroup" : "onScroll";
            a && (e.targets = a), rt(r, t, e);
          })
          .on("move", function (t) {
            var e = t.offsetX,
              n = t.offsetY,
              t = t.inputEvent;
            r[o].scrollBy(e, n, t.inputEvent, !0);
          })
          .on("scrollDrag", function (t) {
            (0, t.next)(r[o].getCurrentEvent());
          }),
          i.dragStart(n, Q({ container: e }, t));
      },
      checkScroll: function (t, e) {
        var n,
          r,
          i,
          o,
          a,
          s = e.datas.dragScroll;
        if (s)
          return (
            (t = void 0 === (r = (n = t.props).scrollContainer) ? t.getContainer() : r),
            (r = n.scrollThreshold),
            (i = n.scrollThrottleTime),
            (a = n.getScrollPosition),
            (o = void 0 === a ? ga : a),
            (a = n.scrollOptions),
            s.drag(
              e,
              Q(
                {
                  container: t,
                  threshold: void 0 === r ? 0 : r,
                  throttleTime: void 0 === i ? 0 : i,
                  getScrollPosition: function (t) {
                    return o({ scrollContainer: t.container, direction: t.direction });
                  },
                },
                a
              )
            ),
            !0
          );
      },
      drag: function (t, e) {
        return this.checkScroll(t, e);
      },
      dragEnd: function (t, e) {
        e.datas.dragScroll.dragEnd(), (e.datas.dragScroll = null);
      },
      dragControlStart: function (t, e) {
        return this.dragStart(t, Q(Q({}, e), { isControl: !0 }));
      },
      dragControl: function (t, e) {
        return this.drag(t, e);
      },
      dragControlEnd: function (t, e) {
        return this.dragEnd(t, e);
      },
      dragGroupStart: function (t, e) {
        return this.dragStart(t, Q(Q({}, e), { targets: t.props.targets }));
      },
      dragGroup: function (t, e) {
        return this.drag(t, Q(Q({}, e), { targets: t.props.targets }));
      },
      dragGroupEnd: function (t, e) {
        return this.dragEnd(t, Q(Q({}, e), { targets: t.props.targets }));
      },
      dragGroupControlStart: function (t, e) {
        return this.dragStart(
          t,
          Q(Q({}, e), { targets: t.props.targets, isControl: !0 })
        );
      },
      dragGroupControl: function (t, e) {
        return this.drag(t, Q(Q({}, e), { targets: t.props.targets }));
      },
      dragGroupControEnd: function (t, e) {
        return this.dragEnd(t, Q(Q({}, e), { targets: t.props.targets }));
      },
      unset: function (t) {
        var e,
          t = t.state;
        null != (e = t.dragScroll) && e.dragEnd(), (t.dragScroll = null);
      },
    },
    va = {
      name: "",
      props: [
        "target",
        "dragTarget",
        "dragContainer",
        "container",
        "warpSelf",
        "rootContainer",
        "useResizeObserver",
        "useMutationObserver",
        "zoom",
        "dragFocusedInput",
        "transformOrigin",
        "ables",
        "className",
        "pinchThreshold",
        "pinchOutside",
        "triggerAblesSimultaneously",
        "checkInput",
        "cspNonce",
        "translateZ",
        "hideDefaultLines",
        "props",
        "flushSync",
        "stopPropagation",
        "preventClickEventOnDrag",
        "preventClickDefault",
        "viewContainer",
        "persistData",
        "useAccuratePosition",
        "firstRenderState",
        "linePadding",
        "controlPadding",
        "preventDefault",
        "requestStyles",
      ],
      events: ["changeTargets"],
    },
    ma = Bn("padding", {
      props: ["padding"],
      render: function (t, r) {
        var e,
          n,
          i,
          o,
          a,
          s = t.props;
        return s.dragArea
          ? []
          : ((e = (s = oa(s.padding || {})).left),
            (n = s.top),
            (i = s.right),
            (s = s.bottom),
            (t = t.getState()),
            (o = t.renderPoses),
            (a = [t.pos1, t.pos2, t.pos3, t.pos4]),
            (t = []),
            0 < e && t.push([0, 2]),
            0 < n && t.push([0, 1]),
            0 < i && t.push([1, 3]),
            0 < s && t.push([2, 3]),
            t.map(function (t, e) {
              var n = t[0],
                t = t[1],
                n = Le([0, 0], [100, 0], [0, 100], [100, 100], a[n], a[t], o[n], o[t]);
              if (n.length)
                return r.createElement("div", {
                  key: "padding".concat(e),
                  className: B("padding"),
                  style: { transform: po(n, !0) },
                });
            }));
      },
    }),
    ba = ["nw", "ne", "se", "sw"];
  function xa(t, e) {
    var n = t[0] + t[1],
      n = e < n ? e / n : 1;
    return (t[0] *= n), (t[1] = e - t[1] * n), t;
  }
  var ya = [1, 2, 5, 6],
    Ea = [0, 3, 4, 7],
    Sa = [1, -1, -1, 1],
    Ca = [1, 1, -1, -1];
  function Da(t, i, o, a, s, u, c, l) {
    void 0 === s && (s = 0),
      void 0 === u && (u = 0),
      void 0 === c && (c = o),
      void 0 === l && (l = a);
    var f = [],
      p = !1,
      t = t.filter(function (t) {
        return !t.virtual;
      }),
      e = t.map(function (t) {
        var e,
          n = t.horizontal,
          r = t.vertical,
          t = t.pos;
        return (
          r && !p && ((p = !0), f.push("/")),
          p
            ? ((e = Math.max(0, 1 === r ? t[1] - u : l - t[1])), f.push(Lo(e, a, i)))
            : ((e = Math.max(0, 1 === n ? t[0] - s : c - t[0])), f.push(Lo(e, o, i))),
          e
        );
      });
    return { radiusPoses: t, styles: f, raws: e };
  }
  function wa(t) {
    for (var e = [0, 0], n = [0, 0], r = t.length, i = 0; i < r; ++i) {
      var o = t[i];
      o.sub &&
        (o.horizontal &&
          (0 === e[1] && (e[0] = i), (e[1] = i - e[0] + 1), (n[0] = i + 1)),
        o.vertical) &&
        (0 === n[1] && (n[0] = i), (n[1] = i - n[0] + 1));
    }
    return { horizontalRange: e, verticalRange: n };
  }
  function _a(t, r, i, o, a, e, n) {
    void 0 === e && (e = [0, 0]), void 0 === n && (n = !1);
    var s = t.indexOf("/"),
      s = (-1 < s ? t.slice(0, s) : t).length,
      u = t.slice(0, s),
      t = t.slice(s + 1),
      c = u.length,
      l = t.length,
      s = 0 < l,
      f = u[0],
      f = void 0 === f ? "0px" : f,
      p = u[1],
      p = void 0 === p ? f : p,
      d = u[2],
      d = void 0 === d ? f : d,
      u = u[3],
      u = void 0 === u ? p : u,
      h = t[0],
      h = void 0 === h ? f : h,
      g = t[1],
      g = void 0 === g ? (s ? h : p) : g,
      v = t[2],
      v = void 0 === v ? (s ? h : d) : v,
      t = t[3],
      s = void 0 === t ? (s ? g : u) : t,
      m = [f, p, d, u].map(function (t) {
        return Z(t, r);
      }),
      b = [h, g, v, s].map(function (t) {
        return Z(t, i);
      }),
      t = m.slice(),
      f = b.slice(),
      p = xa([t[0], t[1]], r),
      g =
        ((t[0] = p[0]),
        (t[1] = p[1]),
        (d = xa([t[3], t[2]], r)),
        (t[3] = d[0]),
        (t[2] = d[1]),
        (u = xa([f[0], f[3]], i)),
        (f[0] = u[0]),
        (f[3] = u[1]),
        (h = xa([f[1], f[2]], i)),
        (f[1] = h[0]),
        (f[2] = h[1]),
        n ? t : t.slice(0, Math.max(e[0], c))),
      v = n ? f : f.slice(0, Math.max(e[1], l));
    return tt(
      tt(
        [],
        g.map(function (t, e) {
          var n = ba[e];
          return {
            virtual: c <= e,
            horizontal: Sa[e],
            vertical: 0,
            pos: [o + t, a + (-1 === Ca[e] ? i : 0)],
            sub: !0,
            raw: m[e],
            direction: n,
          };
        }),
        !0
      ),
      v.map(function (t, e) {
        var n = ba[e];
        return {
          virtual: l <= e,
          horizontal: 0,
          vertical: Ca[e],
          pos: [o + (-1 === Sa[e] ? r : 0), a + t],
          sub: !0,
          raw: b[e],
          direction: n,
        };
      }),
      !0
    );
  }
  var Ma = [
      [0, -1, "n"],
      [1, 0, "e"],
    ],
    Oa = [
      [-1, -1, "nw"],
      [0, -1, "n"],
      [1, -1, "ne"],
      [1, 0, "e"],
      [1, 1, "se"],
      [0, 1, "s"],
      [-1, 1, "sw"],
      [-1, 0, "w"],
    ];
  function Ra(t, e, n) {
    var r,
      i,
      o,
      a,
      s,
      u,
      c = t.props.clipRelative,
      t = t.state,
      l = t.width,
      f = t.height,
      t = e.type,
      e = e.poses,
      p = "rect" === t,
      d = "circle" === t;
    return "polygon" === t
      ? n.map(function (t) {
          return "".concat(Lo(t[0], l, c), " ").concat(Lo(t[1], f, c));
        })
      : p || "inset" === t
      ? ((r = n[1][1]),
        (i = n[3][0]),
        (o = n[7][0]),
        (a = n[5][1]),
        p
          ? [r, i, a, o].map(function (t) {
              return "".concat(t, "px");
            })
          : ((u = [r, l - i, f - a, o].map(function (t, e) {
              return Lo(t, e % 2 ? l : f, c);
            })),
            8 < n.length &&
              ((s = (p = G(n[4], n[0]))[0]),
              (p = p[1]),
              u.push.apply(
                u,
                tt(
                  ["round"],
                  Da(
                    e.slice(8).map(function (t, e) {
                      return Q(Q({}, t), { pos: n[e] });
                    }),
                    c,
                    s,
                    p,
                    o,
                    r,
                    i,
                    a
                  ).styles,
                  !1
                )
              )),
            u))
      : d || "ellipse" === t
      ? ((e = n[0]),
        (s = Lo(it(n[1][1] - e[1]), d ? Math.sqrt((l * l + f * f) / 2) : f, c)),
        (u = d ? [s] : [Lo(it(n[2][0] - e[0]), l, c), s]).push(
          "at",
          Lo(e[0], l, c),
          Lo(e[1], f, c)
        ),
        u)
      : void 0;
  }
  function Pa(t, e, n, r) {
    var o = [r, (r + e) / 2, e],
      a = [t, (t + n) / 2, n];
    return Oa.map(function (t) {
      var e = t[0],
        n = t[1],
        t = t[2],
        r = o[e + 1],
        i = a[n + 1];
      return { vertical: it(n), horizontal: it(e), direction: t, pos: [r, i] };
    });
  }
  function Ta(t) {
    var e = [1 / 0, -1 / 0],
      n = [1 / 0, -1 / 0];
    return (
      t.forEach(function (t) {
        t = t.pos;
        (e[0] = Math.min(e[0], t[0])),
          (e[1] = Math.max(e[1], t[0])),
          (n[0] = Math.min(n[0], t[1])),
          (n[1] = Math.max(n[1], t[1]));
      }),
      [it(e[1] - e[0]), it(n[1] - n[0])]
    );
  }
  function za(t, n, r, e, i) {
    if (t) {
      var o, a, s, u, c, l, f, p, d, h, g, v, m, b, x, y;
      if (
        ((i = i ? i : "none" !== (o = (t = X(t))("clipPath")) ? o : t("clip")) &&
          "none" !== i &&
          "auto" !== i) ||
        (i = e)
      )
        return (
          (t = (o = st(i)).prefix),
          (o = void 0 === (e = o.value) ? "" : e),
          (t = "circle" === (e = void 0 === t ? i : t)),
          (a = " "),
          "polygon" === e
            ? ((a = ","),
              (d = pn(
                (y = (h = at(o || "0% 0%, 100% 0%, 100% 100%, 0% 100%")).map(function (
                  t
                ) {
                  var t = t.split(" "),
                    e = t[0],
                    t = t[1];
                  return { vertical: 1, horizontal: 1, pos: [Z(e, n), Z(t, r)] };
                })).map(function (t) {
                  return t.pos;
                })
              )),
              {
                type: e,
                clipText: i,
                poses: y,
                splitter: a,
                left: d.minX,
                right: d.maxX,
                top: d.minY,
                bottom: d.maxY,
              })
            : t || "ellipse" === e
            ? ((f = d = ""),
              (u = s = 0),
              (h = ot(o)),
              (u = t
                ? ((p = h[0]),
                  (d = void 0 === (l = h[2]) ? "50%" : l),
                  (f = void 0 === (l = h[3]) ? "50%" : l),
                  (s = Z(void 0 === p ? "50%" : p, Math.sqrt((n * n + r * r) / 2))))
                : ((l = ""),
                  (p = h[0]),
                  (l = void 0 === (g = h[1]) ? "50%" : g),
                  (d = void 0 === (g = h[3]) ? "50%" : g),
                  (f = void 0 === (g = h[4]) ? "50%" : g),
                  (s = Z(void 0 === p ? "50%" : p, n)),
                  Z(l, r))),
              (y = tt(
                [
                  {
                    vertical: 1,
                    horizontal: 1,
                    pos: (c = [Z(d, n), Z(f, r)]),
                    direction: "nesw",
                  },
                ],
                Ma.slice(0, t ? 1 : 2).map(function (t) {
                  return {
                    vertical: it(t[1]),
                    horizontal: t[0],
                    direction: t[2],
                    sub: !0,
                    pos: [c[0] + t[0] * s, c[1] + t[1] * u],
                  };
                }),
                !0
              )),
              {
                type: e,
                clipText: i,
                radiusX: s,
                radiusY: u,
                left: c[0] - s,
                top: c[1] - u,
                right: c[0] + s,
                bottom: c[1] + u,
                poses: y,
                splitter: a,
              })
            : "inset" === e
            ? ((p = (
                -1 < (g = (h = ot(o || "0 0 0 0")).indexOf("round")) ? h.slice(0, g) : h
              ).length),
              (l = h.slice(p + 1)),
              (f = (d = h.slice(0, p))[0]),
              (g = void 0 === (t = d[1]) ? f : t),
              (p = d[2]),
              (d = void 0 === (t = d[3]) ? g : t),
              (v = (t = [f, void 0 === p ? f : p].map(function (t) {
                return Z(t, r);
              }))[0]),
              (b = t[1]),
              (x = (f = [d, g].map(function (t) {
                return Z(t, n);
              }))[0]),
              (m = f[1]),
              (d = _a(l, (p = n - m) - x, (t = r - b) - v, x, v)),
              {
                type: "inset",
                clipText: i,
                poses: (y = tt(tt([], Pa(v, p, t, x), !0), d, !0)),
                top: v,
                left: x,
                right: p,
                bottom: t,
                radius: l,
                splitter: a,
              })
            : "rect" === e
            ? ((a = ","),
              {
                type: "rect",
                clipText: i,
                poses: (y = Pa(
                  (v = (g = (h = at(
                    o || "0px, ".concat(n, "px, ").concat(r, "px, 0px")
                  )).map(function (t) {
                    return ut(t).value;
                  }))[0]),
                  (m = g[1]),
                  (b = g[2]),
                  (x = g[3])
                )),
                top: v,
                right: m,
                bottom: b,
                left: x,
                values: h,
                splitter: a,
              })
            : void 0
        );
    }
  }
  function Ga(t, e) {
    var n = sr(t, e),
      r = n[0],
      n = n[1],
      i = e.datas,
      o = i.clipPath,
      i = i.clipIndex,
      a = o.type,
      s = o.poses,
      u = o.splitter,
      c = s.map(function (t) {
        return t.pos;
      });
    if ("polygon" === a) c.splice(i, 0, [r, n]);
    else {
      if ("inset" !== a) return;
      var l = ya.indexOf(i),
        i = Ea.indexOf(i),
        f = s.length,
        p = s,
        d = c,
        h = 8,
        g = l,
        v = i,
        m = r,
        b = n,
        x = c[4][0],
        y = c[4][1],
        E = c[0][0],
        S = c[0][1],
        i =
          (void 0 === E && (E = 0),
          void 0 === S && (S = 0),
          (l = wa(p.slice(h))).horizontalRange),
        l = l.verticalRange;
      if (-1 < g)
        for (var C = 1 === Sa[g] ? m - E : x - m, D = i[1]; D <= g; ++D) {
          var w = 1 === Ca[D] ? S : y,
            _ = 0;
          if (
            (g === D
              ? (_ = m)
              : 0 === D
              ? (_ = E + C)
              : -1 === Sa[D] && (_ = x - (d[h][0] - E)),
            p.splice(h + D, 0, { horizontal: Sa[D], vertical: 0, pos: [_, w] }),
            d.splice(h + D, 0, [_, w]),
            0 === D)
          )
            break;
        }
      else if (-1 < v)
        for (
          var M = 1 === Ca[v] ? b - S : y - b,
            O =
              (0 === i[1] &&
                0 === l[1] &&
                (p.push({ horizontal: Sa[0], vertical: 0, pos: (i = [E + M, S]) }),
                d.push(i)),
              l[0]),
            D = l[1];
          D <= v;
          ++D
        ) {
          (_ = 1 === Sa[D] ? E : x), (w = 0);
          if (
            (v === D
              ? (w = b)
              : 0 === D
              ? (w = S + M)
              : 1 === Ca[D]
              ? (w = d[h + O][1])
              : -1 === Ca[D] && (w = y - (d[h + O][1] - S)),
            p.push({ horizontal: 0, vertical: Ca[D], pos: [_, w] }),
            d.push([_, w]),
            0 === D)
          )
            break;
        }
      if (f === s.length) return;
    }
    (r = Ra(t, o, c)), (n = "".concat(a, "(").concat(r.join(u), ")"));
    rt(
      t,
      "onClip",
      nt(
        t,
        e,
        Q(
          {
            clipEventType: "added",
            clipType: a,
            poses: c,
            clipStyles: r,
            clipStyle: n,
            distX: 0,
            distY: 0,
          },
          et({ clipPath: n }, e)
        )
      )
    );
  }
  function ka(t, e) {
    var n = e.datas,
      r = n.clipPath,
      n = n.clipIndex,
      i = r.type,
      o = r.poses,
      a = r.splitter,
      s = o.map(function (t) {
        return t.pos;
      }),
      u = s.length;
    if ("polygon" === i) o.splice(n, 1), s.splice(n, 1);
    else {
      if ("inset" !== i) return;
      if (n < 8) return;
      if (
        (!(function (t, e, n, r, i) {
          void 0 === i && (i = e.length);
          var o = (a = wa(t.slice(r))).horizontalRange,
            a = a.verticalRange,
            s = 0;
          if (0 == (r = n - r)) s = i;
          else if (0 < r && r < o[1]) s = o[1] - r;
          else {
            if (!(r >= a[0])) return;
            s = a[0] + a[1] - r;
          }
          t.splice(n, s), e.splice(n, s);
        })(o, s, n, 8, u),
        u === o.length)
      )
        return;
    }
    (n = Ra(t, r, s)), (u = "".concat(i, "(").concat(n.join(a), ")"));
    rt(
      t,
      "onClip",
      nt(
        t,
        e,
        Q(
          {
            clipEventType: "removed",
            clipType: i,
            poses: s,
            clipStyles: n,
            clipStyle: u,
            distX: 0,
            distY: 0,
          },
          et({ clipPath: u }, e)
        )
      )
    );
  }
  var Aa = {
      name: "clippable",
      props: [
        "clippable",
        "defaultClipPath",
        "customClipPath",
        "keepRatio",
        "clipRelative",
        "clipArea",
        "dragWithClip",
        "clipTargetBounds",
        "clipVerticalGuidelines",
        "clipHorizontalGuidelines",
        "clipSnapThreshold",
      ],
      events: ["clipStart", "clip", "clipEnd"],
      css: [
        ".control.clip-control {\nbackground: #6d6;\ncursor: pointer;\n}\n.control.clip-control.clip-radius {\nbackground: #d66;\n}\n.line.clip-line {\nbackground: #6e6;\ncursor: move;\nz-index: 1;\n}\n.clip-area {\nposition: absolute;\ntop: 0;\nleft: 0;\n}\n.clip-ellipse {\nposition: absolute;\ncursor: move;\nborder: 1px solid #6d6;\nborder: var(--zoompx) solid #6d6;\nborder-radius: 50%;\ntransform-origin: 0px 0px;\n}",
        ":host {\n--bounds-color: #d66;\n}",
        ".guideline {\npointer-events: none;\nz-index: 2;\n}",
        ".line.guideline.bounds {\nbackground: #d66;\nbackground: var(--bounds-color);\n}",
      ],
      render: function (t, o) {
        var e = t.props,
          n = e.customClipPath,
          r = e.defaultClipPath,
          i = e.clipArea,
          a = e.zoom,
          e = e.groupable,
          t = t.getState(),
          s = t.target,
          u = t.width,
          c = t.height,
          l = t.allMatrix,
          f = t.is3d,
          p = t.left,
          d = t.top,
          h = t.pos1,
          g = t.pos2,
          v = t.pos3,
          m = t.pos4,
          b = t.clipPathState,
          x = t.snapBoundInfos,
          y = t.rotation;
        if (!s || e) return [];
        t = za(s, u, c, r || "inset", b || n);
        if (!t) return [];
        var E,
          S,
          C,
          D = f ? 4 : 3,
          e = t.type,
          s = t.poses.map(function (t) {
            t = I(l, t.pos, D);
            return [t[0] - p, t[1] - d];
          }),
          r = [],
          w = [],
          b = "rect" === e,
          n = "inset" === e,
          f = "polygon" === e;
        if (
          ((b || n || f) &&
            ((E = n ? s.slice(0, 8) : s),
            (w = E.map(function (t, e) {
              var n = 0 === e ? E[E.length - 1] : E[e - 1],
                r = F(n, t),
                t = xo(n, t);
              return o.createElement("div", {
                key: "clipLine".concat(e),
                className: B("line", "clip-line", "snap-control"),
                "data-clip-index": e,
                style: {
                  width: "".concat(t, "px"),
                  transform: "translate("
                    .concat(n[0], "px, ")
                    .concat(n[1], "px) rotate(")
                    .concat(r, "rad) scaleY(")
                    .concat(a, ")"),
                },
              });
            }))),
          (r = s.map(function (t, e) {
            return o.createElement("div", {
              key: "clipControl".concat(e),
              className: B("control", "clip-control", "snap-control"),
              "data-clip-index": e,
              style: {
                transform: "translate("
                  .concat(t[0], "px, ")
                  .concat(t[1], "px) rotate(")
                  .concat(y, "rad) scale(")
                  .concat(a, ")"),
              },
            });
          })),
          n &&
            r.push.apply(
              r,
              s.slice(8).map(function (t, e) {
                return o.createElement("div", {
                  key: "clipRadiusControl".concat(e),
                  className: B(
                    "control",
                    "clip-control",
                    "clip-radius",
                    "snap-control"
                  ),
                  "data-clip-index": 8 + e,
                  style: {
                    transform: "translate("
                      .concat(t[0], "px, ")
                      .concat(t[1], "px) rotate(")
                      .concat(y, "rad) scale(")
                      .concat(a, ")"),
                  },
                });
              })
            ),
          "circle" === e || "ellipse" === e)
        ) {
          var e = t.left,
            _ = t.top,
            M = t.radiusX,
            O = t.radiusY,
            t = G(I(l, [e, _], D), I(l, [0, 0], D)),
            e = t[0],
            _ = t[1],
            t = "none";
          if (!i) {
            for (var R = Math.max(10, M / 5, O / 5), P = [], T = 0; T <= R; ++T) {
              var z = ((2 * Math.PI) / R) * T;
              P.push([M + (M - a) * Math.cos(z), O + (O - a) * Math.sin(z)]);
            }
            P.push([M, -2]),
              P.push([-2, -2]),
              P.push([-2, 2 * O + 2]),
              P.push([2 * M + 2, 2 * O + 2]),
              P.push([2 * M + 2, -2]),
              P.push([M, -2]),
              (t = "polygon(".concat(
                P.map(function (t) {
                  return "".concat(t[0], "px ").concat(t[1], "px");
                }).join(", "),
                ")"
              ));
          }
          r.push(
            o.createElement("div", {
              key: "clipEllipse",
              className: B("clip-ellipse", "snap-control"),
              style: {
                width: "".concat(2 * M, "px"),
                height: "".concat(2 * O, "px"),
                clipPath: t,
                transform: "translate("
                  .concat(-p + e, "px, ")
                  .concat(-d + _, "px) ")
                  .concat(po(l)),
              },
            })
          );
        }
        return (
          i &&
            ((e = (t = vo(tt([h, g, v, m], s, !0))).width),
            (_ = t.height),
            (S = t.left),
            (C = t.top),
            f || b || n) &&
            ((P = n ? s.slice(0, 8) : s),
            r.push(
              o.createElement("div", {
                key: "clipArea",
                className: B("clip-area", "snap-control"),
                style: {
                  width: "".concat(e, "px"),
                  height: "".concat(_, "px"),
                  transform: "translate(".concat(S, "px, ").concat(C, "px)"),
                  clipPath: "polygon(".concat(
                    P.map(function (t) {
                      return "".concat(t[0] - S, "px ").concat(t[1] - C, "px");
                    }).join(", "),
                    ")"
                  ),
                },
              })
            )),
          x &&
            ["vertical", "horizontal"].forEach(function (r) {
              var t = x[r],
                i = "horizontal" === r;
              t.isSnap &&
                w.push.apply(
                  w,
                  t.snap.posInfos.map(function (t, e) {
                    var t = t.pos,
                      n = G(I(l, i ? [0, t] : [t, 0], D), [p, d]),
                      t = G(I(l, i ? [u, t] : [t, c], D), [p, d]);
                    return Yr(
                      o,
                      "",
                      n,
                      t,
                      a,
                      "clip".concat(r, "snap").concat(e),
                      "guideline"
                    );
                  })
                ),
                t.isBound &&
                  w.push.apply(
                    w,
                    t.bounds.map(function (t, e) {
                      var t = t.pos,
                        n = G(I(l, i ? [0, t] : [t, 0], D), [p, d]),
                        t = G(I(l, i ? [u, t] : [t, c], D), [p, d]);
                      return Yr(
                        o,
                        "",
                        n,
                        t,
                        a,
                        "clip".concat(r, "bounds").concat(e),
                        "guideline",
                        "bounds",
                        "bold"
                      );
                    })
                  );
            }),
          tt(tt([], r, !0), w, !0)
        );
      },
      dragControlCondition: function (t, e) {
        return (
          e.inputEvent &&
          -1 < (e.inputEvent.target.getAttribute("class") || "").indexOf("clip")
        );
      },
      dragStart: function (t, e) {
        var n = t.props.dragWithClip;
        return void 0 !== n && !n && this.dragControlStart(t, e);
      },
      drag: function (t, e) {
        return this.dragControl(t, Q(Q({}, e), { isDragTarget: !0 }));
      },
      dragEnd: function (t, e) {
        return this.dragControlEnd(t, e);
      },
      dragControlStart: function (t, e) {
        var n = t.state,
          r = t.props,
          i = r.defaultClipPath,
          r = r.customClipPath,
          o = n.target,
          a = n.width,
          s = n.height,
          u = e.inputEvent ? e.inputEvent.target : null,
          c = (u && u.getAttribute("class")) || "",
          l = e.datas,
          o = za(o, a, s, i || "inset", r);
        return (
          !!o &&
          ((a = o.clipText),
          !1 ===
          rt(
            t,
            "onClipStart",
            nt(t, e, {
              clipType: o.type,
              clipStyle: a,
              poses: o.poses.map(function (t) {
                return t.pos;
              }),
            })
          )
            ? (l.isClipStart = !1)
            : ((l.isControl = c && -1 < c.indexOf("clip-control")),
              (l.isLine = -1 < c.indexOf("clip-line")),
              (l.isArea =
                -1 < c.indexOf("clip-area") || -1 < c.indexOf("clip-ellipse")),
              (l.clipIndex = u ? parseInt(u.getAttribute("data-clip-index"), 10) : -1),
              (l.clipPath = o),
              (l.isClipStart = !0),
              (n.clipPathState = a),
              ur(t, e),
              !0))
        );
      },
      dragControl: function (B, t) {
        var I,
          e,
          F,
          n,
          r,
          i,
          N,
          Y,
          o,
          X,
          q,
          a,
          s,
          u,
          j,
          W,
          H,
          c,
          l,
          f,
          p,
          d,
          h,
          g,
          v,
          L,
          m,
          b,
          x,
          y,
          E,
          S,
          C,
          D,
          w,
          _,
          M,
          O,
          V,
          R,
          P,
          U,
          T,
          z,
          G,
          k = t.datas,
          A = t.originalDatas,
          $ = t.isDragTarget;
        return (
          !!k.isClipStart &&
          ((w = k.isControl),
          (o = k.isLine),
          (R = k.isArea),
          (G = k.clipIndex),
          !!(k = k.clipPath)) &&
          ((D = (I = So(B.props, "clippable")).keepRatio),
          (n = e = 0),
          (A = A.draggable),
          (F = hr(t)),
          (n = ($ && A ? ((r = A.prevBeforeDist), (e = r[0]), r) : ((e = F[0]), F))[1]),
          (r = [e, n]),
          (i = B.state),
          (N = i.width),
          (Y = i.height),
          (R = !R && !w && !o),
          (o = k.type),
          (z = k.poses),
          (X = k.splitter),
          (T = z.map(function (t) {
            return t.pos;
          })),
          R && ((e = -e), (n = -n)),
          (R = !w || "nesw" === z[G].direction),
          (q = "inset" === o || "rect" === o),
          (a = z.map(function () {
            return [0, 0];
          })),
          w && !R
            ? ((h = (p = z[G]).horizontal),
              (p = p.vertical),
              (h = [e * it(h), n * it(p)]),
              (u = h),
              (p = q),
              (h = D),
              (m = (b = (s = z)[(y = G)]).direction),
              (b = b.sub),
              (c = s.map(function () {
                return [0, 0];
              })),
              (x = m ? m.split("") : []),
              p && y < 8
                ? ((p = x.filter(function (t) {
                    return "w" === t || "e" === t;
                  })),
                  (d = x.filter(function (t) {
                    return "n" === t || "s" === t;
                  })),
                  (j = p[0]),
                  (W = d[0]),
                  (c[y] = u),
                  (d = (p = Ta(s))[0]),
                  (p = p[1]),
                  (l = d && p ? d / p : 0) && h
                    ? ((h = s[(y + 4) % 8].pos),
                      (f = [0, 0]),
                      -1 < m.indexOf("w")
                        ? (f[0] = -1)
                        : -1 < m.indexOf("e") && (f[0] = 1),
                      -1 < m.indexOf("n")
                        ? (f[1] = -1)
                        : -1 < m.indexOf("s") && (f[1] = 1),
                      (l = d + (d = Qo([d, p], u, l, f, !0))[0]),
                      (p = p + d[1]),
                      (d = h[1]),
                      (g = h[1]),
                      (v = h[0]),
                      (h = h[0]),
                      -1 === f[0]
                        ? (v = h - l)
                        : 1 === f[0]
                        ? (h = v + l)
                        : ((v -= l / 2), (h += l / 2)),
                      -1 === f[1]
                        ? (d = g - p)
                        : (g = 1 === f[1] ? d + p : (d = g - p / 2) + p),
                      (H = Pa(d, h, g, v)),
                      s.forEach(function (t, e) {
                        (c[e][0] = H[e].pos[0] - t.pos[0]),
                          (c[e][1] = H[e].pos[1] - t.pos[1]);
                      }))
                    : (s.forEach(function (t, e) {
                        t = t.direction;
                        t &&
                          (-1 < t.indexOf(j) && (c[e][0] = u[0]), -1 < t.indexOf(W)) &&
                          (c[e][1] = u[1]);
                      }),
                      j && ((c[1][0] = u[0] / 2), (c[5][0] = u[0] / 2)),
                      W && ((c[3][1] = u[1] / 2), (c[7][1] = u[1] / 2))))
                : m && !b
                ? x.forEach(function (i) {
                    var o = "n" === i || "s" === i;
                    s.forEach(function (t, e) {
                      var n = t.direction,
                        r = t.horizontal,
                        t = t.vertical;
                      n &&
                        -1 !== n.indexOf(i) &&
                        (c[e] = [o || !r ? 0 : u[0], o && t ? u[1] : 0]);
                    });
                  })
                : (c[y] = u),
              (a = c))
            : R &&
              (a = T.map(function () {
                return [e, n];
              })),
          (f = tt(
            [],
            (l = T.map(function (t, e) {
              return J(t, a[e]);
            })),
            !0
          )),
          (i.snapBoundInfos = null),
          (p = "circle" === k.type),
          (d = "ellipse" === k.type),
          (p || d) &&
            ((h = it((C = vo(l)).bottom - C.top)),
            (g = it(d ? C.right - C.left : h)),
            (_ = l[0][1] + h),
            (M = l[0][0] - g),
            (O = l[0][0] + g),
            p && (f.push([O, C.bottom]), a.push([1, 0])),
            f.push([C.left, _]),
            a.push([0, 1]),
            f.push([M, C.bottom]),
            a.push([1, 0])),
          (v = Hi(
            (I.clipHorizontalGuidelines || []).map(function (t) {
              return Z("".concat(t), Y);
            }),
            (I.clipVerticalGuidelines || []).map(function (t) {
              return Z("".concat(t), N);
            }),
            N,
            Y
          )),
          (m = []),
          (b = []),
          (b =
            p || d
              ? ((m = [f[4][0], f[2][0]]), [f[1][1], f[3][1]])
              : q
              ? ((U = [f[0], f[2], f[4], f[6]]),
                (L = [a[0], a[2], a[4], a[6]]),
                (m = U.filter(function (t, e) {
                  return L[e][0];
                }).map(function (t) {
                  return t[0];
                })),
                U.filter(function (t, e) {
                  return L[e][1];
                }).map(function (t) {
                  return t[1];
                }))
              : ((m = f
                  .filter(function (t, e) {
                    return a[e][0];
                  })
                  .map(function (t) {
                    return t[0];
                  })),
                f
                  .filter(function (t, e) {
                    return a[e][1];
                  })
                  .map(function (t) {
                    return t[1];
                  }))),
          (x = [0, 0]),
          (R = (y = _i(
            v,
            I.clipTargetBounds && { left: 0, top: 0, right: N, bottom: Y },
            m,
            b,
            5
          )).horizontal),
          (T = y.vertical),
          (E = R.offset),
          (S = T.offset),
          R.isBound && (x[1] += E),
          T.isBound && (x[0] += S),
          (d || p) && 0 === a[0][0] && 0 === a[0][1]
            ? ((P = (C = vo(l)).bottom - C.top),
              (C = d ? C.right - C.left : P),
              (C -= T.isBound ? it(S) : 0 === T.snapIndex ? -S : S),
              (P -= R.isBound ? it(E) : 0 === R.snapIndex ? -E : E),
              p && (C = P = 0 < li(T, R) ? P : C),
              (T = f[0]),
              (f[1][1] = T[1] - P),
              (f[2][0] = T[0] + C),
              (f[3][1] = T[1] + P),
              (f[4][0] = T[0] - C))
            : q && D && w
            ? ((P = (R = Ta(z))[0]),
              (T = R[1]),
              (C = P && T ? P / T : 0),
              (D = z[G].direction || ""),
              (w = f[1][1]),
              (_ = f[5][1]),
              (M = f[7][0]),
              (O = f[3][0]),
              it(E) <= it(S) ? (E = (ra(E) * it(S)) / C) : (S = ra(S) * it(E) * C),
              -1 < D.indexOf("w")
                ? (M -= S)
                : -1 < D.indexOf("e")
                ? (O -= S)
                : ((M += S / 2), (O -= S / 2)),
              -1 < D.indexOf("n")
                ? (w -= E)
                : -1 < D.indexOf("s")
                ? (_ -= E)
                : ((w += E / 2), (_ -= E / 2)),
              (V = Pa(w, O, _, M)),
              f.forEach(function (t, e) {
                e = V[e].pos;
                (t[0] = e[0]), (t[1] = e[1]);
              }))
            : f.forEach(function (t, e) {
                e = a[e];
                e[0] && (t[0] -= S), e[1] && (t[1] -= E);
              }),
          (R = Ra(B, k, l)),
          (P = "".concat(o, "(").concat(R.join(X), ")")),
          (i.clipPathState = P),
          (b =
            p || d
              ? ((m = [f[4][0], f[2][0]]), [f[1][1], f[3][1]])
              : q
              ? ((m = (U = [f[0], f[2], f[4], f[6]]).map(function (t) {
                  return t[0];
                })),
                U.map(function (t) {
                  return t[1];
                }))
              : ((m = f.map(function (t) {
                  return t[0];
                })),
                f.map(function (t) {
                  return t[1];
                }))),
          (i.snapBoundInfos = _i(
            v,
            I.clipTargetBounds && { left: 0, top: 0, right: N, bottom: Y },
            m,
            b,
            1
          )),
          A &&
            ((T = i.is3d),
            (z = i.allMatrix),
            (G = x),
            $ && (G = [r[0] + x[0] - F[0], r[1] + x[1] - F[1]]),
            (A.deltaOffset = K(z, [G[0], G[1], 0, 0], T ? 4 : 3))),
          rt(
            B,
            "onClip",
            nt(
              B,
              t,
              Q(
                {
                  clipEventType: "changed",
                  clipType: o,
                  poses: l,
                  clipStyle: P,
                  clipStyles: R,
                  distX: e,
                  distY: n,
                },
                et((((C = {})["rect" === o ? "clip" : "clipPath"] = P), C), t)
              )
            )
          ),
          !0)
        );
      },
      dragControlEnd: function (t, e) {
        this.unset(t);
        var n = e.isDrag,
          r = e.datas,
          i = e.isDouble,
          o = r.isLine,
          a = r.isClipStart,
          r = r.isControl;
        return (
          !!a &&
          (rt(t, "onClipEnd", d(t, e, {})), i && (r ? ka(t, e) : o && Ga(t, e)), i || n)
        );
      },
      unset: function (t) {
        (t.state.clipPathState = ""), (t.state.snapBoundInfos = null);
      },
    },
    Ba = {
      name: "originDraggable",
      props: ["originDraggable", "originRelative"],
      events: ["dragOriginStart", "dragOrigin", "dragOriginEnd"],
      css: [
        ":host[data-able-origindraggable] .control.origin {\npointer-events: auto;\n}",
      ],
      dragControlCondition: function (t, e) {
        return e.isRequest
          ? "originDraggable" === e.requestAble
          : T(e.inputEvent.target, B("origin"));
      },
      dragControlStart: function (t, e) {
        var n = e.datas,
          e =
            (ur(t, e),
            nt(t, e, { dragStart: U.dragStart(t, new or().dragStart([0, 0], e)) })),
          r = rt(t, "onDragOriginStart", e);
        return (
          (n.startOrigin = t.state.transformOrigin),
          (n.startTargetOrigin = t.state.targetOrigin),
          (n.prevOrigin = [0, 0]),
          !(n.isDragOrigin = !0) === r ? (n.isDragOrigin = !1) : e
        );
      },
      dragControl: function (t, e) {
        var n,
          r,
          i,
          o,
          a,
          s,
          u,
          c,
          l,
          f = e.datas,
          p = e.isPinch,
          d = e.isRequest;
        return (
          !!f.isDragOrigin &&
          ((o = (a = hr(e))[0]),
          (a = a[1]),
          (n = (u = t.state).width),
          (r = u.height),
          (l = u.offsetMatrix),
          (c = u.targetMatrix),
          (u = u.is3d),
          (i = void 0 === (i = t.props.originRelative) || i),
          (u = u ? 4 : 3),
          (o = [o, a]),
          d && ((a = e.distOrigin)[0] || a[1]) && (o = a),
          (d = J(f.startOrigin, o)),
          (a = J(f.startTargetOrigin, o)),
          (s = G(o, f.prevOrigin)),
          (l = vr(l, c, d, u)),
          (c = t.getRect()),
          (l = vo(go(l, n, r, u))),
          (u = [c.left - l.left, c.top - l.top]),
          (f.prevOrigin = o),
          (c = [Lo(a[0], n, i), Lo(a[1], r, i)].join(" ")),
          (l = U.drag(t, ir(e, t.state, u, !!p, !1))),
          rt(
            t,
            "onDragOrigin",
            (f = nt(
              t,
              e,
              Q(
                Q(
                  {
                    width: n,
                    height: r,
                    origin: d,
                    dist: o,
                    delta: s,
                    transformOrigin: c,
                    drag: l,
                  },
                  et({ transformOrigin: c, transform: l.transform }, e)
                ),
                { afterTransform: l.transform }
              )
            ))
          ),
          f)
        );
      },
      dragControlEnd: function (t, e) {
        return !!e.datas.isDragOrigin && (rt(t, "onDragOriginEnd", d(t, e, {})), !0);
      },
      dragGroupControlCondition: function (t, e) {
        return this.dragControlCondition(t, e);
      },
      dragGroupControlStart: function (t, e) {
        return !!this.dragControlStart(t, e);
      },
      dragGroupControl: function (t, e) {
        e = this.dragControl(t, e);
        return !!e && ((t.transformOrigin = e.transformOrigin), !0);
      },
      request: function (t) {
        var e = {},
          n = t.getRect(),
          r = 0,
          i = 0,
          o = n.transformOrigin,
          a = [0, 0];
        return {
          isControl: !0,
          requestStart: function () {
            return { datas: e };
          },
          request: function (t) {
            return (
              "deltaOrigin" in t
                ? ((a[0] += t.deltaOrigin[0]), (a[1] += t.deltaOrigin[1]))
                : "origin" in t
                ? ((a[0] = t.origin[0] - o[0]), (a[1] = t.origin[1] - o[1]))
                : ("x" in t ? (r = t.x - n.left) : "deltaX" in t && (r += t.deltaX),
                  "y" in t ? (i = t.y - n.top) : "deltaY" in t && (i += t.deltaY)),
              { datas: e, distX: r, distY: i, distOrigin: a }
            );
          },
          requestEnd: function () {
            return { datas: e, isDrag: !0 };
          },
        };
      },
    };
  function Ia(t, e, n, r, i) {
    void 0 === r && (r = [0, 0]);
    return _a(t && "0px" !== t ? ot(t) : [], e, n, 0, 0, r, i);
  }
  function Fa(t, e, n, r, i) {
    var o,
      a = t.state,
      s = a.width,
      u = a.height,
      i = Da(i, t.props.roundRelative, s, u),
      c = i.raws,
      l = i.styles,
      i = i.radiusPoses,
      c =
        ((i = i),
        void 0 === (o = c) &&
          (o = i.map(function (t) {
            return t.raw;
          })),
        {
          horizontals: i
            .map(function (t, e) {
              return t.horizontal ? o[e] : null;
            })
            .filter(function (t) {
              return null != t;
            }),
          verticals: i
            .map(function (t, e) {
              return t.vertical ? o[e] : null;
            })
            .filter(function (t) {
              return null != t;
            }),
        }),
      i = c.horizontals,
      c = c.verticals,
      l = l.join(" "),
      a =
        ((a.borderRadiusState = l),
        nt(
          t,
          e,
          Q(
            {
              horizontals: i,
              verticals: c,
              borderRadius: l,
              width: s,
              height: u,
              delta: r,
              dist: n,
            },
            et({ borderRadius: l }, e)
          )
        ));
    return rt(t, "onRound", a), a;
  }
  function Na(t) {
    var e,
      n,
      r = t.getState().style,
      i = r.borderRadius || "";
    return (
      !i &&
        t.props.groupable &&
        ((e = t.moveables[0]), (n = t.getTargets()[0])) &&
        ((i =
          (null == e ? void 0 : e.props.target) === n
            ? null !=
              (t = null == (e = t.moveables[0]) ? void 0 : e.state.style.borderRadius)
              ? t
              : ""
            : Io(n).borderRadius),
        (r.borderRadius = i)),
      i
    );
  }
  var Ya = {
    name: "roundable",
    props: [
      "roundable",
      "roundRelative",
      "minRoundControls",
      "maxRoundControls",
      "roundClickable",
      "roundPadding",
      "isDisplayShadowRoundControls",
    ],
    events: [
      "roundStart",
      "round",
      "roundEnd",
      "roundGroupStart",
      "roundGroup",
      "roundGroupEnd",
    ],
    css: [
      ".control.border-radius {\nbackground: #d66;\ncursor: pointer;\nz-index: 3;\n}",
      ".control.border-radius.vertical {\nbackground: #d6d;\nz-index: 2;\n}",
      ".control.border-radius.virtual {\nopacity: 0.5;\nz-index: 1;\n}",
      ":host.round-line-clickable .line.direction {\ncursor: pointer;\n}",
    ],
    className: function (t) {
      t = t.props.roundClickable;
      return !0 === t || "line" === t ? B("round-line-clickable") : "";
    },
    requestStyle: function () {
      return ["borderRadius"];
    },
    requestChildStyle: function () {
      return ["borderRadius"];
    },
    render: function (t, a) {
      var s,
        u,
        c,
        l,
        e = t.getState(),
        n = e.target,
        r = e.width,
        i = e.height,
        f = e.allMatrix,
        o = e.is3d,
        p = e.left,
        d = e.top,
        e = e.borderRadiusState,
        h = t.props,
        g = h.minRoundControls,
        g = void 0 === g ? [0, 0] : g,
        v = h.maxRoundControls,
        m = void 0 === v ? [4, 4] : v,
        b = h.zoom,
        v = h.roundPadding,
        x = void 0 === v ? 0 : v,
        y = h.isDisplayShadowRoundControls,
        v = h.groupable;
      return n && ((h = e || Na(t)), (s = o ? 4 : 3), (n = Ia(h, r, i, g, !0)))
        ? ((c = u = 0),
          (l = v ? [0, 0] : [p, d]),
          n.map(function (t, e) {
            var n = t.horizontal,
              r = t.vertical,
              i = t.direction || "",
              o = tt([], t.pos, !0),
              n =
                ((c += Math.abs(n)),
                (u += Math.abs(r)),
                n && -1 < i.indexOf("n") && (o[1] -= x),
                r && -1 < i.indexOf("w") && (o[0] -= x),
                n && -1 < i.indexOf("s") && (o[1] += x),
                r && -1 < i.indexOf("e") && (o[0] += x),
                G(I(f, o, s), l)),
              r = t.vertical
                ? u <= m[1] && (y || !t.virtual)
                : c <= m[0] && (y || !t.virtual);
            return a.createElement("div", {
              key: "borderRadiusControl".concat(e),
              className: B(
                "control",
                "border-radius",
                t.vertical ? "vertical" : "",
                t.virtual ? "virtual" : ""
              ),
              "data-radius-index": e,
              style: {
                display: r ? "block" : "none",
                transform: "translate("
                  .concat(n[0], "px, ")
                  .concat(n[1], "px) scale(")
                  .concat(b, ")"),
              },
            });
          }))
        : null;
    },
    dragControlCondition: function (t, e) {
      return (
        !(!e.inputEvent || e.isRequest) &&
        (-1 <
          (e = e.inputEvent.target.getAttribute("class") || "").indexOf(
            "border-radius"
          ) ||
          (-1 < e.indexOf("moveable-line") && -1 < e.indexOf("moveable-direction")))
      );
    },
    dragGroupControlCondition: function (t, e) {
      return this.dragControlCondition(t, e);
    },
    dragControlStart: function (t, e) {
      var n = e.inputEvent,
        r = e.datas,
        n = n.target,
        i = n.getAttribute("class") || "",
        o = -1 < i.indexOf("border-radius"),
        i = -1 < i.indexOf("moveable-line") && -1 < i.indexOf("moveable-direction"),
        a = o ? parseInt(n.getAttribute("data-radius-index"), 10) : -1,
        s = -1;
      if (
        (i &&
          (n = n.getAttribute("data-line-key") || "") &&
          ((s = parseInt(n.replace(/render-line-/g, ""), 10)), isNaN(s)) &&
          (s = -1),
        !o && !i)
      )
        return !1;
      n = nt(t, e, {});
      if (!1 === rt(t, "onRoundStart", n)) return !1;
      (r.lineIndex = s),
        (r.controlIndex = a),
        (r.isControl = o),
        (r.isLine = i),
        ur(t, e);
      (s = t.props),
        (a = s.roundRelative),
        (o = s.minRoundControls),
        (i = void 0 === o ? [0, 0] : o),
        (e = t.state),
        (s = e.width),
        (o = e.height);
      (r.isRound = !0), (r.prevDist = [0, 0]);
      t = Ia(Na(t) || "", s, o, i, !0) || [];
      return (
        (r.controlPoses = t), (e.borderRadiusState = Da(t, a, s, o).styles.join(" ")), n
      );
    },
    dragControl: function (t, e) {
      var n,
        r,
        i,
        o,
        a,
        s,
        u,
        c,
        l,
        f,
        p,
        d,
        h = e.datas,
        g = h.controlPoses;
      return (
        !!(h.isRound && h.isControl && g.length) &&
        ((n = h.controlIndex),
        (r = (i = hr(e))[0]),
        (i = i[1]),
        (a = G((o = [r, i]), h.prevDist)),
        (d = t.props.maxRoundControls),
        (s = void 0 === d ? [4, 4] : d),
        (d = t.state),
        (u = d.width),
        (c = d.height),
        (d = g[n]),
        (l = d.vertical),
        (f = d.horizontal),
        ((p = g.map(function (t) {
          var e = t.horizontal,
            t = t.vertical,
            n = [e * f * o[0], t * l * o[1]];
          if (e) {
            if (1 === s[0]) return n;
            if (s[0] < 4 && e !== f) return n;
          } else {
            if (0 === s[1]) return (n[1] = ((t * f * o[0]) / u) * c), n;
            if (l) {
              if (1 === s[1]) return n;
              if (s[1] < 4 && t !== l) return n;
            }
          }
          return [0, 0];
        }))[n] = o),
        (d = g.map(function (t, e) {
          return Q(Q({}, t), { pos: J(t.pos, p[e]) });
        })),
        n < 4
          ? d.slice(0, n + 1).forEach(function (t) {
              t.virtual = !1;
            })
          : d.slice(4, n + 1).forEach(function (t) {
              t.virtual = !1;
            }),
        (h.prevDist = [r, i]),
        Fa(t, e, o, a, d))
      );
    },
    dragControlEnd: function (t, e) {
      var n,
        r,
        i,
        o,
        a,
        s,
        u,
        c,
        l = t.state,
        f = ((l.borderRadiusState = ""), e.datas),
        p = e.isDouble;
      return (
        !!f.isRound &&
        ((s = f.isControl),
        (n = f.controlIndex),
        (o = f.isLine),
        (i = f.lineIndex),
        (r = (f = f.controlPoses).filter(function (t) {
          return t.virtual;
        }).length),
        (u = void 0 === (u = t.props.roundClickable) || u),
        p &&
          u &&
          (!s || (!0 !== u && "control" !== u)
            ? !o ||
              (!0 !== u && "line" !== u) ||
              ((s = (p = sr(t, e))[0]),
              (o = p[1]),
              (u = i),
              (p = s),
              (i = o),
              (o = (s = f).filter(function (t) {
                var e = t.virtual;
                return t.horizontal && !e;
              }).length),
              (c = s.filter(function (t) {
                var e = t.virtual;
                return t.vertical && !e;
              }).length),
              (a = -1),
              0 === u && (0 === o ? (a = 0) : 1 === o && (a = 1)),
              2 === u && (o <= 2 ? (a = 2) : o <= 3 && (a = 3)),
              3 === u && (0 === c ? (a = 4) : c < 4 && (a = 7)),
              1 === u && (c <= 1 ? (a = 5) : c <= 2 && (a = 6)),
              -1 !== a &&
                s[a].virtual &&
                ((o = s[a]),
                (u = s),
                (c = a) < 4
                  ? u.slice(0, c + 1).forEach(function (t) {
                      t.virtual = !1;
                    })
                  : (u[0].virtual && (u[0].virtual = !1),
                    u.slice(4, c + 1).forEach(function (t) {
                      t.virtual = !1;
                    })),
                a < 4 ? (o.pos[0] = p) : (o.pos[1] = i)))
            : ((s = f),
              (u = n) < 4
                ? s.slice(u, 4).forEach(function (t) {
                    t.virtual = !0;
                  })
                : s.slice(u).forEach(function (t) {
                    t.virtual = !0;
                  })),
          r !==
            f.filter(function (t) {
              return t.virtual;
            }).length) &&
          Fa(t, e, [0, 0], [0, 0], f),
        rt(t, "onRoundEnd", (c = d(t, e, {}))),
        (l.borderRadiusState = ""),
        c)
      );
    },
    dragGroupControlStart: function (t, e) {
      var n,
        r,
        i = this.dragControlStart(t, e);
      return (
        !!i &&
        ((n = t.moveables),
        (r = t.props.targets),
        (e = kr(t, "roundable", e)),
        rt(
          t,
          "onRoundGroupStart",
          Q(
            {
              targets: t.props.targets,
              events: e.map(function (t, e) {
                return Q(Q({}, t), {
                  target: r[e],
                  moveable: n[e],
                  currentTarget: n[e],
                });
              }),
            },
            i
          )
        ),
        i)
      );
    },
    dragGroupControl: function (t, e) {
      var n,
        r,
        i = this.dragControl(t, e);
      return (
        !!i &&
        ((n = t.moveables),
        (r = t.props.targets),
        (e = kr(t, "roundable", e)),
        rt(
          t,
          "onRoundGroup",
          (t = Q(
            {
              targets: t.props.targets,
              events: e.map(function (t, e) {
                return Q(
                  Q(Q({}, t), { target: r[e], moveable: n[e], currentTarget: n[e] }),
                  et({ borderRadius: i.borderRadius }, t)
                );
              }),
            },
            i
          ))
        ),
        t)
      );
    },
    dragGroupControlEnd: function (e, t) {
      var r = e.moveables,
        i = e.props.targets,
        o = kr(e, "roundable", t),
        t =
          (Bo(e, "onRound", function (n) {
            var t = Q(
              {
                targets: e.props.targets,
                events: o.map(function (t, e) {
                  return Q(
                    Q(Q({}, t), { target: i[e], moveable: r[e], currentTarget: r[e] }),
                    et({ borderRadius: n.borderRadius }, t)
                  );
                }),
              },
              n
            );
            rt(e, "onRoundGroup", t);
          }),
          this.dragControlEnd(e, t));
      return (
        !!t &&
        ((t = Q(
          {
            targets: e.props.targets,
            events: o.map(function (t, e) {
              return Q(Q({}, t), {
                target: i[e],
                moveable: r[e],
                currentTarget: r[e],
                lastEvent: null == (e = t.datas) ? void 0 : e.lastEvent,
              });
            }),
          },
          t
        )),
        rt(e, "onRoundGroupEnd", t),
        t)
      );
    },
    unset: function (t) {
      t.state.borderRadiusState = "";
    },
  };
  var Xa = {
      isPinch: !0,
      name: "beforeRenderable",
      props: [],
      events: [
        "beforeRenderStart",
        "beforeRender",
        "beforeRenderEnd",
        "beforeRenderGroupStart",
        "beforeRenderGroup",
        "beforeRenderGroupEnd",
      ],
      dragRelation: "weak",
      setTransform: function (t, e) {
        var t = t.state,
          n = t.is3d,
          r = t.targetMatrix,
          t = t.inlineTransform,
          r = n
            ? "matrix3d(".concat(r.join(","), ")")
            : "matrix(".concat(Ae(r, !0), ")"),
          t = t && "none" !== t ? t : r;
        e.datas.startTransforms =
          ((r = t),
          (n = Y((e = n) ? 4 : 3)),
          r === "matrix".concat(e ? "3d" : "", "(").concat(n.join(","), ")") ||
          "matrix(1,0,0,1,0,0)" === r
            ? []
            : ot(t));
      },
      resetStyle: function (t) {
        var e = t.datas;
        (e.nextStyle = {}),
          (e.nextTransforms = t.datas.startTransforms),
          (e.nextTransformAppendedIndexes = []);
      },
      fillDragStartParams: function (t, e) {
        return nt(t, e, {
          setTransform: function (t) {
            e.datas.startTransforms = O(t) ? t : ot(t);
          },
          isPinch: !!e.isPinch,
        });
      },
      fillDragParams: function (t, e) {
        return nt(t, e, { isPinch: !!e.isPinch });
      },
      dragStart: function (t, e) {
        this.setTransform(t, e),
          this.resetStyle(e),
          rt(t, "onBeforeRenderStart", this.fillDragStartParams(t, e));
      },
      drag: function (t, e) {
        e.datas.startTransforms || this.setTransform(t, e),
          this.resetStyle(e),
          rt(t, "onBeforeRender", nt(t, e, { isPinch: !!e.isPinch }));
      },
      dragEnd: function (t, e) {
        e.datas.startTransforms || (this.setTransform(t, e), this.resetStyle(e)),
          rt(
            t,
            "onBeforeRenderEnd",
            nt(t, e, { isPinch: !!e.isPinch, isDrag: e.isDrag })
          );
      },
      dragGroupStart: function (t, e) {
        var n = this,
          r = (this.dragStart(t, e), kr(t, "beforeRenderable", e)),
          i = t.moveables,
          r = r.map(function (t, e) {
            e = i[e];
            return n.setTransform(e, t), n.resetStyle(t), n.fillDragStartParams(e, t);
          });
        rt(
          t,
          "onBeforeRenderGroupStart",
          nt(t, e, {
            isPinch: !!e.isPinch,
            targets: t.props.targets,
            setTransform: function () {},
            events: r,
          })
        );
      },
      dragGroup: function (t, e) {
        var n = this,
          r = (this.drag(t, e), kr(t, "beforeRenderable", e)),
          i = t.moveables,
          r = r.map(function (t, e) {
            e = i[e];
            return n.resetStyle(t), n.fillDragParams(e, t);
          });
        rt(
          t,
          "onBeforeRenderGroup",
          nt(t, e, { isPinch: !!e.isPinch, targets: t.props.targets, events: r })
        );
      },
      dragGroupEnd: function (t, e) {
        this.dragEnd(t, e),
          rt(
            t,
            "onBeforeRenderGroupEnd",
            nt(t, e, {
              isPinch: !!e.isPinch,
              isDrag: e.isDrag,
              targets: t.props.targets,
            })
          );
      },
      dragControlStart: function (t, e) {
        return this.dragStart(t, e);
      },
      dragControl: function (t, e) {
        return this.drag(t, e);
      },
      dragControlEnd: function (t, e) {
        return this.dragEnd(t, e);
      },
      dragGroupControlStart: function (t, e) {
        return this.dragGroupStart(t, e);
      },
      dragGroupControl: function (t, e) {
        return this.dragGroup(t, e);
      },
      dragGroupControlEnd: function (t, e) {
        return this.dragGroupEnd(t, e);
      },
    },
    qa = {
      name: "renderable",
      props: [],
      events: [
        "renderStart",
        "render",
        "renderEnd",
        "renderGroupStart",
        "renderGroup",
        "renderGroupEnd",
      ],
      dragRelation: "weak",
      dragStart: function (t, e) {
        rt(t, "onRenderStart", nt(t, e, { isPinch: !!e.isPinch }));
      },
      drag: function (t, e) {
        rt(t, "onRender", this.fillDragParams(t, e));
      },
      dragAfter: function (t, e) {
        return this.drag(t, e);
      },
      dragEnd: function (t, e) {
        rt(t, "onRenderEnd", this.fillDragEndParams(t, e));
      },
      dragGroupStart: function (t, e) {
        rt(
          t,
          "onRenderGroupStart",
          nt(t, e, { isPinch: !!e.isPinch, targets: t.props.targets })
        );
      },
      dragGroup: function (t, e) {
        var n = this,
          r = kr(t, "beforeRenderable", e),
          i = t.moveables,
          r = r.map(function (t, e) {
            e = i[e];
            return n.fillDragParams(e, t);
          });
        rt(
          t,
          "onRenderGroup",
          nt(
            t,
            e,
            Q(
              Q(
                {
                  isPinch: !!e.isPinch,
                  targets: t.props.targets,
                  transform: Cr(e),
                  transformObject: {},
                },
                et(Dr(e))
              ),
              { events: r }
            )
          )
        );
      },
      dragGroupEnd: function (t, e) {
        var n = this,
          r = kr(t, "beforeRenderable", e),
          i = t.moveables,
          r = r.map(function (t, e) {
            e = i[e];
            return n.fillDragEndParams(e, t);
          });
        rt(
          t,
          "onRenderGroupEnd",
          nt(
            t,
            e,
            Q(
              {
                isPinch: !!e.isPinch,
                isDrag: e.isDrag,
                targets: t.props.targets,
                events: r,
                transformObject: {},
                transform: Cr(e),
              },
              et(Dr(e))
            )
          )
        );
      },
      dragControlStart: function (t, e) {
        return this.dragStart(t, e);
      },
      dragControl: function (t, e) {
        return this.drag(t, e);
      },
      dragControlAfter: function (t, e) {
        return this.dragAfter(t, e);
      },
      dragControlEnd: function (t, e) {
        return this.dragEnd(t, e);
      },
      dragGroupControlStart: function (t, e) {
        return this.dragGroupStart(t, e);
      },
      dragGroupControl: function (t, e) {
        return this.dragGroup(t, e);
      },
      dragGroupControlEnd: function (t, e) {
        return this.dragGroupEnd(t, e);
      },
      fillDragParams: function (t, e) {
        var n = {};
        return (
          Ze(Sr(e) || []).forEach(function (t) {
            n[t.name] = t.functionValue;
          }),
          nt(
            t,
            e,
            Q({ isPinch: !!e.isPinch, transformObject: n, transform: Cr(e) }, et(Dr(e)))
          )
        );
      },
      fillDragEndParams: function (t, e) {
        var n = {};
        return (
          Ze(Sr(e) || []).forEach(function (t) {
            n[t.name] = t.functionValue;
          }),
          nt(
            t,
            e,
            Q(
              {
                isPinch: !!e.isPinch,
                isDrag: e.isDrag,
                transformObject: n,
                transform: Cr(e),
              },
              et(Dr(e))
            )
          )
        );
      },
    };
  function ja(i, t, e, o, a, s, n) {
    (s.clientDistX = s.distX), (s.clientDistY = s.distY);
    var u,
      r,
      c,
      l,
      f,
      p,
      d,
      h,
      g,
      v,
      m,
      b = "Start" === a,
      x = "End" === a,
      y = "After" === a,
      E = i.state.target,
      S = s.isRequest,
      C = -1 < o.indexOf("Control");
    return !(
      !E ||
      (b && C && !S && i.areaElement === s.inputEvent.target) ||
      ((u = tt([], i[t], !0)),
      S &&
        ((r = s.requestAble),
        u.some(function (t) {
          return t.name === r;
        }) ||
          u.push.apply(
            u,
            i.props.ables.filter(function (t) {
              return t.name === r;
            })
          )),
      !u.length) ||
      u.every(function (t) {
        return t.dragRelation;
      }) ||
      ((E = s.inputEvent),
      x && E && (c = document.elementFromPoint(s.clientX, s.clientY) || E.target),
      (l = !1),
      (f = function () {
        var t;
        (l = !0), null != (t = s.stop) && t.call(s);
      }),
      (E = !(
        !b ||
        (i.targetGesto &&
          i.controlGesto &&
          i.targetGesto.isFlag() &&
          i.controlGesto.isFlag())
      )) && i.updateRect(a, !0, !1),
      (p = s.datas),
      (h = i[(d = C ? "controlGesto" : "targetGesto")]),
      (g = function (t, e, n) {
        var r;
        return (
          e in t &&
          h === i[d] &&
          ((r = t.name),
          (r = p[r] || (p[r] = {})),
          b && (r.isEventStart = !n || !t[n] || t[n](i, s)),
          !!r.isEventStart) &&
          ((n = t[e](
            i,
            Q(Q({}, s), { stop: f, datas: r, originalDatas: p, inputTarget: c })
          )),
          i._emitter.off(),
          b && !1 === n && (r.isEventStart = !1),
          n)
        );
      }),
      E &&
        u.forEach(function (t) {
          t.unset && t.unset(i);
        }),
      g(Xa, "drag".concat(o).concat(a)),
      (m = v = 0),
      e.forEach(function (t) {
        if (l) return !1;
        var e = "".concat(t).concat(o).concat(a),
          n = "".concat(t).concat(o, "Condition"),
          r =
            ("" !== a || S || Wo(i.state, s),
            u.filter(function (t) {
              return t[e];
            })),
          t = (r = r.filter(function (t, e) {
            return t.name && r.indexOf(t) === e;
          })).filter(function (t) {
            return g(t, e, n);
          }).length;
        l && ++v,
          t && ++m,
          !l &&
            b &&
            r.length &&
            !t &&
            (v += r.filter(function (t) {
              var e = t.name;
              return !!p[e].isEventStart && "strong" !== t.dragRelation;
            }).length
              ? 1
              : 0);
      }),
      (y && !m) || g(qa, "drag".concat(o).concat(a)),
      (C = h !== i[d] || v === e.length),
      (x || l || C) &&
        ((i.state.gestos = {}),
        i.moveables &&
          i.moveables.forEach(function (t) {
            t.state.gestos = {};
          }),
        u.forEach(function (t) {
          t.unset && t.unset(i);
        })),
      b && !C && !S && m && i.props.preventDefault && null != s && s.preventDefault(),
      i.isUnmounted) ||
      C ||
      (((!b && m && !n) || x) &&
        (i.props.flushSync || oo)(function () {
          i.updateRect(x ? a : "", !0, !1), i.forceUpdate();
        }),
      b || x || y || !m || n || ja(i, t, e, o, a + "After", s),
      0)
    );
  }
  function Wa(i) {
    return function (t) {
      var e,
        t = t.inputEvent.target,
        n = i.areaElement,
        r = i._dragTarget;
      return (
        !(!r || (null != (e = i.controlGesto) && e.isFlag())) &&
        (t === r ||
          r.contains(t) ||
          t === n ||
          (!i.isMoveableElement(t) && !i.controlBox.contains(t)) ||
          T(t, "moveable-area") ||
          T(t, "moveable-padding") ||
          T(t, "moveable-edgeDraggable"))
      );
    };
  }
  function Ha(t, e, n) {
    var r = t.controlBox,
      i = [],
      o = t.props.dragTarget;
    return (
      i.push(r),
      (t.props.dragArea && !o) || i.push(e),
      La(t, i, "targetAbles", n, { dragStart: Wa(t), pinchStart: Wa(t) })
    );
  }
  function La(o, t, a, s, u) {
    void 0 === u && (u = {});
    var e = "targetAbles" === a,
      n = o.props,
      r = n.pinchOutside,
      i = n.pinchThreshold,
      c = n.preventClickEventOnDrag,
      l = n.preventClickDefault,
      f = n.checkInput,
      p = n.dragFocusedInput,
      d = n.preventDefault,
      d = {
        preventDefault: void 0 === d || d,
        preventRightClick: !0,
        preventWheelClick: !0,
        container: Zo(n.dragContainer, !0) || Ot(o.getControlBoxElement()),
        pinchThreshold: i,
        pinchOutside: r,
        preventClickEventOnDrag: e && c,
        preventClickEventOnDragStart: e && l,
        preventClickEventByCondition: e
          ? null
          : function (t) {
              return o.controlBox.contains(t.target);
            },
        checkInput: e && f,
        dragFocusedInput: p,
      },
      h = new On(t, d),
      g = "Control" === s;
    return (
      ["drag", "pinch"].forEach(function (i) {
        ["Start", "", "End"].forEach(function (r) {
          h.on("".concat(i).concat(r), function (t) {
            var e = t.eventType,
              n = "drag" === i && t.isPinch;
            u[e] && !u[e](t)
              ? t.stop()
              : n ||
                (ja(o, a, "drag" === i ? [i] : ["drag", i], s, r, t)
                  ? (o.props.stopPropagation || ("Start" === r && g)) &&
                    null != (e = null == t ? void 0 : t.inputEvent) &&
                    e.stopPropagation()
                  : t.stop());
          });
        });
      }),
      h
    );
  }
  var Va = (function () {
    function t(t, e, n) {
      var i = this;
      (this.target = t),
        (this.moveable = e),
        (this.eventName = n),
        (this.ables = []),
        (this._onEvent = function (e) {
          var n = i.eventName,
            r = i.moveable;
          r.state.disableNativeEvent ||
            i.ables.forEach(function (t) {
              t[n](r, { inputEvent: e });
            });
        }),
        t.addEventListener(n.toLowerCase(), this._onEvent);
    }
    var e = t.prototype;
    return (
      (e.setAbles = function (t) {
        this.ables = t;
      }),
      (e.destroy = function () {
        this.target.removeEventListener(this.eventName.toLowerCase(), this._onEvent),
          (this.target = null),
          (this.moveable = null);
      }),
      t
    );
  })();
  function Ua(t, e, n, r) {
    void 0 === n && (n = e);
    var e = Rr(t, e),
      i = e.matrixes,
      o = e.is3d,
      a = e.targetMatrix,
      s = e.transformOrigin,
      u = e.targetOrigin,
      c = e.offsetContainer,
      l = e.hasFixed,
      e = e.zoom,
      f = (function (e, n) {
        if (zr) {
          var t = _(zr, function (t) {
            return t[0][0] == e && t[0][1] == n;
          });
          if (t) return t[1];
        }
        return (t = Rr(e, n, !0)), zr && zr.push([[e, n], t]), t;
      })(c, n),
      p = f.matrixes,
      d = f.is3d,
      h = f.offsetContainer,
      f = f.zoom,
      r = r || d || o,
      g = r ? 4 : 3,
      v = "svg" !== t.tagName.toLowerCase() && "ownerSVGElement" in t,
      m = Y(g),
      b = Y(g),
      x = Y(g),
      y = Y(g),
      E = i.length,
      p = p
        .map(function (t) {
          return Q(Q({}, t), { matrix: t.matrix ? tt([], t.matrix, !0) : void 0 });
        })
        .reverse(),
      d =
        (i.reverse(),
        !o && r && ((a = Ge(a, 3, 4)), fo(i)),
        !d && r && fo(p),
        p.forEach(function (t) {
          b = K(b, t.matrix, g);
        }),
        n || Mt(t)),
      S = (null == (n = p[0]) ? void 0 : n.target) || co(d, d, !0).offsetParent,
      C = p.slice(1).reduce(function (t, e) {
        return K(t, e.matrix, g);
      }, Y(g)),
      n =
        (i.forEach(function (t, e) {
          E - 2 === e && (x = m.slice()),
            E - 1 === e && (y = m.slice()),
            t.matrix ||
              ((e = (function (t, e, n, r, i) {
                var o = t.target,
                  t = t.origin,
                  a = e.matrix,
                  s = (e = Co(o)).offsetWidth,
                  u = e.offsetHeight,
                  e = n.getBoundingClientRect(),
                  c = [0, 0];
                n === Mt(n) && (c = lo(o, !0));
                for (
                  var l =
                      (o = o.getBoundingClientRect()).left -
                      e.left +
                      n.scrollLeft -
                      (n.clientLeft || 0) +
                      c[0],
                    f = o.top - e.top + n.scrollTop - (n.clientTop || 0) + c[1],
                    e = o.width,
                    n = o.height,
                    c = ke(r, i, a),
                    p = (o = mo(c, s, u, r)).left,
                    d = o.top,
                    h = o.width,
                    o = o.height,
                    g = I(c, t, r),
                    c = G(g, [p, d]),
                    v = [l + (c[0] * e) / h, f + (c[1] * n) / o],
                    m = [0, 0],
                    b = 0;
                  ++b < 10;

                ) {
                  var x = Pe(i, r),
                    x = G(I(x, v, r), I(x, g, r));
                  (m[0] = x[0]), (m[1] = x[1]);
                  var x = mo(ke(r, i, He(m, r), a), s, u, r),
                    y = x.left - l,
                    x = x.top - f;
                  if (it(y) < 2 && it(x) < 2) break;
                  (v[0] -= y), (v[1] -= x);
                }
                return m.map(function (t) {
                  return Math.round(t);
                });
              })(t, i[e + 1], S, g, K(C, m, g))),
              (t.matrix = He(e, g))),
            (m = K(m, t.matrix, g));
        }),
        !v && o),
      a = a || Y(n ? 4 : 3),
      d = po(v && 16 === a.length ? Ge(a, 4, 3) : a, n),
      p = b,
      b = Re(b, g, g);
    return {
      hasZoom: 1 !== e || 1 !== f,
      hasFixed: l,
      matrixes: i,
      rootMatrix: b,
      originalRootMatrix: p,
      beforeMatrix: x,
      offsetMatrix: y,
      allMatrix: m,
      targetMatrix: a,
      targetTransform: d,
      inlineTransform: t.style.transform,
      transformOrigin: s,
      targetOrigin: u,
      is3d: r,
      offsetContainer: c,
      offsetRootContainer: h,
    };
  }
  function $a(t, e, n, r) {
    void 0 === n && (n = e);
    var i = 0,
      o = 0,
      a = 0,
      s = {},
      u = Co(t),
      e =
        (t && ((i = u.offsetWidth), (o = u.offsetHeight)),
        t &&
          ((e = ar((t = Ua(t, e, n, r)).allMatrix, t.transformOrigin, i, o)),
          (s = Q(Q({}, t), e)),
          (a = Do(
            [(n = ar(t.allMatrix, [50, 50], 100, 100)).pos1, n.pos2],
            n.direction
          ))),
        r ? 4 : 3);
    return Q(
      Q(Q({ hasZoom: !1, width: i, height: o, rotation: a }, u), {
        originalRootMatrix: Y(e),
        rootMatrix: Y(e),
        beforeMatrix: Y(e),
        offsetMatrix: Y(e),
        allMatrix: Y(e),
        targetMatrix: Y(e),
        targetTransform: "",
        inlineTransform: "",
        transformOrigin: [0, 0],
        targetOrigin: [0, 0],
        is3d: !!r,
        left: 0,
        top: 0,
        right: 0,
        bottom: 0,
        origin: [0, 0],
        pos1: [0, 0],
        pos2: [0, 0],
        pos3: [0, 0],
        pos4: [0, 0],
        direction: 1,
        hasFixed: !1,
        offsetContainer: null,
        offsetRootContainer: null,
        matrixes: [],
      }),
      s
    );
  }
  function Za(t, e, n, r, i, o) {
    void 0 === o && (o = []);
    var a,
      s = 1,
      u = [0, 0],
      c = wo(),
      l = wo(),
      f = wo(),
      p = wo(),
      d = [0, 0],
      h = {},
      n = $a(e, n, i, !0);
    return (
      e &&
        ((a = X(e)),
        o.forEach(function (t) {
          h[t] = a(t);
        }),
        (i = n.is3d ? 4 : 3),
        (s = (o = ar(
          n.offsetMatrix,
          J(n.transformOrigin, Te(n.targetMatrix, i)),
          n.width,
          n.height
        )).direction),
        (u = J(o.origin, [o.left - n.left, o.top - n.top])),
        (p = Oo(n.offsetRootContainer)),
        (i = co(r, r, !0).offsetParent || n.offsetRootContainer),
        n.hasZoom
          ? ((o = ar(
              K(n.originalRootMatrix, n.allMatrix),
              n.transformOrigin,
              n.width,
              n.height
            )),
            (r = ar(
              n.originalRootMatrix,
              so(X(i)("transformOrigin")).map(function (t) {
                return parseFloat(t);
              }),
              i.offsetWidth,
              i.offsetHeight
            )),
            (c = Mo(o, p)),
            (f = Mo(r, p, i, !0)),
            t && (l = Mo({ left: o.left, top: (r = o.top), bottom: r, right: r }, p)))
          : ((c = Oo(e)),
            (o = i),
            (f =
              (r = null == Tr ? void 0 : Tr.get(o)) ||
              ((r = Oo(o, !0)), Tr && Tr.set(o, r), r)),
            t && (l = Oo(t)),
            (i = f.left),
            (o = f.top),
            (r = f.clientLeft),
            (t = f.clientTop),
            (i = [c.left - i, c.top - o]),
            (d = G(jo(n.rootMatrix, i, 4), [r + n.left, t + n.top])))),
      Q(
        {
          targetClientRect: c,
          containerClientRect: f,
          moveableClientRect: l,
          rootContainerClientRect: p,
          beforeDirection: s,
          beforeOrigin: u,
          originalBeforeOrigin: u,
          target: e,
          style: h,
          offsetDelta: d,
        },
        n
      )
    );
  }
  function Ka(t) {
    var e,
      n,
      r = t.pos1,
      i = t.pos2,
      o = t.pos3,
      a = t.pos4;
    return r && i && o && a
      ? ((e = [(e = pn([r, i, o, a])).minX, e.minY]),
        (n = G(t.origin, e)),
        (r = G(r, e)),
        (i = G(i, e)),
        (o = G(o, e)),
        (a = G(a, e)),
        Q(Q({}, t), {
          left: t.left,
          top: t.top,
          posDelta: e,
          pos1: r,
          pos2: i,
          pos3: o,
          pos4: a,
          origin: n,
          beforeOrigin: n,
          isPersisted: !0,
        }))
      : null;
  }
  var Ja = (function (t) {
      function e() {
        var e = (null !== t && t.apply(this, arguments)) || this;
        return (
          (e.state = Q(
            {
              container: null,
              gestos: {},
              renderPoses: [
                [0, 0],
                [0, 0],
                [0, 0],
                [0, 0],
              ],
              disableNativeEvent: !1,
              posDelta: [0, 0],
            },
            Za(null)
          )),
          (e.renderState = {}),
          (e.enabledAbles = []),
          (e.targetAbles = []),
          (e.controlAbles = []),
          (e.rotation = 0),
          (e.scale = [1, 1]),
          (e.isMoveableMounted = !1),
          (e.isUnmounted = !1),
          (e.events = { mouseEnter: null, mouseLeave: null }),
          (e._emitter = new nn()),
          (e._prevDragTarget = null),
          (e._dragTarget = null),
          (e._prevDragArea = !1),
          (e._isPropTargetChanged = !1),
          (e._hasFirstTarget = !1),
          (e._reiszeObserver = null),
          (e._observerId = 0),
          (e._mutationObserver = null),
          (e._rootContainer = null),
          (e._viewContainer = null),
          (e._viewClassNames = []),
          (e._store = {}),
          (e.checkUpdateRect = function () {
            var t;
            e.isDragging() ||
              ((t = e.props.parentMoveable)
                ? t.checkUpdateRect()
                : (dt(e._observerId),
                  (e._observerId = pt(function () {
                    e.isDragging() || e.updateRect();
                  }))));
          }),
          (e._onPreventClick = function (t) {
            t.stopPropagation(), t.preventDefault();
          }),
          e
        );
      }
      An(e, t);
      var n = e.prototype;
      return (
        (n.render = function () {
          var t = this.props,
            e = this.getState(),
            n = t.parentPosition,
            r = t.className,
            i = t.target,
            o = t.zoom,
            a = t.cspNonce,
            s = t.translateZ,
            u = t.cssStyled,
            c = t.groupable,
            l = t.linePadding,
            f = t.controlPadding,
            n =
              (this._checkUpdateRootContainer(),
              this.checkUpdate(),
              this.updateRenderPoses(),
              n || [0, 0]),
            p = n[0],
            n = n[1],
            d = e.left,
            h = e.top,
            g = e.target,
            v = e.direction,
            m = e.hasFixed,
            e = e.offsetDelta,
            b = t.targets,
            x = this.isDragging(),
            y = {},
            E =
              (this.getEnabledAbles().forEach(function (t) {
                y["data-able-".concat(t.name.toLowerCase())] = !0;
              }),
              this._getAbleClassName()),
            b =
              (b && b.length && (g || c)) ||
              i ||
              (!this._hasFirstTarget && this.state.isPersisted),
            g =
              this.controlBox || this.props.firstRenderState || this.props.persistData,
            i = [d - p, h - n],
            d =
              (!c && t.useAccuratePosition && ((i[0] += e[0]), (i[1] += e[1])),
              {
                position: m ? "fixed" : "absolute",
                display: b ? "block" : "none",
                visibility: g ? "visible" : "hidden",
                transform: "translate3d("
                  .concat(i[0], "px, ")
                  .concat(i[1], "px, ")
                  .concat(s, ")"),
                "--zoom": o,
                "--zoompx": "".concat(o, "px"),
              });
          return (
            l && (d["--moveable-line-padding"] = l),
            f && (d["--moveable-control-padding"] = f),
            se(
              u,
              Q(
                {
                  cspNonce: a,
                  ref: S(this, "controlBox"),
                  className: ""
                    .concat(
                      B("control-box", -1 === v ? "reverse" : "", x ? "dragging" : ""),
                      " "
                    )
                    .concat(E, " ")
                    .concat(r),
                },
                y,
                { onClick: this._onPreventClick, style: d }
              ),
              this.renderAbles(),
              this._renderLines()
            )
          );
        }),
        (n.componentDidMount = function () {
          (this.isMoveableMounted = !0), (this.isUnmounted = !1);
          var t = this.props,
            e = t.parentMoveable,
            t = t.container;
          this._checkUpdateRootContainer(),
            this._checkUpdateViewContainer(),
            this._updateTargets(),
            this._updateNativeEvents(),
            this._updateEvents(),
            this.updateCheckInput(),
            this._updateObserver(this.props),
            t ||
              e ||
              this.state.isPersisted ||
              (this.updateRect("", !1, !1), this.forceUpdate());
        }),
        (n.componentDidUpdate = function (t) {
          this._checkUpdateRootContainer(),
            this._checkUpdateViewContainer(),
            this._updateNativeEvents(),
            this._updateTargets(),
            this._updateEvents(),
            this.updateCheckInput(),
            this._updateObserver(t);
        }),
        (n.componentWillUnmount = function () {
          var t;
          (this.isMoveableMounted = !1),
            (this.isUnmounted = !0),
            this._emitter.off(),
            null != (t = this._reiszeObserver) && t.disconnect(),
            null != (t = this._mutationObserver) && t.disconnect();
          this._viewContainer && this._changeAbleViewClassNames([]),
            ko(this, !1),
            ko(this, !0);
          var e,
            n = this.events;
          for (e in n) {
            var r = n[e];
            r && r.destroy();
          }
        }),
        (n.getTargets = function () {
          var t = this.props.target;
          return t ? [t] : [];
        }),
        (n.getAble = function (e) {
          return _(this.props.ables || [], function (t) {
            return t.name === e;
          });
        }),
        (n.getContainer = function () {
          var t = this.props,
            e = t.parentMoveable,
            n = t.wrapperMoveable;
          return (
            t.container ||
            (n && n.getContainer()) ||
            (e && e.getContainer()) ||
            this.controlBox.parentElement
          );
        }),
        (n.getControlBoxElement = function () {
          return this.controlBox;
        }),
        (n.isMoveableElement = function (t) {
          var e;
          return (
            t &&
            -1 <
              (
                (null == (e = t.getAttribute) ? void 0 : e.call(t, "class")) || ""
              ).indexOf(Un)
          );
        }),
        (n.dragStart = function (t) {
          var e = this.targetGesto,
            n = this.controlGesto;
          return (
            e && Wa(this)({ inputEvent: t })
              ? e.isFlag() || e.triggerDragStart(t)
              : n &&
                this.isMoveableElement(t.target) &&
                (n.isFlag() || n.triggerDragStart(t)),
            this
          );
        }),
        (n.hitTest = function (t) {
          var e,
            n,
            r = this.state,
            i = r.target,
            o = r.pos1,
            a = r.pos2,
            s = r.pos3,
            u = r.pos4,
            r = r.targetClientRect;
          return i &&
            ((t = (i = Rt(t)
              ? {
                  left: (i = t.getBoundingClientRect()).left,
                  top: i.top,
                  width: i.width,
                  height: i.height,
                }
              : Q({ width: 0, height: 0 }, t)).left),
            (e = i.top),
            (n = i.width),
            (i = i.height),
            (a = ln(
              bn((o = fn([o, a, u, s], r)), [
                [t, e],
                [t + n, e],
                [t + n, e + i],
                [t, e + i],
              ])
            )),
            (u = ln(o)),
            a) &&
            u
            ? Math.min(100, (a / u) * 100)
            : 0;
        }),
        (n.isInside = function (t, e) {
          var n = this.state,
            r = n.target,
            i = n.pos1,
            o = n.pos2,
            a = n.pos3,
            s = n.pos4,
            n = n.targetClientRect;
          return !!r && dn([t, e], fn([i, o, s, a], n));
        }),
        (n.updateRect = function (t, e, n) {
          void 0 === n && (n = !0);
          var r = this.props,
            i = !r.parentPosition && !r.wrapperMoveable,
            o = (i && Gr(!0), r.parentMoveable),
            a = this.state.target || r.target,
            s = this.getContainer(),
            u = (o || this)._rootContainer,
            c = Za(this.controlBox, a, s, s, u || s, this._getRequestStyles());
          if (!a && this._hasFirstTarget && r.persistData) {
            var l,
              f = Ka(r.persistData);
            for (l in f) c[l] = f[l];
          }
          i && Gr(), this.updateState(c, !o && n);
        }),
        (n.isDragging = function (t) {
          var e = this.targetGesto,
            n = this.controlGesto;
          return null != e && e.isFlag()
            ? !t || !(null == (e = e.getEventData()[t]) || !e.isEventStart)
            : !(
                null == n ||
                !n.isFlag() ||
                (t && (null == (e = n.getEventData()[t]) || !e.isEventStart))
              );
        }),
        (n.updateTarget = function (t) {
          this.updateRect(t, !0);
        }),
        (n.getRect = function () {
          var t = this.state,
            e = zo(this.state),
            n = e[0],
            r = e[1],
            i = e[2],
            o = e[3],
            e = vo(e),
            a = t.width,
            s = t.height,
            u = e.width,
            c = e.height,
            l = e.left,
            e = e.top,
            f = [t.left, t.top],
            p = J(f, t.origin);
          return {
            width: u,
            height: c,
            left: l,
            top: e,
            pos1: n,
            pos2: r,
            pos3: i,
            pos4: o,
            offsetWidth: a,
            offsetHeight: s,
            beforeOrigin: J(f, t.beforeOrigin),
            origin: p,
            transformOrigin: t.transformOrigin,
            rotation: this.getRotation(),
          };
        }),
        (n.getManager = function () {
          return this;
        }),
        (n.stopDrag = function (t) {
          var e;
          (t && "target" !== t) ||
            (!1 === (null == (e = this.targetGesto) ? void 0 : e.isIdle()) &&
              Go(this, !1),
            null != e && e.stop()),
            (t && "control" !== t) ||
              (!1 === (null == (e = this.controlGesto) ? void 0 : e.isIdle()) &&
                Go(this, !0),
              null != e && e.stop());
        }),
        (n.getRotation = function () {
          var t = this.state,
            e = t.pos1,
            n = t.pos2,
            t = t.direction;
          return (
            (t = t),
            (e = (F((e = e), n) / Math.PI) * 180),
            0 <= (e = 0 <= t ? e : 180 - e) ? e : 360 + e
          );
        }),
        (n.request = function (e, t, n) {
          void 0 === t && (t = {});
          var r,
            i,
            o,
            a,
            s,
            u = this.props,
            c = u.ables,
            u = u.groupable,
            c = c.filter(function (t) {
              return t.name === e;
            })[0];
          return !this.isDragging() && c && c.request
            ? ((i = c.request((r = this))),
              (o = n || t.isInstant),
              (a = i.isControl ? "controlAbles" : "targetAbles"),
              (s = "".concat(u ? "Group" : "").concat(i.isControl ? "Control" : "")),
              (c = {
                request: function (t) {
                  return (
                    ja(
                      r,
                      a,
                      ["drag"],
                      s,
                      "",
                      Q(Q({}, i.request(t)), { requestAble: e, isRequest: !0 }),
                      o
                    ),
                    this
                  );
                },
                requestEnd: function () {
                  return (
                    ja(
                      r,
                      a,
                      ["drag"],
                      s,
                      "End",
                      Q(Q({}, i.requestEnd()), { requestAble: e, isRequest: !0 }),
                      o
                    ),
                    this
                  );
                },
              }),
              ja(
                r,
                a,
                ["drag"],
                s,
                "Start",
                Q(Q({}, i.requestStart(t)), { requestAble: e, isRequest: !0 }),
                o
              ),
              o ? c.request(t).requestEnd() : c)
            : {
                request: function () {
                  return this;
                },
                requestEnd: function () {
                  return this;
                },
              };
        }),
        (n.destroy = function () {
          this.componentWillUnmount();
        }),
        (n.updateRenderPoses = function () {
          var t,
            e,
            n,
            r = this.getState(),
            i = this.props,
            o = i.padding,
            a = r.originalBeforeOrigin,
            s = r.transformOrigin,
            u = r.allMatrix,
            c = r.is3d,
            l = r.pos1,
            f = r.pos2,
            p = r.pos3,
            d = r.pos4,
            h = r.left,
            g = r.top,
            v = r.isPersisted;
          o
            ? ((t = (o = oa(o)).left),
              (e = o.top),
              (n = o.bottom),
              (o = o.right),
              (v = ke(
                (c = c ? 4 : 3),
                He(
                  (v ? s : this.controlBox && i.groupable ? a : J(a, [h, g])).map(
                    function (t) {
                      return -t;
                    }
                  ),
                  c
                ),
                u,
                He(s, c)
              )),
              (r.renderPoses = [
                Ho(v, l, [-t, -e], c),
                Ho(v, f, [o, -e], c),
                Ho(v, p, [-t, n], c),
                Ho(v, d, [o, n], c),
              ]))
            : (r.renderPoses = [l, f, p, d]);
        }),
        (n.checkUpdate = function () {
          this._isPropTargetChanged = !1;
          var t = this.props,
            e = t.target,
            n = t.container,
            t = t.parentMoveable,
            r = this.state,
            i = r.target,
            r = r.container;
          (i || e) &&
            (this.updateAbles(), (i = !No(i, e)) || !No(r, n)) &&
            ((r = n || this.controlBox) && this.unsetAbles(),
            this.updateState({ target: e, container: n }),
            !t && r && this.updateRect("End", !1, !1),
            (this._isPropTargetChanged = i));
        }),
        (n.waitToChangeTarget = function () {
          return new Promise(function () {});
        }),
        (n.triggerEvent = function (t, e) {
          this._emitter.trigger(t, e);
          t = this.props[t];
          return t && t(e);
        }),
        (n.useCSS = function (t, e) {
          var n = this.props.customStyledMap,
            r = t + e;
          return n[r] || (n[r] = Gn(t, e)), n[r];
        }),
        (n.getState = function () {
          var t = this.props,
            e =
              ((t.target || (null != (e = t.targets) && e.length)) &&
                (this._hasFirstTarget = !0),
              this.controlBox),
            n = t.persistData,
            t = t.firstRenderState;
          if (t && !e) return t;
          if (!this._hasFirstTarget && n) {
            e = Ka(n);
            if (e) return this.updateState(e, !1), this.state;
          }
          return (this.state.isPersisted = !1), this.state;
        }),
        (n.updateSelectors = function () {}),
        (n.unsetAbles = function () {
          var e = this;
          this.targetAbles.forEach(function (t) {
            t.unset && t.unset(e);
          });
        }),
        (n.updateAbles = function (t, e) {
          void 0 === t && (t = this.props.ables), void 0 === e && (e = "");
          var n = this.props.triggerAblesSimultaneously,
            t = this.getEnabledAbles(t),
            r = "drag".concat(e, "Start"),
            i = "pinch".concat(e, "Start"),
            e = "drag".concat(e, "ControlStart"),
            r = Fo(t, [r, i], n),
            i = Fo(t, [e], n);
          (this.enabledAbles = t), (this.targetAbles = r), (this.controlAbles = i);
        }),
        (n.updateState = function (t, e) {
          if (e) this.isUnmounted || this.setState(t);
          else {
            var n,
              r = this.state;
            for (n in t) r[n] = t[n];
          }
        }),
        (n.getEnabledAbles = function (t) {
          void 0 === t && (t = this.props.ables);
          var e = this.props;
          return t.filter(function (t) {
            return t && ((t.always && !1 !== e[t.name]) || e[t.name]);
          });
        }),
        (n.renderAbles = function () {
          var r,
            i,
            o,
            a,
            e = this,
            t = this.props.triggerAblesSimultaneously,
            n = { createElement: se };
          return (
            (this.renderState = {}),
            (r = Xo(
              Fo(this.getEnabledAbles(), ["render"], t).map(function (t) {
                return (0, t.render)(e, n) || [];
              })
            ).filter(function (t) {
              return t;
            })),
            (i = function (t) {
              return t.key;
            }),
            (o = []),
            (a = {}),
            r.forEach(function (t, e) {
              var e = i(t, e, r),
                n = a[e];
              n || ((a[e] = n = []), o.push(n)), n.push(t);
            }),
            o.map(function (t) {
              return t[0];
            })
          );
        }),
        (n.updateCheckInput = function () {
          this.targetGesto &&
            (this.targetGesto.options.checkInput = this.props.checkInput);
        }),
        (n._getRequestStyles = function () {
          return this.getEnabledAbles().reduce(function (t, e) {
            var n,
              e =
                null != (n = null == (n = e.requestStyle) ? void 0 : n.call(e))
                  ? n
                  : [];
            return tt(tt([], t, !0), e, !0);
          }, tt([], this.props.requestStyles || [], !0));
        }),
        (n._updateObserver = function (t) {
          this._updateResizeObserver(t), this._updateMutationObserver(t);
        }),
        (n._updateEvents = function () {
          var t = this.controlBox,
            e = this.targetAbles.length,
            n = this.controlAbles.length,
            r = this._dragTarget;
          ((!e && this.targetGesto) || this._isTargetChanged(!0)) &&
            (ko(this, !1), this.updateState({ gestos: {} })),
            n || ko(this, !0),
            r && e && !this.targetGesto && (this.targetGesto = Ha(this, r, "")),
            !this.controlGesto &&
              n &&
              (this.controlGesto = La(this, t, "controlAbles", "Control"));
        }),
        (n._updateTargets = function () {
          var t = this.props;
          (this._prevDragTarget = t.dragTarget || t.target),
            (this._dragTarget = Zo(this._prevDragTarget, !0)),
            (this._prevDragArea = t.dragArea);
        }),
        (n._renderLines = function () {
          var r,
            i,
            t = this.props,
            o = t.zoom,
            e = t.hideDefaultLines,
            n = t.hideChildMoveableDefaultLines,
            t = t.parentMoveable;
          return e || (t && n)
            ? []
            : ((r = this.getState().renderPoses),
              (i = { createElement: se }),
              [
                [0, 1],
                [1, 3],
                [3, 2],
                [2, 0],
              ].map(function (t, e) {
                var n = t[0],
                  t = t[1];
                return Yr(i, "", r[n], r[t], o, "render-line-".concat(e));
              }));
        }),
        (n._isTargetChanged = function (t) {
          var e = this.props,
            n = e.dragTarget || e.target,
            r = this._prevDragTarget,
            i = this._prevDragArea,
            e = e.dragArea;
          return (!e && r !== n) || ((t || e) && i !== e);
        }),
        (n._updateNativeEvents = function () {
          var i,
            o = this,
            a = this.props.dragArea ? this.areaElement : this.state.target,
            s = this.events,
            t = ht(s);
          if (this._isTargetChanged())
            for (var e in s) {
              var n = s[e];
              n && n.destroy(), (s[e] = null);
            }
          a &&
            ((i = this.enabledAbles),
            t.forEach(function (t) {
              var e = Fo(i, [t]),
                n = 0 < e.length,
                r = s[t];
              n
                ? (r || ((r = new Va(a, o, t)), (s[t] = r)), r.setAbles(e))
                : r && (r.destroy(), (s[t] = null));
            }));
        }),
        (n._checkUpdateRootContainer = function () {
          var t = this.props.rootContainer;
          !this._rootContainer && t && (this._rootContainer = Zo(t, !0));
        }),
        (n._checkUpdateViewContainer = function () {
          var t = this.props.viewContainer;
          !this._viewContainer && t && (this._viewContainer = Zo(t, !0)),
            this._viewContainer &&
              this._changeAbleViewClassNames(
                tt(
                  tt([], this._getAbleViewClassNames(), !0),
                  [this.isDragging() ? fa : ""],
                  !1
                )
              );
        }),
        (n._changeAbleViewClassNames = function (t) {
          var e = this._viewContainer,
            n = Yo(t.filter(Boolean), function (t) {
              return t;
            }).map(function (t) {
              return t[0];
            }),
            r = this._viewClassNames,
            t = At(r, n),
            i = t.removed,
            t = t.added;
          i.forEach(function (t) {
            Dt(e, r[t]);
          }),
            t.forEach(function (t) {
              Ct(e, n[t]);
            }),
            (this._viewClassNames = n);
        }),
        (n._getAbleViewClassNames = function () {
          var n = this;
          return (
            this.getEnabledAbles()
              .map(function (t) {
                var e;
                return (null == (e = t.viewClassName) ? void 0 : e.call(t, n)) || "";
              })
              .join(" ") + " ".concat(this._getAbleClassName("-view"))
          ).split(/\s+/g);
        }),
        (n._getAbleClassName = function (r) {
          var i = this,
            t = (void 0 === r && (r = ""), this.getEnabledAbles()),
            e = this.targetGesto,
            n = this.controlGesto,
            o = null != e && e.isFlag() ? e.getEventData() : {},
            a = null != n && n.isFlag() ? n.getEventData() : {};
          return t
            .map(function (t) {
              var e = t.name,
                n = (null == (n = t.className) ? void 0 : n.call(t, i)) || "";
              return (
                ((null != (t = o[e]) && t.isEventStart) ||
                  (null != (t = a[e]) && t.isEventStart)) &&
                  (n += " ".concat(B("".concat(e).concat(r, "-dragging")))),
                n.trim()
              );
            })
            .filter(Boolean)
            .join(" ");
        }),
        (n._updateResizeObserver = function (t) {
          var e = this.props,
            n = e.target,
            r = Ot(this.getControlBoxElement());
          r.ResizeObserver && n && e.useResizeObserver
            ? (t.target === n && this._reiszeObserver) ||
              ((e = new r.ResizeObserver(this.checkUpdateRect)).observe(n, {
                box: "border-box",
              }),
              (this._reiszeObserver = e))
            : null != (t = this._reiszeObserver) && t.disconnect();
        }),
        (n._updateMutationObserver = function (t) {
          var i = this,
            e = this.props,
            n = e.target,
            r = Ot(this.getControlBoxElement());
          r.MutationObserver && n && e.useMutationObserver
            ? (t.target === n && this._mutationObserver) ||
              ((e = new r.MutationObserver(function (t) {
                for (var e = 0, n = t; e < n.length; e++) {
                  var r = n[e];
                  "attributes" === r.type &&
                    "style" === r.attributeName &&
                    i.checkUpdateRect();
                }
              })).observe(n, { attributes: !0 }),
              (this._mutationObserver = e))
            : null != (t = this._mutationObserver) && t.disconnect();
        }),
        (e.defaultProps = {
          target: null,
          dragTarget: null,
          container: null,
          rootContainer: null,
          origin: !0,
          parentMoveable: null,
          wrapperMoveable: null,
          isWrapperMounted: !1,
          parentPosition: null,
          warpSelf: !1,
          svgOrigin: "",
          dragContainer: null,
          useResizeObserver: !1,
          useMutationObserver: !1,
          preventDefault: !0,
          linePadding: 0,
          controlPadding: 0,
          ables: [],
          pinchThreshold: 20,
          dragArea: !1,
          passDragArea: !1,
          transformOrigin: "",
          className: "",
          zoom: 1,
          triggerAblesSimultaneously: !1,
          padding: {},
          pinchOutside: !0,
          checkInput: !1,
          dragFocusedInput: !1,
          groupable: !1,
          hideDefaultLines: !1,
          cspNonce: "",
          translateZ: 0,
          cssStyled: null,
          customStyledMap: {},
          props: {},
          stopPropagation: !1,
          preventClickDefault: !1,
          preventClickEventOnDrag: !0,
          flushSync: oo,
          firstRenderState: null,
          persistData: null,
          viewContainer: null,
          requestStyles: [],
          useAccuratePosition: !1,
        }),
        e
      );
    })(ee),
    Qa = {
      name: "groupable",
      props: [
        "defaultGroupRotate",
        "useDefaultGroupRotate",
        "defaultGroupOrigin",
        "groupable",
        "groupableProps",
        "targetGroups",
        "hideChildMoveableDefaultLines",
      ],
      events: [],
      render: function (n, o) {
        var r = n.props,
          t = r.targets || [],
          e = n.getState(),
          i = e.left,
          a = e.top,
          e = e.isPersisted,
          s = r.zoom || 1,
          u = n.renderGroupRects,
          c = (null == (l = r.persistData) ? void 0 : l.children) || [],
          l =
            (e
              ? (t = c.map(function () {
                  return null;
                }))
              : (c = []),
            n._store),
          f = na(l, "parentPosition", [i, a], function (t) {
            return t.join(",");
          }),
          p = na(l, "requestStyles", n.getRequestChildStyles(), function (t) {
            return t.join(",");
          });
        return (
          (n.moveables = n.moveables.slice(0, t.length)),
          tt(
            tt(
              [],
              t.map(function (t, e) {
                return o.createElement(Ja, {
                  key: "moveable" + e,
                  ref: h(n, "moveables", e),
                  target: t,
                  origin: !1,
                  requestStyles: p,
                  cssStyled: r.cssStyled,
                  customStyledMap: r.customStyledMap,
                  useResizeObserver: r.useResizeObserver,
                  useMutationObserver: r.useMutationObserver,
                  hideChildMoveableDefaultLines: r.hideChildMoveableDefaultLines,
                  parentMoveable: n,
                  parentPosition: [i, a],
                  persistData: c[e],
                  zoom: s,
                });
              }),
              !0
            ),
            Xo(
              u.map(function (t, r) {
                var i = [t.pos1, t.pos2, t.pos3, t.pos4];
                return [
                  [0, 1],
                  [1, 3],
                  [3, 2],
                  [2, 0],
                ].map(function (t, e) {
                  var n = t[0],
                    t = t[1];
                  return Yr(
                    o,
                    "",
                    G(i[n], f),
                    G(i[t], f),
                    s,
                    "group-rect-".concat(r, "-").concat(e)
                  );
                });
              })
            ),
            !0
          )
        );
      },
    },
    ts = Bn("clickable", {
      props: ["clickable"],
      events: ["click", "clickGroup"],
      always: !0,
      dragRelation: "weak",
      dragStart: function () {},
      dragControlStart: function () {},
      dragGroupStart: function (t, e) {
        e.datas.inputTarget = e.inputEvent && e.inputEvent.target;
      },
      dragEnd: function (t, e) {
        var n = t.props.target,
          r = e.inputEvent,
          i = e.inputTarget,
          o = !t.isMoveableElement(i) && t.controlBox.contains(i);
        !r ||
          !i ||
          e.isDrag ||
          t.isMoveableElement(i) ||
          o ||
          ((r = n.contains(i)),
          rt(
            t,
            "onClick",
            nt(t, e, {
              isDouble: e.isDouble,
              inputTarget: i,
              isTarget: n === i,
              moveableTarget: t.props.target,
              containsTarget: r,
            })
          ));
      },
      dragGroupEnd: function (t, e) {
        var n,
          r,
          i,
          o = e.inputEvent,
          a = e.inputTarget;
        o &&
          a &&
          !e.isDrag &&
          !t.isMoveableElement(a) &&
          e.datas.inputTarget !== a &&
          ((r = -1 < (n = (o = t.props.targets).indexOf(a))),
          (i = !1),
          -1 === n &&
            (i =
              -1 <
              (n = ft(o, function (t) {
                return t.contains(a);
              }))),
          rt(
            t,
            "onClickGroup",
            nt(t, e, {
              isDouble: e.isDouble,
              targets: o,
              inputTarget: a,
              targetIndex: n,
              isTarget: r,
              containsTarget: i,
              moveableTarget: o[n],
            })
          ));
      },
      dragControlEnd: function (t, e) {
        this.dragEnd(t, e);
      },
      dragGroupControlEnd: function (t, e) {
        this.dragEnd(t, e);
      },
    });
  function es(t) {
    var e = t.originalDatas.draggable;
    return (
      e || ((t.originalDatas.draggable = {}), (e = t.originalDatas.draggable)),
      Q(Q({}, t), { datas: e })
    );
  }
  var ns = Bn("edgeDraggable", {
      css: [".edge.edgeDraggable.line {\ncursor: move;\n}"],
      render: function (t, e) {
        var n = t.props,
          r = n.edgeDraggable;
        return r ? Xr(e, "edgeDraggable", r, t.getState().renderPoses, n.zoom) : [];
      },
      dragCondition: function (t, e) {
        (t = t.props), (e = null == (e = e.inputEvent) ? void 0 : e.target);
        return (
          !(!t.edgeDraggable || !e) &&
          !t.draggable &&
          T(e, B("direction")) &&
          T(e, B("edge")) &&
          T(e, B("edgeDraggable"))
        );
      },
      dragStart: function (t, e) {
        return U.dragStart(t, es(e));
      },
      drag: function (t, e) {
        return U.drag(t, es(e));
      },
      dragEnd: function (t, e) {
        return U.dragEnd(t, es(e));
      },
      dragGroupCondition: function (t, e) {
        (t = t.props), (e = null == (e = e.inputEvent) ? void 0 : e.target);
        return (
          !(!t.edgeDraggable || !e) &&
          !t.draggable &&
          T(e, B("direction")) &&
          T(e, B("line"))
        );
      },
      dragGroupStart: function (t, e) {
        return U.dragGroupStart(t, es(e));
      },
      dragGroup: function (t, e) {
        return U.dragGroup(t, es(e));
      },
      dragGroupEnd: function (t, e) {
        return U.dragGroupEnd(t, es(e));
      },
      unset: function (t) {
        return U.unset(t);
      },
    }),
    rs = {
      name: "individualGroupable",
      props: ["individualGroupable", "individualGroupableProps"],
      events: [],
    },
    is = [
      Xa,
      va,
      o,
      we,
      U,
      ns,
      Ti,
      t,
      De,
      Wn,
      Me,
      ma,
      Bt,
      Ba,
      Aa,
      Ya,
      Qa,
      rs,
      ts,
      ha,
      qa,
    ],
    o = is.reduce(function (e, t) {
      return (
        (t.events || []).forEach(function (t) {
          St(e, t);
        }),
        e
      );
    }, []),
    we = is.reduce(function (e, t) {
      return (
        (t.props || []).forEach(function (t) {
          St(e, t);
        }),
        e
      );
    }, []);
  function os(t, e) {
    var n = t[0],
      r = t[1],
      t = t[2];
    return (n * e[0] + r * e[1] + t) / Math.sqrt(n * n + r * r);
  }
  function as(t, e) {
    var n = t[0],
      t = t[1];
    return -n * e[0] - t * e[1];
  }
  function ss(t, i) {
    return Math.max.apply(
      Math,
      t.map(function (t) {
        var e = t[0],
          n = t[1],
          r = t[2],
          t = t[3];
        return Math.max(e[i], n[i], r[i], t[i]);
      })
    );
  }
  function us(t, i) {
    return Math.min.apply(
      Math,
      t.map(function (t) {
        var e = t[0],
          n = t[1],
          r = t[2],
          t = t[3];
        return Math.min(e[i], n[i], r[i], t[i]);
      })
    );
  }
  var cs = (function (r) {
      function t() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.differ = new tn()),
          (t.moveables = []),
          (t.transformOrigin = "50% 50%"),
          (t.renderGroupRects = []),
          (t._targetGroups = []),
          (t._hasFirstTargets = !1),
          t
        );
      }
      An(t, r);
      var e = t.prototype;
      return (
        (e.componentDidMount = function () {
          r.prototype.componentDidMount.call(this);
        }),
        (e.checkUpdate = function () {
          (this._isPropTargetChanged = !1), this.updateAbles();
        }),
        (e.getTargets = function () {
          return this.props.targets;
        }),
        (e.updateRect = function (e, t, n) {
          void 0 === n && (n = !0);
          var r,
            S,
            C,
            D,
            w,
            i,
            o,
            a,
            s,
            u,
            c,
            l,
            f,
            p,
            d,
            h,
            g,
            v,
            m = this.state;
          this.controlBox &&
            !m.isPersisted &&
            (Gr(!0),
            this.moveables.forEach(function (t) {
              t.updateRect(e, !1, !1);
            }),
            (v = this.props),
            (o = this.moveables),
            (r = m.target || v.target),
            (l = (function r(i, t) {
              t = t
                .map(function (e) {
                  var t, n;
                  return O(e)
                    ? 1 < (n = (t = r(i, e)).length)
                      ? t
                      : 1 === n
                      ? t[0]
                      : null
                    : (n = _(i, function (t) {
                        return t.manager.props.target === e;
                      }))
                    ? ((n.finded = !0), n.manager)
                    : null;
                })
                .filter(Boolean);
              return 1 === t.length && O(t[0]) ? t[0] : t;
            })(
              (o = o.map(function (t) {
                return { finded: !1, manager: t };
              })),
              (p = this.props.targetGroups || [])
            )),
            (S = v.useDefaultGroupRotate),
            l.push.apply(
              l,
              o
                .filter(function (t) {
                  return !t.finded;
                })
                .map(function (t) {
                  return t.manager;
                })
            ),
            (C = []),
            (D = !t || ("" !== e && v.updateGroup)),
            (w = v.defaultGroupRotate || 0),
            this._hasFirstTargets ||
              (null != (t = null == (o = v.persistData) ? void 0 : o.rotation) &&
                (w = t)),
            (o = (function r(t, i, e) {
              var n,
                o,
                a,
                s,
                u,
                c,
                l,
                f,
                p,
                d,
                h,
                g,
                v,
                m,
                b,
                t = t.map(function (t) {
                  var e, n;
                  return O(t)
                    ? ((n = [(e = r(t, i)).pos1, e.pos2, e.pos3, e.pos4]),
                      C.push(e),
                      { poses: n, rotation: e.rotation })
                    : { poses: zo(t.state), rotation: t.getRotation() };
                }),
                x = t.map(function (t) {
                  return t.rotation;
                }),
                y = 0,
                E = x[0],
                x = x.every(function (t) {
                  return Math.abs(E - t) < 0.1;
                }),
                y = D ? (!S && x ? E : w) : S || e || !x ? i : E,
                e = t.map(function (t) {
                  return t.poses;
                });
              return (
                (x = y),
                (t = [0, 0]),
                (y = [0, 0]),
                (g = [0, 0]),
                (v = [0, 0]),
                (b = m = 0),
                e.length
                  ? ((n = H(x, L)) % 90
                      ? ((p = (n / 180) * Math.PI),
                        (o = Math.tan(p)),
                        (a = -1 / o),
                        (s = [Jn, Qn]),
                        (u = [
                          [0, 0],
                          [0, 0],
                        ]),
                        (c = [Jn, Qn]),
                        (l = [
                          [0, 0],
                          [0, 0],
                        ]),
                        e.forEach(function (t) {
                          t.forEach(function (t) {
                            var e = os([-o, 1, 0], t),
                              n = os([-a, 1, 0], t);
                            e < s[0] && ((u[0] = t), (s[0] = e)),
                              s[1] < e && ((u[1] = t), (s[1] = e)),
                              n < c[0] && ((l[0] = t), (c[0] = n)),
                              c[1] < n && ((l[1] = t), (c[1] = n));
                          });
                        }),
                        (p = [-o, 1, as([-o, 1], u[0])]),
                        (f = [-o, 1, as([-o, 1], u[1])]),
                        (t = (d = [
                          [p, (d = [-a, 1, as([-a, 1], l[0])])],
                          [p, (p = [-a, 1, as([-a, 1], l[1])])],
                          [f, d],
                          [f, p],
                        ].map(function (t) {
                          return gn(t[0], t[1])[0];
                        }))[0]),
                        (y = d[1]),
                        (g = d[2]),
                        (v = d[3]),
                        (m = c[1] - c[0]),
                        (b = s[1] - s[0]))
                      : ((t = [(f = us(e, 0)), (p = us(e, 1))]),
                        (y = [(d = ss(e, 0)), p]),
                        (g = [f, (e = ss(e, 1))]),
                        (v = [d, e]),
                        (m = d - f),
                        (b = e - p),
                        n % 180 &&
                          ((t = (h = [g, t, v, y])[0]),
                          (y = h[1]),
                          (g = h[2]),
                          (v = h[3]),
                          (m = e - p),
                          (b = d - f))),
                    180 < n % 360 &&
                      ((t = (h = [v, g, y, t])[0]), (y = h[1]), (g = h[2]), (v = h[3])),
                    {
                      pos1: t,
                      pos2: y,
                      pos3: g,
                      pos4: v,
                      width: m,
                      height: b,
                      minX: (e = pn([t, y, g, v])).minX,
                      minY: e.minY,
                      maxX: e.maxX,
                      maxY: e.maxY,
                      rotation: x,
                    })
                  : {
                      pos1: t,
                      pos2: y,
                      pos3: g,
                      pos4: v,
                      minX: 0,
                      minY: 0,
                      maxX: 0,
                      maxY: 0,
                      width: m,
                      height: b,
                      rotation: x,
                    }
              );
            })(l, this.rotation, !0)),
            D &&
              ((this.rotation = o.rotation),
              (this.transformOrigin = v.defaultGroupOrigin || "50% 50%"),
              (this.scale = [1, 1])),
            (this._targetGroups = p),
            (this.renderGroupRects = C),
            (t = this.transformOrigin),
            (l = this.rotation),
            (v = this.scale),
            (p = o.width),
            (d = o.height),
            (i = o.minX),
            (o = o.minY),
            (c = [
              [0, 0],
              [p, 0],
              [0, d],
              [p, d],
            ]),
            (a = ea(t, p, d)),
            (s = (this.rotation / 180) * Math.PI),
            (u = (c = c.map(function (t) {
              return G(t, a);
            })).map(function (t) {
              return Ye(t, s);
            })),
            (u = (c = pn(
              {
                prev: c,
                next: u,
                result: u.map(function (t) {
                  return J(t, a);
                }),
              }.result
            )).minX),
            (c = c.minY),
            (l =
              " rotate(".concat(l, "deg)") +
              " scale(".concat(ra(v[0]), ", ").concat(ra(v[1]), ")")),
            (f = "translate(".concat(-u, "px, ").concat(-c, "px)").concat(l)),
            (this.controlBox.style.transform = "translate3d("
              .concat(i, "px, ")
              .concat(o, "px, ")
              .concat(this.props.translateZ || 0, ")")),
            (r.style.cssText +=
              "left:0px;top:0px;" +
              "transform-origin:".concat(t, ";") +
              "width:".concat(p, "px;height:").concat(d, "px;") +
              "transform: ".concat(f)),
            (m.width = p),
            (m.height = d),
            (t = this.getContainer()),
            (p = [
              (f = Za(
                this.controlBox,
                r,
                this.controlBox,
                this.getContainer(),
                this._rootContainer || t,
                []
              )).left,
              f.top,
            ]),
            (g = [
              (g = pn([(d = (m = zo(f))[0]), (t = m[1]), (h = m[2]), (m = m[3])])).minX,
              g.minY,
            ]),
            (v = ra(v[0] * v[1])),
            (f.pos1 = G(d, g)),
            (f.pos2 = G(t, g)),
            (f.pos3 = G(h, g)),
            (f.pos4 = G(m, g)),
            (f.left = i - f.left + g[0]),
            (f.top = o - f.top + g[1]),
            (f.origin = G(J(p, f.origin), g)),
            (f.beforeOrigin = G(J(p, f.beforeOrigin), g)),
            (f.originalBeforeOrigin = J(p, f.originalBeforeOrigin)),
            (f.transformOrigin = G(J(p, f.transformOrigin), g)),
            (r.style.transform =
              "translate(".concat(-u - g[0], "px, ").concat(-c - g[1], "px)") + l),
            Gr(),
            this.updateState(
              Q(Q({}, f), { posDelta: g, direction: v, beforeDirection: v }),
              n
            ));
        }),
        (e.getRect = function () {
          return Q(Q({}, r.prototype.getRect.call(this)), {
            children: this.moveables.map(function (t) {
              return t.getRect();
            }),
          });
        }),
        (e.triggerEvent = function (t, e, n) {
          if (n || -1 < t.indexOf("Group"))
            return r.prototype.triggerEvent.call(this, t, e);
          this._emitter.trigger(t, e);
        }),
        (e.getRequestChildStyles = function () {
          return this.getEnabledAbles().reduce(function (t, e) {
            var n,
              e =
                null != (n = null == (n = e.requestChildStyle) ? void 0 : n.call(e))
                  ? n
                  : [];
            return tt(tt([], t, !0), e, !0);
          }, []);
        }),
        (e.updateAbles = function () {
          r.prototype.updateAbles.call(
            this,
            tt(tt([], this.props.ables, !0), [Qa], !1),
            "Group"
          );
        }),
        (e._updateTargets = function () {
          r.prototype._updateTargets.call(this),
            (this._prevDragTarget = this.props.dragTarget || this.areaElement),
            (this._dragTarget = Zo(this._prevDragTarget, !0));
        }),
        (e._updateEvents = function () {
          var t = this.state,
            e = this.props,
            n = this._prevDragTarget,
            r = e.dragTarget || this.areaElement,
            i = e.targets,
            o = this.differ.update(i),
            a = o.added,
            s = o.changed,
            o = o.removed,
            a = a.length || o.length,
            o =
              ((!a && n === r) ||
                (ko(this, !1), ko(this, !0), this.updateState({ gestos: {} })),
              n !== r && (t.target = null),
              t.target ||
                ((t.target = this.areaElement),
                (this.controlBox.style.display = "block")),
              t.target &&
                (this.targetGesto ||
                  (this.targetGesto = Ha(this, this._dragTarget, "Group")),
                this.controlGesto ||
                  (this.controlGesto = La(
                    this,
                    this.controlBox,
                    "controlAbles",
                    "GroupControl"
                  ))),
              !No(t.container, e.container));
          o && (t.container = e.container),
            (o ||
              a ||
              this.transformOrigin !== (e.defaultGroupOrigin || "50% 50%") ||
              s.length ||
              (i.length &&
                !(function i(t, o) {
                  return (
                    t.length === o.length &&
                    t.every(function (t, e) {
                      var e = o[e],
                        n = O(t),
                        r = O(e);
                      return n && r ? i(t, e) : !n && !r && t === e;
                    })
                  );
                })(this._targetGroups, e.targetGroups || []))) &&
              (this.updateRect(), (this._hasFirstTargets = !0)),
            (this._isPropTargetChanged = !!a);
        }),
        (e._updateObserver = function () {}),
        (t.defaultProps = Q(Q({}, Ja.defaultProps), {
          transformOrigin: ["50%", "50%"],
          groupable: !0,
          dragArea: !0,
          keepRatio: !0,
          targets: [],
          defaultGroupRotate: 0,
          defaultGroupOrigin: "50% 50%",
        })),
        t
      );
    })(Ja),
    ls = (function (e) {
      function t() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (t.moveables = []), t;
      }
      An(t, e);
      var n = t.prototype;
      return (
        (n.render = function () {
          var r = this,
            i = this.props,
            t = i.cspNonce,
            e = i.cssStyled,
            n = i.persistData,
            o = i.targets || [],
            a = o.length,
            s = this.isUnmounted || !a,
            u = null != (n = null == n ? void 0 : n.children) ? n : [];
          return (
            s && !a && u.length
              ? (o = u.map(function () {
                  return null;
                }))
              : s || (u = []),
            se(
              e,
              { cspNonce: t, ref: S(this, "controlBox"), className: B("control-box") },
              o.map(function (t, e) {
                var n =
                  null !=
                  (n =
                    null == (n = i.individualGroupableProps) ? void 0 : n.call(i, t, e))
                    ? n
                    : {};
                return se(
                  Ja,
                  Q({ key: "moveable" + e, ref: h(r, "moveables", e) }, i, n, {
                    target: t,
                    wrapperMoveable: r,
                    isWrapperMounted: r.isMoveableMounted,
                    persistData: u[e],
                  })
                );
              })
            )
          );
        }),
        (n.componentDidMount = function () {}),
        (n.componentDidUpdate = function () {}),
        (n.getTargets = function () {
          return this.props.targets;
        }),
        (n.updateRect = function (e, n, r) {
          void 0 === r && (r = !0),
            Gr(!0),
            this.moveables.forEach(function (t) {
              t.updateRect(e, n, r);
            }),
            Gr();
        }),
        (n.getRect = function () {
          return Q(Q({}, e.prototype.getRect.call(this)), {
            children: this.moveables.map(function (t) {
              return t.getRect();
            }),
          });
        }),
        (n.request = function () {
          return {
            request: function () {
              return this;
            },
            requestEnd: function () {
              return this;
            },
          };
        }),
        (n.dragStart = function () {
          return this;
        }),
        (n.hitTest = function () {
          return 0;
        }),
        (n.isInside = function () {
          return !1;
        }),
        (n.isDragging = function () {
          return !1;
        }),
        (n.updateRenderPoses = function () {}),
        (n.checkUpdate = function () {}),
        (n.triggerEvent = function () {}),
        (n.updateAbles = function () {}),
        (n._updateEvents = function () {}),
        (n._updateObserver = function () {}),
        t
      );
    })(Ja);
  var fs = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return An(e, t), (e.defaultAbles = is), e;
    })(
      (function (e) {
        function t() {
          var t = (null !== e && e.apply(this, arguments)) || this;
          return (
            (t.refTargets = []),
            (t.selectorMap = {}),
            (t._differ = new tn()),
            (t._elementTargets = []),
            (t._onChangeTargets = null),
            t
          );
        }
        An(t, e);
        var n,
          o,
          r = t.prototype;
        return (
          (t.makeStyled = function () {
            var n,
              e = {},
              t =
                (this.getTotalAbles().forEach(function (t) {
                  t = t.css;
                  t &&
                    t.forEach(function (t) {
                      e[t] = !0;
                    });
                }),
                ht(e).join("\n"));
            this.defaultStyled = Gn(
              "div",
              ((n = Un),
              ($n + t).replace(/([^}{]*){/gm, function (t, e) {
                return e.replace(/\.([^{,\s\d.]+)/g, "." + n + "$1") + "{";
              }))
            );
          }),
          (t.getTotalAbles = function () {
            return tt([va, Qa, rs, ha], this.defaultAbles, !0);
          }),
          (r.render = function () {
            var e,
              t = this.constructor,
              n = (t.defaultStyled || t.makeStyled(), this.props),
              r = n.ables,
              i = n.props,
              n = (function (t, e) {
                var n = {};
                for (i in t)
                  Object.prototype.hasOwnProperty.call(t, i) &&
                    e.indexOf(i) < 0 &&
                    (n[i] = t[i]);
                if (null != t && "function" == typeof Object.getOwnPropertySymbols)
                  for (
                    var r = 0, i = Object.getOwnPropertySymbols(t);
                    r < i.length;
                    r++
                  )
                    e.indexOf(i[r]) < 0 &&
                      Object.prototype.propertyIsEnumerable.call(t, i[r]) &&
                      (n[i[r]] = t[i[r]]);
                return n;
              })(n, ["ables", "props"]),
              o = this._updateRefs(!0),
              a = (function e(t, n) {
                var r = [];
                return (
                  t.forEach(function (t) {
                    t &&
                      (x(t)
                        ? n[t] && r.push.apply(r, n[t])
                        : O(t)
                        ? r.push.apply(r, e(t, n))
                        : r.push(t));
                  }),
                  r
                );
              })(o, this.selectorMap),
              s = 1 < a.length,
              r = tt(tt([], t.getTotalAbles(), !0), r || [], !0),
              i = Q(Q(Q({}, n), i || {}), {
                ables: r,
                cssStyled: t.defaultStyled,
                customStyledMap: t.customStyledMap,
              }),
              r = ((this._elementTargets = a), null),
              t = this.moveable,
              u = n.persistData;
            return (
              null != u && u.children && (s = !0),
              n.individualGroupable
                ? se(
                    ls,
                    Q({ key: "individual-group", ref: S(this, "moveable") }, i, {
                      target: null,
                      targets: a,
                    })
                  )
                : s
                ? ((u = (function e(t, n) {
                    var r = [];
                    return (
                      t.forEach(function (t) {
                        t &&
                          (x(t)
                            ? n[t] && r.push.apply(r, n[t])
                            : O(t)
                            ? r.push(e(t, n))
                            : r.push(t));
                      }),
                      r
                    );
                  })(o, this.selectorMap)),
                  !t ||
                    t.props.groupable ||
                    t.props.individualGroupable ||
                    ((s = t.props.target) && -1 < a.indexOf(s) && (r = Q({}, t.state))),
                  se(
                    cs,
                    Q(
                      { key: "group", ref: S(this, "moveable") },
                      i,
                      null != (o = n.groupableProps) ? o : {},
                      { target: null, targets: a, targetGroups: u, firstRenderState: r }
                    )
                  ))
                : ((e = a[0]),
                  t &&
                    (t.props.groupable || t.props.individualGroupable) &&
                    (s = _(t.moveables || [], function (t) {
                      return t.props.target === e;
                    })) &&
                    (r = Q({}, s.state)),
                  se(
                    Ja,
                    Q({ key: "single", ref: S(this, "moveable") }, i, {
                      target: e,
                      firstRenderState: r,
                    })
                  ))
            );
          }),
          (r.componentDidMount = function () {
            this._checkChangeTargets(), this._updateRefs();
          }),
          (r.componentDidUpdate = function () {
            this._checkChangeTargets();
          }),
          (r.componentWillUnmount = function () {
            (this.selectorMap = {}), (this.refTargets = []);
          }),
          (r.getTargets = function () {
            var t;
            return null != (t = null == (t = this.moveable) ? void 0 : t.getTargets())
              ? t
              : [];
          }),
          (r.updateSelectors = function () {
            (this.selectorMap = {}), this._updateRefs();
          }),
          (r.waitToChangeTarget = function () {
            var e,
              t = this;
            return (
              (this._onChangeTargets = function () {
                (t._onChangeTargets = null), e();
              }),
              new Promise(function (t) {
                e = t;
              })
            );
          }),
          (r.waitToChangeTargets = function () {
            return this.waitToChangeTarget();
          }),
          (r.getManager = function () {
            return this.moveable;
          }),
          (r._updateRefs = function (t) {
            var e = this.refTargets,
              n = Ko(this.props.target || this.props.targets),
              r = "undefined" != typeof document,
              i = (function n(t, r) {
                return (
                  t.length !== r.length ||
                  t.some(function (t, e) {
                    return (
                      (e = r[e]), !(!t && !e) && t != e && (!O(t) || !O(e) || n(t, e))
                    );
                  })
                );
              })(e, n),
              o = this.selectorMap,
              a = {};
            return (
              this.refTargets.forEach(function t(e) {
                x(e)
                  ? o[e]
                    ? (a[e] = o[e])
                    : r &&
                      ((i = !0), (a[e] = [].slice.call(document.querySelectorAll(e))))
                  : O(e) && e.forEach(t);
              }),
              (this.refTargets = n),
              (this.selectorMap = a),
              !t && i && this.forceUpdate(),
              n
            );
          }),
          (r._checkChangeTargets = function () {
            var t = this._differ.update(this._elementTargets),
              e = t.added,
              t = t.removed;
            (e.length || t.length) &&
              (null != (t = (e = this.props).onChangeTargets) &&
                t.call(e, { moveable: this.moveable, targets: this._elementTargets }),
              null != (t = this._onChangeTargets)) &&
              t.call(this),
              this._updateRefs();
          }),
          (t.defaultAbles = []),
          (t.customStyledMap = {}),
          (t.defaultStyled = null),
          (function (t, e, n, r) {
            var i,
              o = arguments.length,
              a =
                o < 3
                  ? e
                  : null === r
                  ? (r = Object.getOwnPropertyDescriptor(e, n))
                  : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
              a = Reflect.decorate(t, e, n, r);
            else
              for (var s = t.length - 1; 0 <= s; s--)
                (i = t[s]) && (a = (o < 3 ? i(a) : 3 < o ? i(e, n, a) : i(e, n)) || a);
            3 < o && a && Object.defineProperty(e, n, a);
          })(
            [
              ((n = rr),
              void 0 === o && (o = {}),
              function (e, i) {
                n.forEach(function (r) {
                  var t = o[r] || r;
                  t in e ||
                    (e[t] = function () {
                      for (var t = [], e = 0; e < arguments.length; e++)
                        t[e] = arguments[e];
                      var n = (n = this[i])[r].apply(n, t);
                      return n === this[i] ? this : n;
                    });
                });
              }),
            ],
            t.prototype,
            "moveable",
            void 0
          ),
          t
        );
      })(ee)
    ),
    ps = (function (e) {
      function t(t) {
        t = e.call(this, t) || this;
        return (t.state = {}), (t.state = t.props), t;
      }
      return (
        s(t, e),
        (t.prototype.render = function () {
          return se(fs, u({ ref: S(this, "moveable") }, this.state));
        }),
        t
      );
    })(te),
    ds = we,
    hs = rr,
    gs = o,
    vs = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return s(e, t), e;
    })(
      (function (a) {
        function t(t, e) {
          void 0 === e && (e = {});
          var n,
            r = a.call(this) || this,
            i =
              ((r.containerProvider = null),
              (r.selfElement = null),
              (r._warp = !1),
              u({}, e)),
            o = {},
            e =
              (gs.forEach(function (e) {
                o[
                  "on ".concat(e).replace(/[\s-_]+([^\s-_])/g, function (t, e) {
                    return e.toUpperCase();
                  })
                ] = function (t) {
                  return r.trigger(e, t);
                };
              }),
              e.warpSelf
                ? (delete e.warpSelf, (r._warp = !0), (n = t))
                : ((n = wt(t).createElement("div")), t.appendChild(n)),
              (r.containerProvider = pe(
                se(ps, u({ ref: S(r, "innerMoveable") }, i, o)),
                n
              )),
              (r.selfElement = n),
              i.target);
          return O(e) && 1 < e.length && r.updateRect(), r;
        }
        s(t, a);
        var e = t.prototype;
        return (
          (e.setState = function (t, e) {
            this.innerMoveable.setState(t, e);
          }),
          (e.forceUpdate = function (t) {
            this.innerMoveable.forceUpdate(t);
          }),
          (e.dragStart = function (t) {
            this.innerMoveable.$_timer && this.forceUpdate(),
              this.getMoveable().dragStart(t);
          }),
          (e.destroy = function () {
            var t,
              e = this.selfElement;
            pe(null, e, this.containerProvider),
              this._warp ||
                (null != (t = null == e ? void 0 : e.parentElement) &&
                  t.removeChild(e)),
              (this.containerProvider = null),
              this.off(),
              (this.selfElement = null),
              (this.innerMoveable = null);
          }),
          (e.getMoveable = function () {
            return this.innerMoveable.moveable;
          }),
          (function (t, e, n, r) {
            var i,
              o = arguments.length,
              a =
                o < 3
                  ? e
                  : null === r
                  ? (r = Object.getOwnPropertyDescriptor(e, n))
                  : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
              a = Reflect.decorate(t, e, n, r);
            else
              for (var s = t.length - 1; 0 <= s; s--)
                (i = t[s]) && (a = (o < 3 ? i(a) : 3 < o ? i(e, n, a) : i(e, n)) || a);
            return 3 < o && a && Object.defineProperty(e, n, a), a;
          })(
            [
              c(hs, function (t, r) {
                t[r] ||
                  (t[r] = function () {
                    for (var t = [], e = 0; e < arguments.length; e++)
                      t[e] = arguments[e];
                    var n = this.getMoveable();
                    if (n && n[r]) return n[r].apply(n, t);
                  });
              }),
              c(ds, function (t, n) {
                Object.defineProperty(t, n, {
                  get: function () {
                    return this.getMoveable().props[n];
                  },
                  set: function (t) {
                    var e;
                    this.setState((((e = {})[n] = t), e));
                  },
                  enumerable: !0,
                  configurable: !0,
                });
              }),
            ],
            t
          )
        );
      })(nn)
    );
  var ms,
    bs = {
      __proto__: null,
      default: vs,
      PROPERTIES: ds,
      METHODS: hs,
      EVENTS: gs,
      getElementInfo: function (t, e, n) {
        return $a(t, (t = e), (e = void 0 === (e = n) ? t : e), !0);
      },
      makeAble: Bn,
    };
  for (ms in bs) vs[ms] = bs[ms];
  return vs;
});
//# sourceMappingURL=moveable.min.js.map
